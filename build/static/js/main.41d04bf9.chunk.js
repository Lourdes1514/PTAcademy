/*! For license information please see main.41d04bf9.chunk.js.LICENSE.txt */
(this.webpackJsonpmodelo=this.webpackJsonpmodelo||[]).push([[0],{108:function(e,t,o){var n,i,s;i=[o(17)],void 0===(s="function"===typeof(n=function(e){return(e={Msg:{}}).Msg.ADD_COMMENT="Add Comment",e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",e.Msg.CHANGE_VALUE_TITLE="Change value:",e.Msg.CLEAN_UP="Clean up Blocks",e.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",e.Msg.COLLAPSE_ALL="Collapse Blocks",e.Msg.COLLAPSE_BLOCK="Collapse Block",e.Msg.COLOUR_BLEND_COLOUR1="colour 1",e.Msg.COLOUR_BLEND_COLOUR2="colour 2",e.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",e.Msg.COLOUR_BLEND_RATIO="ratio",e.Msg.COLOUR_BLEND_TITLE="blend",e.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",e.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",e.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",e.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",e.Msg.COLOUR_RANDOM_TITLE="random colour",e.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",e.Msg.COLOUR_RGB_BLUE="blue",e.Msg.COLOUR_RGB_GREEN="green",e.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",e.Msg.COLOUR_RGB_RED="red",e.Msg.COLOUR_RGB_TITLE="colour with",e.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",e.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",e.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",e.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",e.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",e.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",e.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3",e.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",e.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",e.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",e.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",e.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",e.Msg.CONTROLS_IF_MSG_ELSE="else",e.Msg.CONTROLS_IF_MSG_ELSEIF="else if",e.Msg.CONTROLS_IF_MSG_IF="if",e.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",e.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",e.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",e.Msg.CONTROLS_REPEAT_INPUT_DO="do",e.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",e.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",e.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",e.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",e.Msg.DELETE_BLOCK="Delete Block",e.Msg.DELETE_VARIABLE="Delete the '%1' variable",e.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",e.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",e.Msg.DISABLE_BLOCK="Disable Block",e.Msg.DUPLICATE_BLOCK="Duplicate",e.Msg.DUPLICATE_COMMENT="Duplicate Comment",e.Msg.ENABLE_BLOCK="Enable Block",e.Msg.EXPAND_ALL="Expand Blocks",e.Msg.EXPAND_BLOCK="Expand Block",e.Msg.EXTERNAL_INPUTS="External Inputs",e.Msg.HELP="Help",e.Msg.INLINE_INPUTS="Inline Inputs",e.Msg.IOS_CANCEL="Cancel",e.Msg.IOS_ERROR="Error",e.Msg.IOS_OK="OK",e.Msg.IOS_PROCEDURES_ADD_INPUT="+ Add Input",e.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements",e.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.",e.Msg.IOS_PROCEDURES_INPUTS="INPUTS",e.Msg.IOS_VARIABLES_ADD_BUTTON="Add",e.Msg.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable",e.Msg.IOS_VARIABLES_DELETE_BUTTON="Delete",e.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.",e.Msg.IOS_VARIABLES_RENAME_BUTTON="Rename",e.Msg.IOS_VARIABLES_VARIABLE_NAME="Variable name",e.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",e.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",e.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",e.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",e.Msg.LISTS_GET_INDEX_FIRST="first",e.Msg.LISTS_GET_INDEX_FROM_END="# from end",e.Msg.LISTS_GET_INDEX_FROM_START="#",e.Msg.LISTS_GET_INDEX_GET="get",e.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",e.Msg.LISTS_GET_INDEX_LAST="last",e.Msg.LISTS_GET_INDEX_RANDOM="random",e.Msg.LISTS_GET_INDEX_REMOVE="remove",e.Msg.LISTS_GET_INDEX_TAIL="",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",e.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",e.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",e.Msg.LISTS_GET_SUBLIST_END_LAST="to last",e.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",e.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",e.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",e.Msg.LISTS_GET_SUBLIST_TAIL="",e.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",e.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",e.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",e.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",e.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",e.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",e.Msg.LISTS_INLIST="in list",e.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",e.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",e.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg.LISTS_LENGTH_TITLE="length of %1",e.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",e.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",e.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",e.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",e.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",e.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg.LISTS_SET_INDEX_INPUT_TO="as",e.Msg.LISTS_SET_INDEX_INSERT="insert at",e.Msg.LISTS_SET_INDEX_SET="set",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",e.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",e.Msg.LISTS_SORT_ORDER_DESCENDING="descending",e.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",e.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",e.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",e.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",e.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",e.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",e.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",e.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",e.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",e.Msg.LOGIC_BOOLEAN_FALSE="false",e.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",e.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",e.Msg.LOGIC_BOOLEAN_TRUE="true",e.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",e.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",e.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",e.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",e.Msg.LOGIC_NEGATE_TITLE="not %1",e.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",e.Msg.LOGIC_NULL="null",e.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",e.Msg.LOGIC_NULL_TOOLTIP="Returns null.",e.Msg.LOGIC_OPERATION_AND="and",e.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",e.Msg.LOGIC_OPERATION_OR="or",e.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",e.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",e.Msg.LOGIC_TERNARY_CONDITION="test",e.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",e.Msg.LOGIC_TERNARY_IF_FALSE="if false",e.Msg.LOGIC_TERNARY_IF_TRUE="if true",e.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",e.Msg.MATH_ADDITION_SYMBOL="+",e.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",e.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",e.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",e.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",e.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",e.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",e.Msg.MATH_CHANGE_TITLE="change %1 by %2",e.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",e.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",e.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\xbd) (0.707\u2026), or \u221e (infinity).",e.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",e.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",e.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",e.Msg.MATH_DIVISION_SYMBOL="\xf7",e.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",e.Msg.MATH_IS_EVEN="is even",e.Msg.MATH_IS_NEGATIVE="is negative",e.Msg.MATH_IS_ODD="is odd",e.Msg.MATH_IS_POSITIVE="is positive",e.Msg.MATH_IS_PRIME="is prime",e.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",e.Msg.MATH_IS_WHOLE="is whole",e.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",e.Msg.MATH_MODULO_TITLE="remainder of %1 \xf7 %2",e.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",e.Msg.MATH_MULTIPLICATION_SYMBOL="\xd7",e.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",e.Msg.MATH_NUMBER_TOOLTIP="A number.",e.Msg.MATH_ONLIST_HELPURL="",e.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",e.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",e.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",e.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",e.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",e.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",e.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",e.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",e.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",e.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",e.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",e.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",e.Msg.MATH_POWER_SYMBOL="^",e.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",e.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",e.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",e.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",e.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",e.Msg.MATH_ROUND_OPERATOR_ROUND="round",e.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",e.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",e.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",e.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",e.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",e.Msg.MATH_SINGLE_OP_ROOT="square root",e.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",e.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",e.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",e.Msg.MATH_SUBTRACTION_SYMBOL="-",e.Msg.MATH_TRIG_ACOS="acos",e.Msg.MATH_TRIG_ASIN="asin",e.Msg.MATH_TRIG_ATAN="atan",e.Msg.MATH_TRIG_COS="cos",e.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",e.Msg.MATH_TRIG_SIN="sin",e.Msg.MATH_TRIG_TAN="tan",e.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",e.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",e.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",e.Msg.NEW_NUMBER_VARIABLE="Create number variable...",e.Msg.NEW_STRING_VARIABLE="Create string variable...",e.Msg.NEW_VARIABLE="Create variable...",e.Msg.NEW_VARIABLE_TITLE="New variable name:",e.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",e.Msg.ORDINAL_NUMBER_SUFFIX="",e.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",e.Msg.PROCEDURES_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",e.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",e.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CREATE_DO="Create '%1'",e.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",e.Msg.PROCEDURES_DEFNORETURN_DO="",e.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",e.Msg.PROCEDURES_DEFNORETURN_TITLE="to",e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",e.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFRETURN_RETURN="return",e.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",e.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",e.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",e.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",e.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",e.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",e.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",e.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",e.Msg.REDO="Redo",e.Msg.REMOVE_COMMENT="Remove Comment",e.Msg.RENAME_VARIABLE="Rename variable...",e.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",e.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_APPEND_TITLE="to %1 append text %2",e.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",e.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",e.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",e.Msg.TEXT_CHARAT_FIRST="get first letter",e.Msg.TEXT_CHARAT_FROM_END="get letter # from end",e.Msg.TEXT_CHARAT_FROM_START="get letter #",e.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg.TEXT_CHARAT_LAST="get last letter",e.Msg.TEXT_CHARAT_RANDOM="get random letter",e.Msg.TEXT_CHARAT_TAIL="",e.Msg.TEXT_CHARAT_TITLE="in text %1 %2",e.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",e.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",e.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",e.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",e.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",e.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",e.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",e.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",e.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",e.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",e.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",e.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",e.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",e.Msg.TEXT_GET_SUBSTRING_TAIL="",e.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",e.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",e.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",e.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",e.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",e.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",e.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",e.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",e.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",e.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_LENGTH_TITLE="length of %1",e.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",e.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg.TEXT_PRINT_TITLE="print %1",e.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",e.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",e.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",e.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",e.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",e.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",e.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",e.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",e.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",e.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",e.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",e.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",e.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",e.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",e.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",e.Msg.TODAY="Today",e.Msg.UNDO="Undo",e.Msg.UNNAMED_KEY="unnamed",e.Msg.VARIABLES_DEFAULT_NAME="item",e.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",e.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",e.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",e.Msg.VARIABLES_SET="set %1 to %2",e.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",e.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",e.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",e.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",e.Msg.CONTROLS_FOREACH_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_FOR_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=e.Msg.CONTROLS_IF_MSG_ELSEIF,e.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=e.Msg.CONTROLS_IF_MSG_ELSE,e.Msg.CONTROLS_IF_IF_TITLE_IF=e.Msg.CONTROLS_IF_MSG_IF,e.Msg.CONTROLS_IF_MSG_THEN=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.LISTS_CREATE_WITH_ITEM_TITLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.LISTS_GET_INDEX_HELPURL=e.Msg.LISTS_INDEX_OF_HELPURL,e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.MATH_CHANGE_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.PROCEDURES_DEFRETURN_COMMENT=e.Msg.PROCEDURES_DEFNORETURN_COMMENT,e.Msg.PROCEDURES_DEFRETURN_DO=e.Msg.PROCEDURES_DEFNORETURN_DO,e.Msg.PROCEDURES_DEFRETURN_PROCEDURE=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,e.Msg.PROCEDURES_DEFRETURN_TITLE=e.Msg.PROCEDURES_DEFNORETURN_TITLE,e.Msg.TEXT_APPEND_VARIABLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.CONTROLS_WHILE="while %1",e.Msg.CONTROLS_WHILE_DO="do",e.Msg.ROMPER="true",e.Msg.MATH_CAST_NUMBER_INT="int",e.Msg.MATH_CAST_NUMBER_UNSIGNED_INT="unsigned int",e.Msg.MATH_CAST_NUMBER_BYTE="byte",e.Msg.MATH_CAST_NUMBER_WORD="word",e.Msg.MATH_CAST_NUMBER_LONG="long",e.Msg.MATH_CAST_NUMBER_UNSIDNED_LONG="unsigned long",e.Msg.MATH_CAST_NUMBER_FLOAT="float",e.Msg.MATH_CAST_NUMBER_DOUBLE="double",e.Msg.MATH_CAST_NUMBER_CHAR="char",e.Msg.CAST_NUMBER="Type cast",e.Msg.MATH_POW="Pow Base %1 Exponent %2",e.Msg.MATH_RANDOM_MAX="Random  MAX %1 MIN %2",e.Msg.CONTROLS_VACIO=" ",e.Msg.CONTROLS_SETUP="Setup",e.Msg.COMMENTOUT="Comment out",e.Msg.CONTROLS_HUECO=" ",e.Msg.MATH_HUE="230",e.Msg.LOOPS_HUE="120",e.Msg.LISTS_HUE="260",e.Msg.LOGIC_HUE="210",e.Msg.VARIABLES_HUE="330",e.Msg.TEXTS_HUE="160",e.Msg.PROCEDURES_HUE="290",e.Msg.COLOUR_HUE="20",e.Msg.VARIABLES_DYNAMIC_HUE="310",e.Msg})?n.apply(t,i):n)||(e.exports=s)},116:function(e,t,o){var n,i,s;i=[o(306)],void 0===(s="function"===typeof(n=function(e){"use strict";return e})?n.apply(t,i):n)||(e.exports=s)},119:function(e,t,o){e.exports=o.p+"static/media/playvr.034fa15e.webp"},121:function(e,t,o){e.exports=o.p+"static/media/openEyes.fccaa932.svg"},122:function(e,t,o){e.exports=o.p+"static/media/closeEyes.57991d0d.svg"},152:function(e,t){},153:function(e,t,o){var n,i,s;i=[o(17)],void 0===(s="function"===typeof(n=function(e){return e.Blocks={},e.Blocks.colour={},e.Constants={},e.Constants.Colour={},e.Constants.Colour.HUE=20,e.defineBlocksWithJsonArray([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),e.Blocks.lists={},e.Constants.Lists={},e.Constants.Lists.HUE=260,e.defineBlocksWithJsonArray([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),e.Blocks.lists_create_with={init:function(){this.setHelpUrl(e.Msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new e.Mutator(["lists_create_with_item"])),this.setTooltip(e.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("items",this.itemCount_),t},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},decompose:function(e){var t=e.newBlock("lists_create_with_container");t.initSvg();for(var o=t.getInput("STACK").connection,n=0;n<this.itemCount_;n++){var i=e.newBlock("lists_create_with_item");i.initSvg(),o.connect(i.previousConnection),o=i.nextConnection}return t},compose:function(t){var o=t.getInputTargetBlock("STACK");for(t=[];o;)t.push(o.valueConnection_),o=o.nextConnection&&o.nextConnection.targetBlock();for(o=0;o<this.itemCount_;o++){var n=this.getInput("ADD"+o).connection.targetConnection;n&&-1==t.indexOf(n)&&n.disconnect()}for(this.itemCount_=t.length,this.updateShape_(),o=0;o<this.itemCount_;o++)e.Mutator.reconnect(t[o],this,"ADD"+o)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0;e;){var o=this.getInput("ADD"+t);e.valueConnection_=o&&o.connection.targetConnection,t++,e=e.nextConnection&&e.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(e.Msg.LISTS_CREATE_EMPTY_TITLE);for(var t=0;t<this.itemCount_;t++)if(!this.getInput("ADD"+t)){var o=this.appendValueInput("ADD"+t);0==t&&o.appendField(e.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(;this.getInput("ADD"+t);)this.removeInput("ADD"+t),t++}},e.Blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},e.Blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},e.Blocks.lists_indexOf={init:function(){var t=[[e.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[e.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(e.Msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new e.FieldDropdown(t),"END"),this.setInputsInline(!0);var o=this;this.setTooltip((function(){return e.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",o.workspace.options.oneBasedIndex?"0":"-1")}))}},e.Blocks.lists_getIndex={init:function(){var t=[[e.Msg.LISTS_GET_INDEX_GET,"GET"],[e.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[e.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[e.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),t=new e.FieldDropdown(t,(function(e){e="REMOVE"==e,this.getSourceBlock().updateStatement_(e)})),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(t,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),e.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var o=this;this.setTooltip((function(){var t=o.getFieldValue("MODE"),n=o.getFieldValue("WHERE"),i="";switch(t+" "+n){case"GET FROM_START":case"GET FROM_END":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return"FROM_START"!=n&&"FROM_END"!=n||(i+="  "+("FROM_START"==n?e.Msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",o.workspace.options.oneBasedIndex?"#1":"#0")),i}))},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");t.setAttribute("statement",!this.outputConnection);var o=this.getInput("AT").type==e.INPUT_VALUE;return t.setAttribute("at",o),t},domToMutation:function(e){var t="true"==e.getAttribute("statement");this.updateStatement_(t),e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateStatement_:function(e){e!=!this.outputConnection&&(this.unplug(!0,!0),e?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(t){this.removeInput("AT"),this.removeInput("ORDINAL",!0),t?(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var o=new e.FieldDropdown(this.WHERE_OPTIONS,(function(e){var o="FROM_START"==e||"FROM_END"==e;if(o!=t){var n=this.getSourceBlock();return n.updateAt_(o),n.setFieldValue(e,"WHERE"),null}}));this.getInput("AT").appendField(o,"WHERE"),e.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},e.Blocks.lists_setIndex={init:function(){var t=[[e.Msg.LISTS_SET_INDEX_SET,"SET"],[e.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[e.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new e.FieldDropdown(t),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(e.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var o=this;this.setTooltip((function(){var t=o.getFieldValue("MODE"),n=o.getFieldValue("WHERE"),i="";switch(t+" "+n){case"SET FROM_START":case"SET FROM_END":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return"FROM_START"!=n&&"FROM_END"!=n||(i+="  "+e.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",o.workspace.options.oneBasedIndex?"#1":"#0")),i}))},mutationToDom:function(){var t=e.utils.xml.createElement("mutation"),o=this.getInput("AT").type==e.INPUT_VALUE;return t.setAttribute("at",o),t},domToMutation:function(e){e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(t){this.removeInput("AT"),this.removeInput("ORDINAL",!0),t?(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var o=new e.FieldDropdown(this.WHERE_OPTIONS,(function(e){var o="FROM_START"==e||"FROM_END"==e;if(o!=t){var n=this.getSourceBlock();return n.updateAt_(o),n.setFieldValue(e,"WHERE"),null}}));this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(o,"WHERE")}},e.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[e.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(e.Msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var t=e.utils.xml.createElement("mutation"),o=this.getInput("AT1").type==e.INPUT_VALUE;return t.setAttribute("at1",o),o=this.getInput("AT2").type==e.INPUT_VALUE,t.setAttribute("at2",o),t},domToMutation:function(e){var t="true"==e.getAttribute("at1");e="true"==e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(t,o){this.removeInput("AT"+t),this.removeInput("ORDINAL"+t,!0),o?(this.appendValueInput("AT"+t).setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+t).appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+t);var n=new e.FieldDropdown(this["WHERE_OPTIONS_"+t],(function(e){var n="FROM_START"==e||"FROM_END"==e;if(n!=o){var i=this.getSourceBlock();return i.updateAt_(t,n),i.setFieldValue(e,"WHERE"+t),null}}));this.getInput("AT"+t).appendField(n,"WHERE"+t),1==t&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),e.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},e.Blocks.lists_sort={init:function(){this.jsonInit({message0:e.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[e.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[e.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[e.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[e.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[e.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:e.Msg.LISTS_SORT_TOOLTIP,helpUrl:e.Msg.LISTS_SORT_HELPURL})}},e.Blocks.lists_split={init:function(){var t=this,o=new e.FieldDropdown([[e.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[e.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],(function(e){t.updateType_(e)}));this.setHelpUrl(e.Msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(o,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(e.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip((function(){var o=t.getFieldValue("MODE");if("SPLIT"==o)return e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==o)return e.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+o)}))},updateType_:function(e){if(this.getFieldValue("MODE")!=e){var t=this.getInput("INPUT").connection;t.setShadowDom(null);var o=t.targetBlock();o&&(t.disconnect(),o.isShadow()?o.dispose():this.bumpNeighbours())}"SPLIT"==e?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("mode",this.getFieldValue("MODE")),t},domToMutation:function(e){this.updateType_(e.getAttribute("mode"))}},e.Blocks.logic={},e.Constants.Logic={},e.Constants.Logic.HUE=210,e.defineBlocksWithJsonArray([]),e.defineBlocksWithJsonArray([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),e.Constants.Logic.TOOLTIPS_BY_OP={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"},e.Extensions.register("logic_op_tooltip",e.Extensions.buildTooltipForDropdown("OP",e.Constants.Logic.TOOLTIPS_BY_OP)),e.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN={elseifCount_:0,elseCount_:0,suppressPrefixSuffix:!0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var t=e.utils.xml.createElement("mutation");return this.elseifCount_&&t.setAttribute("elseif",this.elseifCount_),this.elseCount_&&t.setAttribute("else",1),t},domToMutation:function(e){this.elseifCount_=parseInt(e.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(e.getAttribute("else"),10)||0,this.rebuildShape_()},decompose:function(e){var t=e.newBlock("controls_if_if");t.initSvg();for(var o=t.nextConnection,n=1;n<=this.elseifCount_;n++){var i=e.newBlock("controls_if_elseif");i.initSvg(),o.connect(i.previousConnection),o=i.nextConnection}return this.elseCount_&&((e=e.newBlock("controls_if_else")).initSvg(),o.connect(e.previousConnection)),t},compose:function(e){e=e.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;for(var t=[null],o=[null],n=null;e;){switch(e.type){case"controls_if_elseif":this.elseifCount_++,t.push(e.valueConnection_),o.push(e.statementConnection_);break;case"controls_if_else":this.elseCount_++,n=e.statementConnection_;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.nextConnection&&e.nextConnection.targetBlock()}this.updateShape_(),this.reconnectChildBlocks_(t,o,n)},saveConnections:function(e){e=e.nextConnection.targetBlock();for(var t=1;e;){switch(e.type){case"controls_if_elseif":var o=this.getInput("IF"+t),n=this.getInput("DO"+t);e.valueConnection_=o&&o.connection.targetConnection,e.statementConnection_=n&&n.connection.targetConnection,t++;break;case"controls_if_else":n=this.getInput("ELSE"),e.statementConnection_=n&&n.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.nextConnection&&e.nextConnection.targetBlock()}},rebuildShape_:function(){var e=[null],t=[null],o=null;this.getInput("ELSE")&&(o=this.getInput("ELSE").connection.targetConnection);for(var n=1;this.getInput("IF"+n);){var i=this.getInput("IF"+n),s=this.getInput("DO"+n);e.push(i.connection.targetConnection),t.push(s.connection.targetConnection),n++}this.updateShape_(),this.reconnectChildBlocks_(e,t,o)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var t=1;this.getInput("IF"+t);)this.removeInput("IF"+t),this.removeInput("DO"+t),t++;for(t=1;t<=this.elseifCount_;t++)this.appendValueInput("IF"+t).setCheck("Boolean").appendField(e.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+t).appendField(e.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(e.Msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(t,o,n){for(var i=1;i<=this.elseifCount_;i++)e.Mutator.reconnect(t[i],this,"IF"+i),e.Mutator.reconnect(o[i],this,"DO"+i);e.Mutator.reconnect(n,this,"ELSE")}},e.Extensions.registerMutator("controls_if_mutator",e.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN,null,["controls_if_elseif","controls_if_else"]),e.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION=function(){this.setTooltip(function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_4:"":e.Msg.CONTROLS_IF_TOOLTIP_1}.bind(this))},e.Extensions.register("controls_if_tooltip",e.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION),e.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN={onchange:function(t){this.prevBlocks_||(this.prevBlocks_=[null,null]);var o=this.getInputTargetBlock("A"),n=this.getInputTargetBlock("B");o&&n&&!o.outputConnection.checkType_(n.outputConnection)&&(e.Events.setGroup(t.group),(t=this.prevBlocks_[0])!==o&&(o.unplug(),t&&!t.isShadow()&&this.getInput("A").connection.connect(t.outputConnection)),(o=this.prevBlocks_[1])!==n&&(n.unplug(),o&&!o.isShadow()&&this.getInput("B").connection.connect(o.outputConnection)),this.bumpNeighbours(),e.Events.setGroup(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},e.Constants.Logic.LOGIC_COMPARE_EXTENSION=function(){this.mixin(e.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN)},e.Extensions.register("logic_compare",e.Constants.Logic.LOGIC_COMPARE_EXTENSION),e.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN={prevParentConnection_:null,onchange:function(t){var o=this.getInputTargetBlock("THEN"),n=this.getInputTargetBlock("ELSE"),i=this.outputConnection.targetConnection;if((o||n)&&i)for(var s=0;2>s;s++){var a=1==s?o:n;a&&!a.outputConnection.checkType_(i)&&(e.Events.setGroup(t.group),i===this.prevParentConnection_?(this.unplug(),i.getSourceBlock().bumpNeighbours()):(a.unplug(),a.bumpNeighbours()),e.Events.setGroup(!1))}this.prevParentConnection_=i}},e.Extensions.registerMixin("logic_ternary",e.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN),e.Blocks.loops={},e.Constants.Loops={},e.Constants.Loops.HUE=120,e.defineBlocksWithJsonArray([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_while",message0:"%{BKY_CONTROLS_WHILE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_WHILE_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks"},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),e.Constants.Loops.WHILE_UNTIL_TOOLTIPS={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"},e.Extensions.register("controls_whileUntil_tooltip",e.Extensions.buildTooltipForDropdown("MODE",e.Constants.Loops.WHILE_UNTIL_TOOLTIPS)),e.Constants.Loops.BREAK_CONTINUE_TOOLTIPS={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"},e.Extensions.register("controls_flow_tooltip",e.Extensions.buildTooltipForDropdown("FLOW",e.Constants.Loops.BREAK_CONTINUE_TOOLTIPS)),e.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN={customContextMenu:function(t){if(!this.isInFlyout){var o=this.getField("VAR").getVariable(),n=o.name;if(!this.isCollapsed()&&null!=n){var i={enabled:!0};i.text=e.Msg.VARIABLES_SET_CREATE_GET.replace("%1",n),o=e.Variables.generateVariableFieldDom(o),(n=e.utils.xml.createElement("block")).setAttribute("type","variables_get"),n.appendChild(o),i.callback=e.ContextMenu.callbackFactory(this,n),t.push(i)}}}},e.Extensions.registerMixin("contextMenu_newGetVariableBlock",e.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN),e.Extensions.register("controls_for_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),e.Extensions.register("controls_forEach_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN={LOOP_TYPES:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],suppressPrefixSuffix:!0,getSurroundLoop:function(t){do{if(-1!=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.LOOP_TYPES.indexOf(t.type))return t;t=t.getSurroundParent()}while(t);return null},onchange:function(t){this.workspace.isDragging&&!this.workspace.isDragging()&&(e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(this)?(this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1)))}},e.Extensions.registerMixin("controls_flow_in_loop_check",e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN),e.Blocks.math={},e.Constants.Math={},e.Constants.Math.HUE=230,e.defineBlocksWithJsonArray([]),e.Constants.Math.TOOLTIPS_BY_OP={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"},e.Extensions.register("math_op_tooltip",e.Extensions.buildTooltipForDropdown("OP",e.Constants.Math.TOOLTIPS_BY_OP)),e.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN={mutationToDom:function(){var t=e.utils.xml.createElement("mutation"),o="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");return t.setAttribute("divisor_input",o),t},domToMutation:function(e){e="true"==e.getAttribute("divisor_input"),this.updateShape_(e)},updateShape_:function(e){var t=this.getInput("DIVISOR");e?t||this.appendValueInput("DIVISOR").setCheck("Number"):t&&this.removeInput("DIVISOR")}},e.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION=function(){this.getField("PROPERTY").setValidator((function(e){e="DIVISIBLE_BY"==e,this.getSourceBlock().updateShape_(e)}))},e.Extensions.registerMutator("math_is_divisibleby_mutator",e.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN,e.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION),e.Extensions.register("math_change_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}","VAR")),e.Constants.Math.LIST_MODES_MUTATOR_MIXIN={updateType_:function(e){"MODE"==e?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("op",this.getFieldValue("OP")),t},domToMutation:function(e){this.updateType_(e.getAttribute("op"))}},e.Constants.Math.LIST_MODES_MUTATOR_EXTENSION=function(){this.getField("OP").setValidator(function(e){this.updateType_(e)}.bind(this))},e.Extensions.registerMutator("math_modes_of_list_mutator",e.Constants.Math.LIST_MODES_MUTATOR_MIXIN,e.Constants.Math.LIST_MODES_MUTATOR_EXTENSION),e.Blocks.procedures={},e.Blocks.procedures_defnoreturn={init:function(){var t=new e.FieldTextInput("",e.Procedures.rename);t.setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(t,"NAME").appendField("","PARAMS"),this.setMutator(new e.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(e.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:function(t){this.hasStatements_!==t&&(t?(this.appendStatementInput("STACK").appendField(e.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=t)},updateParams_:function(){var t="";this.arguments_.length&&(t=e.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),e.Events.disable();try{this.setFieldValue(t,"PARAMS")}finally{e.Events.enable()}},mutationToDom:function(t){var o=e.utils.xml.createElement("mutation");t&&o.setAttribute("name",this.getFieldValue("NAME"));for(var n=0;n<this.argumentVarModels_.length;n++){var i=e.utils.xml.createElement("arg"),s=this.argumentVarModels_[n];i.setAttribute("name",s.name),i.setAttribute("varid",s.getId()),t&&this.paramIds_&&i.setAttribute("paramId",this.paramIds_[n]),o.appendChild(i)}return this.hasStatements_||o.setAttribute("statements","false"),o},domToMutation:function(t){this.arguments_=[],this.argumentVarModels_=[];for(var o,n=0;o=t.childNodes[n];n++)if("arg"==o.nodeName.toLowerCase()){var i=o.getAttribute("name");o=o.getAttribute("varid")||o.getAttribute("varId"),this.arguments_.push(i),null!=(o=e.Variables.getOrCreateVariablePackage(this.workspace,o,i,""))?this.argumentVarModels_.push(o):console.log("Failed to create a variable with name "+i+", ignoring.")}this.updateParams_(),e.Procedures.mutateCallers(this),this.setStatements_("false"!==t.getAttribute("statements"))},decompose:function(t){var o=e.utils.xml.createElement("block");o.setAttribute("type","procedures_mutatorcontainer");var n=e.utils.xml.createElement("statement");n.setAttribute("name","STACK"),o.appendChild(n);for(var i=0;i<this.arguments_.length;i++){var s=e.utils.xml.createElement("block");s.setAttribute("type","procedures_mutatorarg");var a=e.utils.xml.createElement("field");a.setAttribute("name","NAME");var r=e.utils.xml.createTextNode(this.arguments_[i]);a.appendChild(r),s.appendChild(a),a=e.utils.xml.createElement("next"),s.appendChild(a),n.appendChild(s),n=a}return t=e.Xml.domToBlock(o,t),"procedures_defreturn"==this.type?t.setFieldValue(this.hasStatements_,"STATEMENTS"):t.removeInput("STATEMENT_INPUT"),e.Procedures.mutateCallers(this),t},compose:function(t){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var o=t.getInputTargetBlock("STACK");o;){var n=o.getFieldValue("NAME");this.arguments_.push(n),n=this.workspace.getVariable(n,""),this.argumentVarModels_.push(n),this.paramIds_.push(o.id),o=o.nextConnection&&o.nextConnection.targetBlock()}this.updateParams_(),e.Procedures.mutateCallers(this),null!==(t=t.getFieldValue("STATEMENTS"))&&(t="TRUE"==t,this.hasStatements_!=t)&&(t?(this.setStatements_(!0),e.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(t=this.getInput("STACK").connection,(this.statementConnection_=t.targetConnection)&&((t=t.targetBlock()).unplug(),t.bumpNeighbours()),this.setStatements_(!1)))},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(t,o){var n=this.workspace.getVariableById(t);if(""==n.type){n=n.name;for(var i=this.workspace.getVariableById(o),s=!1,a=0;a<this.argumentVarModels_.length;a++)this.argumentVarModels_[a].getId()==t&&(this.arguments_[a]=i.name,this.argumentVarModels_[a]=i,s=!0);s&&(this.displayRenamedVar_(n,i.name),e.Procedures.mutateCallers(this))}},updateVarName:function(t){for(var o=t.name,n=!1,i=0;i<this.argumentVarModels_.length;i++)if(this.argumentVarModels_[i].getId()==t.getId()){var s=this.arguments_[i];this.arguments_[i]=o,n=!0}n&&(this.displayRenamedVar_(s,o),e.Procedures.mutateCallers(this))},displayRenamedVar_:function(t,o){if(this.updateParams_(),this.mutator&&this.mutator.isVisible())for(var n,i=this.mutator.workspace_.getAllBlocks(!1),s=0;n=i[s];s++)"procedures_mutatorarg"==n.type&&e.Names.equals(t,n.getFieldValue("NAME"))&&n.setFieldValue(o,"NAME")},customContextMenu:function(t){if(!this.isInFlyout){var o={enabled:!0},n=this.getFieldValue("NAME");o.text=e.Msg.PROCEDURES_CREATE_DO.replace("%1",n);var i=e.utils.xml.createElement("mutation");for(i.setAttribute("name",n),n=0;n<this.arguments_.length;n++){var s=e.utils.xml.createElement("arg");s.setAttribute("name",this.arguments_[n]),i.appendChild(s)}if((n=e.utils.xml.createElement("block")).setAttribute("type",this.callType_),n.appendChild(i),o.callback=e.ContextMenu.callbackFactory(this,n),t.push(o),!this.isCollapsed())for(n=0;n<this.argumentVarModels_.length;n++)o={enabled:!0},i=this.argumentVarModels_[n],o.text=e.Msg.VARIABLES_SET_CREATE_GET.replace("%1",i.name),i=e.Variables.generateVariableFieldDom(i),(s=e.utils.xml.createElement("block")).setAttribute("type","variables_get"),s.appendChild(i),o.callback=e.ContextMenu.callbackFactory(this,s),t.push(o)}},callType_:"procedures_callnoreturn"},e.Blocks.procedures_defreturn={init:function(){var t=new e.FieldTextInput("",e.Procedures.rename);t.setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(t,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(e.ALIGN_RIGHT).appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new e.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(e.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:e.Blocks.procedures_defnoreturn.setStatements_,updateParams_:e.Blocks.procedures_defnoreturn.updateParams_,mutationToDom:e.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:e.Blocks.procedures_defnoreturn.domToMutation,decompose:e.Blocks.procedures_defnoreturn.decompose,compose:e.Blocks.procedures_defnoreturn.compose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},getVars:e.Blocks.procedures_defnoreturn.getVars,getVarModels:e.Blocks.procedures_defnoreturn.getVarModels,renameVarById:e.Blocks.procedures_defnoreturn.renameVarById,updateVarName:e.Blocks.procedures_defnoreturn.updateVarName,displayRenamedVar_:e.Blocks.procedures_defnoreturn.displayRenamedVar_,customContextMenu:e.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"},e.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(e.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new e.FieldCheckbox("TRUE"),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1},onchange:function(t){if(this.workspace&&!this.workspace.isFlyout&&(t.type==e.Events.BLOCK_DELETE||t.type==e.Events.BLOCK_CREATE)){var o=this.workspace.getAllBlocks(),n=this.workspace.getAllVariables();if(t.type==e.Events.BLOCK_DELETE){t=[];for(var i=0;i<o.length;i+=1)o[i].getFieldValue("NAME")&&t.push(o[i].getFieldValue("NAME"));for(o=0;o<n.length;o+=1)-1==t.indexOf(n[o].name)&&this.workspace.deleteVariableById(n[o].getId())}else if(t.type==e.Events.BLOCK_CREATE&&(n=this.workspace.getBlockById(t.blockId)).getField("NAME")&&(i=n.getFieldValue("NAME"),(t=this.workspace.getVariable(i))||(t=this.workspace.createVariable(i)),!n.previousConnection.isConnected()&&!n.nextConnection.isConnected()))for(i=0;i<o.length;i+=1)if(n.id!=o[i].id&&o[i].getFieldValue("NAME")==t.name){i=e.Variables.generateUniqueName(this.workspace),t=this.workspace.createVariable(i),n.setFieldValue(t.name,"NAME");break}}}},e.Blocks.procedures_mutatorarg={init:function(){var t=new e.FieldTextInput("x",this.validator_);t.oldShowEditorFn_=t.showEditor_,t.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(e.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(t,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,t.onFinishEditing_=this.deleteIntermediateVars_,t.createdVariables_=[],t.onFinishEditing_("x")},validator_:function(t){var o=this.getSourceBlock(),n=e.Mutator.findParentWs(o.workspace);if(!(t=t.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;o=o.workspace.getAllBlocks();for(var i=0;i<o.length;i++)if(o[i].id!=this.getSourceBlock().id&&o[i].getFieldValue("NAME")==t)return null;return(o=n.getVariable(t,""))&&o.name!=t&&n.renameVariableById(o.getId(),t),o||(o=n.createVariable(t,""))&&this.createdVariables_&&this.createdVariables_.push(o),t},deleteIntermediateVars_:function(t){var o=e.Mutator.findParentWs(this.getSourceBlock().workspace);if(o)for(var n=0;n<this.createdVariables_.length;n++){var i=this.createdVariables_[n];i.name!=t&&o.deleteVariableById(i.getId())}}},e.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField(this.id,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(t,o){e.Names.equals(t,this.getProcedureCall())&&(this.setFieldValue(o,"NAME"),this.setTooltip((this.outputConnection?e.Msg.PROCEDURES_CALLRETURN_TOOLTIP:e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",o)))},setProcedureParameters_:function(t,o){var n=e.Procedures.getDefinition(this.getProcedureCall(),this.workspace),i=n&&n.mutator&&n.mutator.isVisible();if(i||(this.quarkConnections_={},this.quarkIds_=null),o)if(t.join("\n")==this.arguments_.join("\n"))this.quarkIds_=o;else{if(o.length!=t.length)throw RangeError("paramNames and paramIds must be the same length.");this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]),n=this.rendered,this.rendered=!1;for(var s=0;s<this.arguments_.length;s++){var a=this.getInput("ARG"+s);a&&(a=a.connection.targetConnection,this.quarkConnections_[this.quarkIds_[s]]=a,i&&a&&-1==o.indexOf(this.quarkIds_[s])&&(a.disconnect(),a.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(t),this.argumentVarModels_=[],s=0;s<this.arguments_.length;s++)i=e.Variables.getOrCreateVariablePackage(this.workspace,null,this.arguments_[s],""),this.argumentVarModels_.push(i);if(this.updateShape_(),this.quarkIds_=o)for(s=0;s<this.arguments_.length;s++)(i=this.quarkIds_[s])in this.quarkConnections_&&(a=this.quarkConnections_[i],e.Mutator.reconnect(a,this,"ARG"+s)||delete this.quarkConnections_[i]);(this.rendered=n)&&this.render()}},updateShape_:function(){for(var t=0;t<this.arguments_.length;t++){var o=this.getField("ARGNAME"+t);if(o){e.Events.disable();try{o.setValue(this.arguments_[t])}finally{e.Events.enable()}}else o=new e.FieldLabel(this.arguments_[t]),this.appendValueInput("ARG"+t).setAlign(e.ALIGN_RIGHT).appendField(o,"ARGNAME"+t).init()}for(;this.getInput("ARG"+t);)this.removeInput("ARG"+t),t++;(t=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(t.appendField(e.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),t.init()):this.getField("WITH")&&t.removeField("WITH"))},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");t.setAttribute("name",this.getProcedureCall());for(var o=0;o<this.arguments_.length;o++){var n=e.utils.xml.createElement("arg");n.setAttribute("name",this.arguments_[o]),t.appendChild(n)}return t},domToMutation:function(e){var t=e.getAttribute("name");this.renameProcedure(this.getProcedureCall(),t),t=[];for(var o,n=[],i=0;o=e.childNodes[i];i++)"arg"==o.nodeName.toLowerCase()&&(t.push(o.getAttribute("name")),n.push(o.getAttribute("paramId")));this.setProcedureParameters_(t,n)},getVarModels:function(){return this.argumentVarModels_},onchange:function(t){if(this.workspace&&!this.workspace.isFlyout&&t.recordUndo)if(t.type==e.Events.BLOCK_CREATE&&-1!=t.ids.indexOf(this.id)){var o=this.getProcedureCall();if(!(o=e.Procedures.getDefinition(o,this.workspace))||o.type==this.defType_&&JSON.stringify(o.arguments_)==JSON.stringify(this.arguments_)||(o=null),!o){e.Events.setGroup(t.group),t=e.utils.xml.createElement("xml"),(o=e.utils.xml.createElement("block")).setAttribute("type",this.defType_);var n=this.getRelativeToSurfaceXY(),i=n.y+2*e.SNAP_RADIUS;o.setAttribute("x",n.x+e.SNAP_RADIUS*(this.RTL?-1:1)),o.setAttribute("y",i),n=this.mutationToDom(),o.appendChild(n),(n=e.utils.xml.createElement("field")).setAttribute("name","NAME"),n.appendChild(e.utils.xml.createTextNode(this.getProcedureCall())),o.appendChild(n),t.appendChild(o),e.Xml.domToWorkspace(t,this.workspace),e.Events.setGroup(!1)}}else t.type==e.Events.BLOCK_DELETE?(o=this.getProcedureCall(),(o=e.Procedures.getDefinition(o,this.workspace))||(e.Events.setGroup(t.group),this.dispose(!0,!1),e.Events.setGroup(!1))):t.type==e.Events.CHANGE&&"disabled"==t.element&&(o=this.getProcedureCall(),(o=e.Procedures.getDefinition(o,this.workspace))&&o.id==t.blockId&&((o=e.Events.getGroup())&&console.log("Saw an existing group while responding to a definition change"),e.Events.setGroup(t.group),t.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),e.Events.setGroup(o)))},customContextMenu:function(t){if(this.workspace.isMovable()){var o={enabled:!0};o.text=e.Msg.PROCEDURES_HIGHLIGHT_DEF;var n=this.getProcedureCall(),i=this.workspace;o.callback=function(){var t=e.Procedures.getDefinition(n,i);t&&(i.centerOnBlock(t.id),t.select())},t.push(o)}},defType_:"procedures_defnoreturn"},e.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:e.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:e.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:e.Blocks.procedures_callnoreturn.setProcedureParameters_,updateShape_:e.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:e.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:e.Blocks.procedures_callnoreturn.domToMutation,getVarModels:e.Blocks.procedures_callnoreturn.getVarModels,onchange:e.Blocks.procedures_callnoreturn.onchange,customContextMenu:e.Blocks.procedures_callnoreturn.customContextMenu,defType_:"procedures_defreturn"},e.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(e.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("value",Number(this.hasReturnValue_)),t},domToMutation:function(t){this.hasReturnValue_=1==t.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(t){if(this.workspace.isDragging&&!this.workspace.isDragging()){t=!1;var o=this;do{if(-1!=this.FUNCTION_TYPES.indexOf(o.type)){t=!0;break}o=o.getSurroundParent()}while(o);t?("procedures_defnoreturn"==o.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=o.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(e.Msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},e.Blocks.texts={},e.Constants.Text={},e.Constants.Text.HUE=160,e.defineBlocksWithJsonArray([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]}]),e.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[e.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[e.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[e.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[e.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[e.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(e.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var t=e.utils.xml.createElement("mutation"),o=this.getInput("AT1").type==e.INPUT_VALUE;return t.setAttribute("at1",o),o=this.getInput("AT2").type==e.INPUT_VALUE,t.setAttribute("at2",o),t},domToMutation:function(e){var t="true"==e.getAttribute("at1");e="true"==e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(t,o){this.removeInput("AT"+t),this.removeInput("ORDINAL"+t,!0),o?(this.appendValueInput("AT"+t).setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+t).appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+t),2==t&&e.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_GET_SUBSTRING_TAIL));var n=new e.FieldDropdown(this["WHERE_OPTIONS_"+t],(function(e){var n="FROM_START"==e||"FROM_END"==e;if(n!=o){var i=this.getSourceBlock();return i.updateAt_(t,n),i.setFieldValue(e,"WHERE"+t),null}}));this.getInput("AT"+t).appendField(n,"WHERE"+t),1==t&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},e.Blocks.text_changeCase={init:function(){var t=[[e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(e.Msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new e.FieldDropdown(t),"CASE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg.TEXT_CHANGECASE_TOOLTIP)}},e.Blocks.text_trim={init:function(){var t=[[e.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[e.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[e.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(e.Msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new e.FieldDropdown(t),"MODE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg.TEXT_TRIM_TOOLTIP)}},e.Blocks.text_print={init:function(){this.jsonInit({message0:e.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:e.Msg.TEXT_PRINT_TOOLTIP,helpUrl:e.Msg.TEXT_PRINT_HELPURL})}},e.Blocks.text_prompt_ext={init:function(){var t=[[e.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(e.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks");var o=this;t=new e.FieldDropdown(t,(function(e){o.updateType_(e)})),this.appendValueInput("TEXT").appendField(t,"TYPE"),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"==o.getFieldValue("TYPE")?e.Msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))},updateType_:function(e){this.outputConnection.setCheck("NUMBER"==e?"Number":"String")},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("type",this.getFieldValue("TYPE")),t},domToMutation:function(e){this.updateType_(e.getAttribute("type"))}},e.Blocks.text_prompt={init:function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN);var t=[[e.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],o=this;this.setHelpUrl(e.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),t=new e.FieldDropdown(t,(function(e){o.updateType_(e)})),this.appendDummyInput().appendField(t,"TYPE").appendField(this.newQuote_(!0)).appendField(new e.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"==o.getFieldValue("TYPE")?e.Msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))},updateType_:e.Blocks.text_prompt_ext.updateType_,mutationToDom:e.Blocks.text_prompt_ext.mutationToDom,domToMutation:e.Blocks.text_prompt_ext.domToMutation},e.Blocks.text_count={init:function(){this.jsonInit({message0:e.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_COUNT_TOOLTIP,helpUrl:e.Msg.TEXT_COUNT_HELPURL})}},e.Blocks.text_replace={init:function(){this.jsonInit({message0:e.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:e.Msg.TEXT_REPLACE_HELPURL})}},e.Blocks.text_reverse={init:function(){this.jsonInit({message0:e.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:e.Msg.TEXT_REVERSE_HELPURL})}},e.Constants.Text.QUOTE_IMAGE_MIXIN={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(e){for(var t,o=0;t=this.inputList[o];o++)for(var n,i=0;n=t.fieldRow[i];i++)if(e==n.name)return t.insertFieldAt(i,this.newQuote_(!0)),void t.insertFieldAt(i+2,this.newQuote_(!1));console.warn('field named "'+e+'" not found in '+this.toDevString())},newQuote_:function(t){return t=this.RTL?!t:t,new e.FieldImage(t?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,t?"\u201c":"\u201d")}},e.Constants.Text.QUOTE_IMAGE_MIXIN2={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,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",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,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",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(e){for(var t,o=0;t=this.inputList[o];o++)for(var n,i=0;n=t.fieldRow[i];i++)if(e==n.name)return t.insertFieldAt(i,this.newQuote_(!0)),void t.insertFieldAt(i+2,this.newQuote_(!1));console.warn('field named "'+e+'" not found in '+this.toDevString())},newQuote_:function(t){return t=this.RTL?!t:t,new e.FieldImage(t?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,t?"\u201c":"\u201d")}},e.Constants.Text.TEXT_QUOTES_EXTENSION=function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN),this.quoteField_("TEXT")},e.Constants.Text.TEXT_QUOTES_EXTENSION2=function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN2),this.quoteField_("TEXT")},e.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN={mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("items",this.itemCount_),t},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},decompose:function(e){var t=e.newBlock("text_create_join_container");t.initSvg();for(var o=t.getInput("STACK").connection,n=0;n<this.itemCount_;n++){var i=e.newBlock("text_create_join_item");i.initSvg(),o.connect(i.previousConnection),o=i.nextConnection}return t},compose:function(t){var o=t.getInputTargetBlock("STACK");for(t=[];o;)t.push(o.valueConnection_),o=o.nextConnection&&o.nextConnection.targetBlock();for(o=0;o<this.itemCount_;o++){var n=this.getInput("ADD"+o).connection.targetConnection;n&&-1==t.indexOf(n)&&n.disconnect()}for(this.itemCount_=t.length,this.updateShape_(),o=0;o<this.itemCount_;o++)e.Mutator.reconnect(t[o],this,"ADD"+o)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0;e;){var o=this.getInput("ADD"+t);e.valueConnection_=o&&o.connection.targetConnection,t++,e=e.nextConnection&&e.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var t=0;t<this.itemCount_;t++)if(!this.getInput("ADD"+t)){var o=this.appendValueInput("ADD"+t);0==t&&o.appendField(e.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(;this.getInput("ADD"+t);)this.removeInput("ADD"+t),t++}},e.Constants.Text.TEXT_JOIN_EXTENSION=function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN),this.itemCount_=2,this.updateShape_(),this.setMutator(new e.Mutator(["text_create_join_item"]))},e.Extensions.register("text_append_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}","VAR")),e.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION=function(){var t=this;this.setTooltip((function(){return e.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",t.workspace.options.oneBasedIndex?"0":"-1")}))},e.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN={mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("at",!!this.isAt_),t},domToMutation:function(e){e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(t){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),t&&(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)),e.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_CHARAT_TAIL)),this.isAt_=t}},e.Constants.Text.TEXT_CHARAT_EXTENSION=function(){this.getField("WHERE").setValidator((function(e){(e="FROM_START"==e||"FROM_END"==e)!=this.isAt_&&this.getSourceBlock().updateAt_(e)})),this.updateAt_(!0);var t=this;this.setTooltip((function(){var o=t.getFieldValue("WHERE"),n=e.Msg.TEXT_CHARAT_TOOLTIP;return("FROM_START"==o||"FROM_END"==o)&&(o="FROM_START"==o?e.Msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(n+="  "+o.replace("%1",t.workspace.options.oneBasedIndex?"#1":"#0")),n}))},e.Extensions.register("text_quotes2",e.Constants.Text.TEXT_QUOTES_EXTENSION2),e.Extensions.register("text_quotes",e.Constants.Text.TEXT_QUOTES_EXTENSION),e.Extensions.register("text_indexOf_tooltip",e.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION),e.Extensions.registerMutator("text_join_mutator",e.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN,e.Constants.Text.TEXT_JOIN_EXTENSION),e.Extensions.registerMutator("text_charAt_mutator",e.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN,e.Constants.Text.TEXT_CHARAT_EXTENSION),e.Blocks.variables={},e.Constants.Variables={},e.Constants.Variables.HUE=330,e.defineBlocksWithJsonArray([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),e.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(t){if(this.isInFlyout)"variables_get"!=this.type&&"variables_get_reporter"!=this.type||(o={text:e.Msg.RENAME_VARIABLE,enabled:!0,callback:e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},s=this.getField("VAR").getText(),i={text:e.Msg.DELETE_VARIABLE.replace("%1",s),enabled:!0,callback:e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},t.unshift(o),t.unshift(i));else{if("variables_get"==this.type)var o="variables_set",n=e.Msg.VARIABLES_GET_CREATE_SET;else o="variables_get",n=e.Msg.VARIABLES_SET_CREATE_GET;var i={enabled:0<this.workspace.remainingCapacity()},s=this.getField("VAR").getText();i.text=n.replace("%1",s),(n=e.utils.xml.createElement("field")).setAttribute("name","VAR"),n.appendChild(e.utils.xml.createTextNode(s)),(s=e.utils.xml.createElement("block")).setAttribute("type",o),s.appendChild(n),i.callback=e.ContextMenu.callbackFactory(this,s),t.push(i)}}},e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY=function(t){return function(){var o=t.workspace,n=t.getField("VAR").getVariable();e.Variables.renameVariable(o,n)}},e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY=function(e){return function(){var t=e.workspace,o=e.getField("VAR").getVariable();t.deleteVariableById(o.getId()),t.refreshToolboxSelection()}},e.Extensions.registerMixin("contextMenu_variableSetterGetter",e.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),e.Constants.VariablesDynamic={},e.Constants.VariablesDynamic.HUE=310,e.defineBlocksWithJsonArray([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),e.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(t){if(this.isInFlyout)"variables_get_dynamic"!=this.type&&"variables_get_reporter_dynamic"!=this.type||(o={text:e.Msg.RENAME_VARIABLE,enabled:!0,callback:e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},a=this.getField("VAR").getText(),s={text:e.Msg.DELETE_VARIABLE.replace("%1",a),enabled:!0,callback:e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},t.unshift(o),t.unshift(s));else{var o=this.getFieldValue("VAR"),n=this.workspace.getVariableById(o).type;if("variables_get_dynamic"==this.type){o="variables_set_dynamic";var i=e.Msg.VARIABLES_GET_CREATE_SET}else o="variables_get_dynamic",i=e.Msg.VARIABLES_SET_CREATE_GET;var s={enabled:0<this.workspace.remainingCapacity()},a=this.getField("VAR").getText();s.text=i.replace("%1",a),(i=e.utils.xml.createElement("field")).setAttribute("name","VAR"),i.setAttribute("variabletype",n),i.appendChild(e.utils.xml.createTextNode(a)),(a=e.utils.xml.createElement("block")).setAttribute("type",o),a.appendChild(i),s.callback=e.ContextMenu.callbackFactory(this,a),t.push(s)}},onchange:function(t){t=this.getFieldValue("VAR"),t=e.Variables.getVariable(this.workspace,t),"variables_get_dynamic"==this.type?this.outputConnection.setCheck(t.type):this.getInput("VALUE").connection.setCheck(t.type)}},e.Constants.VariablesDynamic.RENAME_OPTION_CALLBACK_FACTORY=function(t){return function(){var o=t.workspace,n=t.getField("VAR").getVariable();e.Variables.renameVariable(o,n)}},e.Constants.VariablesDynamic.DELETE_OPTION_CALLBACK_FACTORY=function(e){return function(){var t=e.workspace,o=e.getField("VAR").getVariable();t.deleteVariableById(o.getId()),t.refreshToolboxSelection()}},e.Extensions.registerMixin("contextMenu_variableDynamicSetterGetter",e.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),e.Blocks})?n.apply(t,i):n)||(e.exports=s)},17:function(e,t,o){var n,i,s;i=[o(74)],void 0===(s="function"===typeof(n=function(e){"use strict";return e.setLocale=function(t){e.Msg=e.Msg||{},Object.keys(t).forEach((function(o){e.Msg[o]=t[o]}))},e})?n.apply(t,i):n)||(e.exports=s)},175:function(e,t,o){},176:function(e,t,o){},178:function(e,t){e.exports="data:image/png;base64,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"},179:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCAgUBQdR/MroAAAD+0lEQVRo3u2ZXYhVVRSAv3OvTf5gaelM3hEJs7Eh8k38H6NC0uqhH/ApMpuJoIGil5BKQaLoJSwaMsYQe4uCHgayMB+0BzOJynIy6KEihEzHHH9q5nrv18Md8px7z8ycc5y5F8T1ttdZa69vr7vP2nvdg4Fd9luy3lKy304IfJr3aJx0BvbTzgf0UMrgPpe9wHr+yuCbp5vH6ceSuiwbvgVVCxm9l6mlHDmgnG2KK5QykMs1JHRIrgFcPQDe0DiA7f7kMGcd8ohbnZuWXHVpxlUXYkrsOTsTei9VnXJFa7+IBPxAL4c5wy2spYsF9NocvFaXDIAbfcJ8aDzN3WrJ1UkzcIUAMdMG7lP3NgwAvEctel0ygMmoA8eBKTQnM54MgIVAmVONA3gB+DIYSmg99h6wyflOHcO7w3WRcd43VF2fIPJ4m9A1fuYltewBN8RazLSo7vcx5zvbNjv9TtU3Ey19bABfshypcDsMamziKuGwL9dapgawS9XPvduCK/1I1a2jAPR5eiT4H75rW5Lg4wDY7Hn1/csr8XW16OJYgIKBLS5yTtLQ4wNsU391WkiT91t1ZzxAusBRgPjX8CGgN/jnsiIo8Q7wYLZQY0kMgAF3AQer1AeB1rRpzgTADJqgptn4E4Cb6gFwgSIws0p7IwB/1wEgkF+AFVXq5cBA0gqfXCo3olZPR7Rf006XPUG4X3wGOMythu0qJ96CmGI9EERy5c0jGQxLa+XR6LIpNMG6lM130Y6Q98aqqhqS0U9DuRga/cullJltCo2mMWpxDhR4mKM1T84GkZ/FWTFvQDOHgBWcjGh7uJ99QeiUNM/33MketkfslvAJE3Itj1RCcw6oj1RZPqf+WKWbpCvZXGYDX1VpDwG3x52SEw9Q2e3nq7SDQBMz6gFwBqDmStoCDHGhHgCnOAF0VGnXAkcDa80nHCCQPqA70i9Npwvoi3XI8hbY7CJbzMXfB1xsUf2/OzTnHnWw+iTN1Bl5hzs9MVLEBuyLv5C4VdWPXWXBe92v6uYaq7QABm6zGFNNCzGWb0UsSr4YM19qgLdV/cYnvc3ZzvNR96lFZ8Zab/CAZbXop66MtUgH4AOqvhotXd7nmjF8rrd19CY1LcBB9cMkmUoqqUqxU1kN7JhIgIokrQNzCIDfGgdwkhKwOKH1xAMEw3wBbEnW9aWSxJtwlSV1t9NDuryb3Jg5cuo6sEXV333FDttc7vMeU8vOqhMA2Om5JJUwDUCq0zDYxUK2cYQhYJh+dmULHeXIdCes/DU9ed3x+LkYnIC1A1fT94JrANkByg3DyAHlKfxMO89qxk+3AEucl8E3TzdwPLCT3oasvyKbAZ/yWEM+3x9zM/wHcUKJaHDpZb8AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDgtMDhUMTg6MDU6MDcrMDI6MDDgK5CfAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTA4LTA4VDE4OjA1OjA3KzAyOjAwkXYoIwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},182:function(e,t,o){e.exports=o.p+"static/media/activeIcon.c9c0c42c.svg"},183:function(e,t,o){e.exports=o.p+"static/media/InactiveIcon.4f5910bc.svg"},184:function(e,t,o){e.exports=o.p+"static/media/fondomusical.c20f6261.mp3"},186:function(e,t,o){var n,i,s;i=[o(17)],void 0===(s="function"===typeof(n=function(e){return(e={Msg:{}}).Msg.ADD_COMMENT="A\xf1adir comentario",e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="No se puede eliminar la variable '%1' porque es parte de la definici\xf3n de la funci\xf3n '%2'",e.Msg.CHANGE_VALUE_TITLE="Cambiar el valor:",e.Msg.CLEAN_UP="Limpiar los bloques",e.Msg.COLLAPSED_WARNINGS_WARNING="Bloques colapsados contienen advertencias.",e.Msg.COLLAPSE_ALL="Contraer bloques",e.Msg.COLLAPSE_BLOCK="Contraer bloque",e.Msg.COLOUR_BLEND_COLOUR1="color 1",e.Msg.COLOUR_BLEND_COLOUR2="color 2",e.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",e.Msg.COLOUR_BLEND_RATIO="proporci\xf3n",e.Msg.COLOUR_BLEND_TITLE="combinar",e.Msg.COLOUR_BLEND_TOOLTIP="Combina dos colores con una proporci\xf3n determinada (0,0-1,0).",e.Msg.COLOUR_PICKER_HELPURL="https://es.wikipedia.org/wiki/Color",e.Msg.COLOUR_PICKER_TOOLTIP="Elige un color de la paleta.",e.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",e.Msg.COLOUR_RANDOM_TITLE="color aleatorio",e.Msg.COLOUR_RANDOM_TOOLTIP="Elige un color al azar.",e.Msg.COLOUR_RGB_BLUE="azul",e.Msg.COLOUR_RGB_GREEN="verde",e.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",e.Msg.COLOUR_RGB_RED="rojo",e.Msg.COLOUR_RGB_TITLE="colorear con",e.Msg.COLOUR_RGB_TOOLTIP="Crea un color con cantidades espec\xedficas de rojo, verde y azul. Todos los valores deben encontrarse entre 0 y 100.",e.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="romper el bucle",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continuar con la siguiente iteraci\xf3n del bucle",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Romper el bucle que lo contiene.",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Saltar el resto de este bucle, y continuar con la siguiente iteraci\xf3n.",e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Atenci\xf3n: este bloque puede usarse solamente dentro de un bucle.",e.Msg.CONTROLS_FOREACH_HELPURL="https://es.wikipedia.org/wiki/Foreach",e.Msg.CONTROLS_FOREACH_TITLE="para cada elemento %1 en la lista %2",e.Msg.CONTROLS_FOREACH_TOOLTIP="Para cada elemento en una lista, establecer la variable '%1' al elemento y luego hacer algunas declaraciones.",e.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",e.Msg.CONTROLS_FOR_TITLE="contar con %1 desde %2 hasta %3",e.Msg.CONTROLS_FOR_TOOLTIP='Hacer que la variable "%1" tome los valores desde el n\xfamero de inicio hasta el n\xfamero final, contando con el intervalo especificado, y hacer los bloques especificados.',e.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Agregar una condici\xf3n a este bloque.",e.Msg.CONTROLS_IF_ELSE_TOOLTIP="Agregar una condici\xf3n general final a este bloque.",e.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",e.Msg.CONTROLS_IF_IF_TOOLTIP="Agregar, eliminar o reordenar las secciones para reconfigurar este bloque.",e.Msg.CONTROLS_IF_MSG_ELSE="sino",e.Msg.CONTROLS_IF_MSG_ELSEIF="sino si",e.Msg.CONTROLS_IF_MSG_IF="si",e.Msg.CONTROLS_IF_TOOLTIP_1="Si un valor es verdadero, entonces hacer algunas declaraciones.",e.Msg.CONTROLS_IF_TOOLTIP_2="Si un valor es verdadero, entonces hacer el primer bloque de declaraciones.  De lo contrario, hacer el segundo bloque de declaraciones.",e.Msg.CONTROLS_IF_TOOLTIP_3="Si el primer valor es verdadero, entonces hacer el primer bloque de declaraciones. De lo contrario, si el segundo valor es verdadero, hacer el segundo bloque de declaraciones.",e.Msg.CONTROLS_IF_TOOLTIP_4="Si el primer valor es verdadero, entonces hacer el primer bloque de declaraciones. De lo contrario, si el segundo valor es verdadero, hacer el segundo bloque de declaraciones. Si ninguno de los valores son verdaderos, hacer el \xfaltimo bloque de declaraciones.",e.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",e.Msg.CONTROLS_REPEAT_INPUT_DO="hacer",e.Msg.CONTROLS_REPEAT_TITLE="repetir %1 veces",e.Msg.CONTROLS_REPEAT_TOOLTIP="Hacer algunas declaraciones varias veces.",e.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repetir hasta",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repetir mientras",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="Mientras un valor sea falso, entonces hacer algunas declaraciones.",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="Mientras un valor sea verdadero, entonces hacer algunas declaraciones.",e.Msg.DELETE_ALL_BLOCKS="\xbfEliminar todos los %1 bloques?",e.Msg.DELETE_BLOCK="Eliminar bloque",e.Msg.DELETE_VARIABLE='Borrar la variable "%1"',e.Msg.DELETE_VARIABLE_CONFIRMATION="\xbfBorrar %1 usos de la variable '%2'?",e.Msg.DELETE_X_BLOCKS="Eliminar %1 bloques",e.Msg.DISABLE_BLOCK="Desactivar bloque",e.Msg.DUPLICATE_BLOCK="Duplicar",e.Msg.DUPLICATE_COMMENT="Duplicar comentario",e.Msg.ENABLE_BLOCK="Activar bloque",e.Msg.EXPAND_ALL="Expandir bloques",e.Msg.EXPAND_BLOCK="Expandir bloque",e.Msg.EXTERNAL_INPUTS="Entradas externas",e.Msg.HELP="Ayuda",e.Msg.INLINE_INPUTS="Entradas en l\xednea",e.Msg.IOS_CANCEL="Cancelar",e.Msg.IOS_ERROR="Error",e.Msg.IOS_OK="Aceptar",e.Msg.IOS_PROCEDURES_ADD_INPUT="+ A\xf1adir entrada",e.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="Permitir declaraciones",e.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="Esta funci\xf3n tiene entradas duplicadas.",e.Msg.IOS_PROCEDURES_INPUTS="ENTRADAS",e.Msg.IOS_VARIABLES_ADD_BUTTON="A\xf1adir",e.Msg.IOS_VARIABLES_ADD_VARIABLE="+ A\xf1adir variable",e.Msg.IOS_VARIABLES_DELETE_BUTTON="Borrar",e.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="No puedes usar un nombre de variable vac\xedo.",e.Msg.IOS_VARIABLES_RENAME_BUTTON="Renombrar",e.Msg.IOS_VARIABLES_VARIABLE_NAME="Nombre de la variable",e.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg.LISTS_CREATE_EMPTY_TITLE="crear lista vac\xeda",e.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Devuelve una lista, de longitud 0, sin ning\xfan dato",e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="lista",e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Agregar, eliminar o reorganizar las secciones para reconfigurar este bloque de lista.",e.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_CREATE_WITH_INPUT_WITH="crear lista con",e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Agregar un elemento a la lista.",e.Msg.LISTS_CREATE_WITH_TOOLTIP="Crear una lista con cualquier n\xfamero de elementos.",e.Msg.LISTS_GET_INDEX_FIRST="primero",e.Msg.LISTS_GET_INDEX_FROM_END="# del final",e.Msg.LISTS_GET_INDEX_FROM_START="#",e.Msg.LISTS_GET_INDEX_GET="obtener",e.Msg.LISTS_GET_INDEX_GET_REMOVE="obtener y eliminar",e.Msg.LISTS_GET_INDEX_LAST="\xfaltimo",e.Msg.LISTS_GET_INDEX_RANDOM="aleatorio",e.Msg.LISTS_GET_INDEX_REMOVE="eliminar",e.Msg.LISTS_GET_INDEX_TAIL="",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Devuelve el primer elemento de una lista.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Devuelve el elemento en la posici\xf3n especificada en una lista.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Devuelve el \xfaltimo elemento de una lista.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Devuelve un elemento aleatorio en una lista.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Elimina y devuelve el primer elemento de una lista.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Elimina y devuelve el elemento en la posici\xf3n especificada en una lista.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Elimina y devuelve el \xfaltimo elemento de una lista.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Elimina y devuelve un elemento aleatorio en una lista.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Elimina el primer elemento de una lista.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Elimina el elemento en la posici\xf3n especificada en una lista.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Elimina el \xfaltimo elemento de una lista.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Elimina un elemento aleatorio en una lista.",e.Msg.LISTS_GET_SUBLIST_END_FROM_END="hasta # del final",e.Msg.LISTS_GET_SUBLIST_END_FROM_START="hasta #",e.Msg.LISTS_GET_SUBLIST_END_LAST="hasta el \xfaltimo",e.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg.LISTS_GET_SUBLIST_START_FIRST="obtener sublista desde el primero",e.Msg.LISTS_GET_SUBLIST_START_FROM_END="obtener sublista desde # del final",e.Msg.LISTS_GET_SUBLIST_START_FROM_START="obtener sublista desde #",e.Msg.LISTS_GET_SUBLIST_TAIL="",e.Msg.LISTS_GET_SUBLIST_TOOLTIP="Crea una copia de la parte especificada de una lista.",e.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 es el \xfaltimo elemento.",e.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 es el primer elemento.",e.Msg.LISTS_INDEX_OF_FIRST="encontrar la primera aparici\xf3n del elemento",e.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg.LISTS_INDEX_OF_LAST="encontrar la \xfaltima aparici\xf3n del elemento",e.Msg.LISTS_INDEX_OF_TOOLTIP="Devuelve el \xedndice de la primera/\xfaltima aparici\xf3n del elemento en la lista. Devuelve %1 si el elemento no se encuentra.",e.Msg.LISTS_INLIST="en la lista",e.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg.LISTS_ISEMPTY_TITLE="%1 est\xe1 vac\xeda",e.Msg.LISTS_ISEMPTY_TOOLTIP="Devuelve verdadero si la lista est\xe1 vac\xeda.",e.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg.LISTS_LENGTH_TITLE="longitud de %1",e.Msg.LISTS_LENGTH_TOOLTIP="Devuelve la longitud de una lista.",e.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_REPEAT_TITLE="crear lista con el elemento %1 repetido %2 veces",e.Msg.LISTS_REPEAT_TOOLTIP="Crea una lista que consta de un valor dado repetido el n\xfamero de veces especificado.",e.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg.LISTS_REVERSE_MESSAGE0="invertir %1",e.Msg.LISTS_REVERSE_TOOLTIP="Invertir una copia de una lista.",e.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg.LISTS_SET_INDEX_INPUT_TO="como",e.Msg.LISTS_SET_INDEX_INSERT="insertar en",e.Msg.LISTS_SET_INDEX_SET="establecer",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserta el elemento al inicio de una lista.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserta el elemento en la posici\xf3n especificada en una lista.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="A\xf1ade el elemento al final de una lista.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserta el elemento aleatoriamente en una lista.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Establece el primer elemento de una lista.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Establece el elemento en la posici\xf3n especificada en una lista.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Establece el \xfaltimo elemento de una lista.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Establece un elemento aleatorio en una lista.",e.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg.LISTS_SORT_ORDER_ASCENDING="ascendente",e.Msg.LISTS_SORT_ORDER_DESCENDING="descendente",e.Msg.LISTS_SORT_TITLE="orden %1 %2 %3",e.Msg.LISTS_SORT_TOOLTIP="Ordenar una copia de una lista.",e.Msg.LISTS_SORT_TYPE_IGNORECASE="alfab\xe9tico, ignorar may\xfascula/min\xfascula",e.Msg.LISTS_SORT_TYPE_NUMERIC="num\xe9rico",e.Msg.LISTS_SORT_TYPE_TEXT="alfab\xe9tico",e.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg.LISTS_SPLIT_LIST_FROM_TEXT="hacer lista a partir de texto",e.Msg.LISTS_SPLIT_TEXT_FROM_LIST="hacer texto a partir de lista",e.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Unir una lista de textos en un solo texto, separado por un delimitador.",e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Dividir el texto en una lista de textos, separando en cada delimitador.",e.Msg.LISTS_SPLIT_WITH_DELIMITER="con delimitador",e.Msg.LOGIC_BOOLEAN_FALSE="falso",e.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",e.Msg.LOGIC_BOOLEAN_TOOLTIP="Devuelve verdadero o falso.",e.Msg.LOGIC_BOOLEAN_TRUE="verdadero",e.Msg.LOGIC_COMPARE_HELPURL="https://es.wikipedia.org/wiki/Desigualdad_matem\xe1tica",e.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Devuelve verdadero si ambas entradas son iguales.",e.Msg.LOGIC_COMPARE_TOOLTIP_GT="Devuelve verdadero si la primera entrada es mayor que la segunda entrada.",e.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Devuelve verdadero si la primera entrada es mayor o igual a la segunda entrada.",e.Msg.LOGIC_COMPARE_TOOLTIP_LT="Devuelve verdadero si la primera entrada es menor que la segunda entrada.",e.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Devuelve verdadero si la primera entrada es menor que o igual a la segunda entrada.",e.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Devuelve verdadero si ambas entradas son distintas.",e.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",e.Msg.LOGIC_NEGATE_TITLE="no %1",e.Msg.LOGIC_NEGATE_TOOLTIP="Devuelve verdadero si la entrada es falsa. Devuelve falso si la entrada es verdadera.",e.Msg.LOGIC_NULL="nulo",e.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",e.Msg.LOGIC_NULL_TOOLTIP="Devuelve nulo.",e.Msg.LOGIC_OPERATION_AND="y",e.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",e.Msg.LOGIC_OPERATION_OR="o",e.Msg.LOGIC_OPERATION_TOOLTIP_AND="Devuelve verdadero si ambas entradas son verdaderas.",e.Msg.LOGIC_OPERATION_TOOLTIP_OR="Devuelve verdadero si al menos una de las entradas es verdadera.",e.Msg.LOGIC_TERNARY_CONDITION="prueba",e.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",e.Msg.LOGIC_TERNARY_IF_FALSE="si es falso",e.Msg.LOGIC_TERNARY_IF_TRUE="si es verdadero",e.Msg.LOGIC_TERNARY_TOOLTIP='Comprueba la condici\xf3n en "prueba". Si la condici\xf3n es verdadera, devuelve el valor "si es verdadero"; de lo contrario, devuelve el valor "si es falso".',e.Msg.MATH_ADDITION_SYMBOL="+",e.Msg.MATH_ARITHMETIC_HELPURL="https://es.wikipedia.org/wiki/Aritm\xe9tica",e.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Devuelve la suma de ambos n\xfameros.",e.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Devuelve el cociente de ambos n\xfameros.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Devuelve la diferencia de ambos n\xfameros.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Devuelve el producto de ambos n\xfameros.",e.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Devuelve el primer n\xfamero elevado a la potencia del segundo.",e.Msg.MATH_ATAN2_HELPURL="https://es.wikipedia.org/wiki/Arcotangente_de_dos_par%C3%A1metros",e.Msg.MATH_ATAN2_TITLE="Arcotangente de X:%1 Y:%2",e.Msg.MATH_ATAN2_TOOLTIP="Regresar el arcotangente del punto (X,Y) en grados de -180 a 180.",e.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",e.Msg.MATH_CHANGE_TITLE="a\xf1adir %2 a %1",e.Msg.MATH_CHANGE_TOOLTIP="A\xf1adir un n\xfamero a la variable \xab%1\xbb.",e.Msg.MATH_CONSTANT_HELPURL="https://es.wikipedia.org/wiki/Anexo:Constantes_matem\xe1ticas",e.Msg.MATH_CONSTANT_TOOLTIP="Devuelve una de las constantes comunes: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\xbd) (0.707\u2026) o \u221e (infinito).",e.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",e.Msg.MATH_CONSTRAIN_TITLE="limitar %1 entre %2 y %3",e.Msg.MATH_CONSTRAIN_TOOLTIP="Limitar un n\xfamero entre los l\xedmites especificados (inclusive).",e.Msg.MATH_DIVISION_SYMBOL="\xf7",e.Msg.MATH_IS_DIVISIBLE_BY="es divisible por",e.Msg.MATH_IS_EVEN="es par",e.Msg.MATH_IS_NEGATIVE="es negativo",e.Msg.MATH_IS_ODD="es impar",e.Msg.MATH_IS_POSITIVE="es positivo",e.Msg.MATH_IS_PRIME="es primo",e.Msg.MATH_IS_TOOLTIP="Comprueba si un n\xfamero es par, impar, primo, entero, positivo, negativo, o si es divisible por un n\xfamero determinado. Devuelve verdadero o falso.",e.Msg.MATH_IS_WHOLE="es entero",e.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",e.Msg.MATH_MODULO_TITLE="resto de %1 \xf7 %2",e.Msg.MATH_MODULO_TOOLTIP="Devuelve el resto al dividir los dos n\xfameros.",e.Msg.MATH_MULTIPLICATION_SYMBOL="\xd7",e.Msg.MATH_NUMBER_HELPURL="https://es.wikipedia.org/wiki/N\xfamero",e.Msg.MATH_NUMBER_TOOLTIP="Un n\xfamero.",e.Msg.MATH_ONLIST_HELPURL="",e.Msg.MATH_ONLIST_OPERATOR_AVERAGE="promedio de la lista",e.Msg.MATH_ONLIST_OPERATOR_MAX="m\xe1ximo de la lista",e.Msg.MATH_ONLIST_OPERATOR_MEDIAN="mediana de la lista",e.Msg.MATH_ONLIST_OPERATOR_MIN="m\xednimo de la lista",e.Msg.MATH_ONLIST_OPERATOR_MODE="modas de la lista",e.Msg.MATH_ONLIST_OPERATOR_RANDOM="elemento aleatorio de la lista",e.Msg.MATH_ONLIST_OPERATOR_STD_DEV="desviaci\xf3n est\xe1ndar de la lista",e.Msg.MATH_ONLIST_OPERATOR_SUM="suma de la lista",e.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Devuelve el promedio (media aritm\xe9tica) de los valores num\xe9ricos en la lista.",e.Msg.MATH_ONLIST_TOOLTIP_MAX="Devuelve el n\xfamero m\xe1s grande en la lista.",e.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Devuelve la mediana en la lista.",e.Msg.MATH_ONLIST_TOOLTIP_MIN="Devuelve el n\xfamero m\xe1s peque\xf1o en la lista.",e.Msg.MATH_ONLIST_TOOLTIP_MODE="Devuelve una lista de los elementos m\xe1s comunes en la lista.",e.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Devuelve un elemento aleatorio de la lista.",e.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Devuelve la desviaci\xf3n est\xe1ndar de la lista.",e.Msg.MATH_ONLIST_TOOLTIP_SUM="Devuelve la suma de todos los n\xfameros en la lista.",e.Msg.MATH_POWER_SYMBOL="^",e.Msg.MATH_RANDOM_FLOAT_HELPURL="https://es.wikipedia.org/wiki/Generador_de_n\xfameros_aleatorios",e.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="fracci\xf3n aleatoria",e.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Devuelve una fracci\xf3n aleatoria entre 0,0 (ambos inclusive) y 1.0 (exclusivo).",e.Msg.MATH_RANDOM_INT_HELPURL="https://es.wikipedia.org/wiki/Generador_de_n\xfameros_aleatorios",e.Msg.MATH_RANDOM_INT_TITLE="entero aleatorio de %1 a %2",e.Msg.MATH_RANDOM_INT_TOOLTIP="Devuelve un entero aleatorio entre los dos l\xedmites especificados, inclusive.",e.Msg.MATH_ROUND_HELPURL="https://es.wikipedia.org/wiki/Redondeo",e.Msg.MATH_ROUND_OPERATOR_ROUND="redondear",e.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="redondear a la baja",e.Msg.MATH_ROUND_OPERATOR_ROUNDUP="redondear al alza",e.Msg.MATH_ROUND_TOOLTIP="Redondear un n\xfamero al alza o a la baja.",e.Msg.MATH_SINGLE_HELPURL="https://es.wikipedia.org/wiki/Ra%C3%ADz_cuadrada",e.Msg.MATH_SINGLE_OP_ABSOLUTE="absoluto",e.Msg.MATH_SINGLE_OP_ROOT="ra\xedz cuadrada",e.Msg.MATH_SINGLE_TOOLTIP_ABS="Devuelve el valor absoluto de un n\xfamero.",e.Msg.MATH_SINGLE_TOOLTIP_EXP="Devuelve e a la potencia de un n\xfamero.",e.Msg.MATH_SINGLE_TOOLTIP_LN="Devuelve el logaritmo natural de un n\xfamero.",e.Msg.MATH_SINGLE_TOOLTIP_LOG10="Devuelve el logaritmo base 10 de un n\xfamero.",e.Msg.MATH_SINGLE_TOOLTIP_NEG="Devuelve la negaci\xf3n de un n\xfamero.",e.Msg.MATH_SINGLE_TOOLTIP_POW10="Devuelve 10 a la potencia de un n\xfamero.",e.Msg.MATH_SINGLE_TOOLTIP_ROOT="Devuelve la ra\xedz cuadrada de un n\xfamero.",e.Msg.MATH_SUBTRACTION_SYMBOL="-",e.Msg.MATH_TRIG_ACOS="acos",e.Msg.MATH_TRIG_ASIN="asin",e.Msg.MATH_TRIG_ATAN="atan",e.Msg.MATH_TRIG_COS="cos",e.Msg.MATH_TRIG_HELPURL="https://es.wikipedia.org/wiki/Funci\xf3n_trigonom\xe9trica",e.Msg.MATH_TRIG_SIN="sin",e.Msg.MATH_TRIG_TAN="tan",e.Msg.MATH_TRIG_TOOLTIP_ACOS="Devuelve el arcocoseno de un n\xfamero.",e.Msg.MATH_TRIG_TOOLTIP_ASIN="Devuelve el arcoseno de un n\xfamero.",e.Msg.MATH_TRIG_TOOLTIP_ATAN="Devuelve el arcotangente de un n\xfamero.",e.Msg.MATH_TRIG_TOOLTIP_COS="Devuelve el coseno de un grado (no radi\xe1n).",e.Msg.MATH_TRIG_TOOLTIP_SIN="Devuelve el seno de un grado (no radi\xe1n).",e.Msg.MATH_TRIG_TOOLTIP_TAN="Devuelve la tangente de un grado (no radi\xe1n).",e.Msg.NEW_COLOUR_VARIABLE="Crear una variable de color...",e.Msg.NEW_NUMBER_VARIABLE="Crear una variable de n\xfamero...",e.Msg.NEW_STRING_VARIABLE="Crear una cadena variable...",e.Msg.NEW_VARIABLE="Crear variable\u2026",e.Msg.NEW_VARIABLE_TITLE="Nombre de variable nueva:",e.Msg.NEW_VARIABLE_TYPE_TITLE="Nuevo tipo de variable:",e.Msg.ORDINAL_NUMBER_SUFFIX="",e.Msg.PROCEDURES_ALLOW_STATEMENTS="permitir declaraciones",e.Msg.PROCEDURES_BEFORE_PARAMS="con:",e.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://es.wikipedia.org/wiki/Subrutina",e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Ejecuta la funci\xf3n definida por el usuario '%1'.",e.Msg.PROCEDURES_CALLRETURN_HELPURL="https://es.wikipedia.org/wiki/Subrutina",e.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Ejecuta la funci\xf3n definida por el usuario '%1' y usa su salida.",e.Msg.PROCEDURES_CALL_BEFORE_PARAMS="con:",e.Msg.PROCEDURES_CREATE_DO="Crear '%1'",e.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe esta funci\xf3n...",e.Msg.PROCEDURES_DEFNORETURN_DO="",e.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="hacer algo",e.Msg.PROCEDURES_DEFNORETURN_TITLE="para",e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Crea una funci\xf3n sin salida.",e.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFRETURN_RETURN="devuelve",e.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Crea una funci\xf3n con una salida.",e.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Advertencia: Esta funci\xf3n tiene par\xe1metros duplicados.",e.Msg.PROCEDURES_HIGHLIGHT_DEF="Destacar definici\xf3n de la funci\xf3n",e.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",e.Msg.PROCEDURES_IFRETURN_TOOLTIP="Si un valor es verdadero, entonces devuelve un segundo valor.",e.Msg.PROCEDURES_IFRETURN_WARNING="Advertencia: Este bloque solo puede ser utilizado dentro de la definici\xf3n de una funci\xf3n.",e.Msg.PROCEDURES_MUTATORARG_TITLE="nombre de entrada:",e.Msg.PROCEDURES_MUTATORARG_TOOLTIP="A\xf1adir una entrada a la funci\xf3n.",e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="entradas",e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="A\xf1adir, eliminar o reordenar entradas para esta funci\xf3n.",e.Msg.REDO="Rehacer",e.Msg.REMOVE_COMMENT="Eliminar comentario",e.Msg.RENAME_VARIABLE="Cambiar nombre de variable\u2026",e.Msg.RENAME_VARIABLE_TITLE="Renombrar todas las variables \xab%1\xbb a:",e.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_APPEND_TITLE="a %1 a\xf1ade el texto %2",e.Msg.TEXT_APPEND_TOOLTIP="A\xf1adir texto a la variable '%1'.",e.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="a min\xfasculas",e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="a May\xfasculas Cada Palabra",e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="a MAY\xdaSCULAS",e.Msg.TEXT_CHANGECASE_TOOLTIP="Devuelve una copia del texto en un tama\xf1o diferente.",e.Msg.TEXT_CHARAT_FIRST="obtener la primera letra",e.Msg.TEXT_CHARAT_FROM_END="obtener la letra # del final",e.Msg.TEXT_CHARAT_FROM_START="obtener la letra #",e.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg.TEXT_CHARAT_LAST="obtener la \xfaltima letra",e.Msg.TEXT_CHARAT_RANDOM="obtener letra aleatoria",e.Msg.TEXT_CHARAT_TAIL="",e.Msg.TEXT_CHARAT_TITLE="en el texto %1 %2",e.Msg.TEXT_CHARAT_TOOLTIP="Devuelve la letra en la posici\xf3n especificada.",e.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg.TEXT_COUNT_MESSAGE0="contar %1 en %2",e.Msg.TEXT_COUNT_TOOLTIP="Cuantas veces aparece un texto dentro de otro texto.",e.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Agregar un elemento al texto.",e.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="unir",e.Msg.TEXT_CREATE_JOIN_TOOLTIP="Agregar, eliminar o reordenar las secciones para reconfigurar este bloque de texto.",e.Msg.TEXT_GET_SUBSTRING_END_FROM_END="hasta la letra # del final",e.Msg.TEXT_GET_SUBSTRING_END_FROM_START="hasta la letra #",e.Msg.TEXT_GET_SUBSTRING_END_LAST="hasta la \xfaltima letra",e.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="en el texto",e.Msg.TEXT_GET_SUBSTRING_START_FIRST="obtener subcadena desde la primera letra",e.Msg.TEXT_GET_SUBSTRING_START_FROM_END="obtener subcadena desde la letra # del final",e.Msg.TEXT_GET_SUBSTRING_START_FROM_START="obtener subcadena desde la letra #",e.Msg.TEXT_GET_SUBSTRING_TAIL="",e.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Devuelve una porci\xf3n determinada del texto.",e.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg.TEXT_INDEXOF_OPERATOR_FIRST="encontrar la primera aparici\xf3n del texto",e.Msg.TEXT_INDEXOF_OPERATOR_LAST="encontrar la \xfaltima aparici\xf3n del texto",e.Msg.TEXT_INDEXOF_TITLE="en el texto %1 %2 %3",e.Msg.TEXT_INDEXOF_TOOLTIP="Devuelve el \xedndice de la primera/\xfaltima aparici\xf3n del primer texto en el segundo texto. Devuelve %1 si el texto no se encuentra.",e.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg.TEXT_ISEMPTY_TITLE="%1 est\xe1 vac\xedo",e.Msg.TEXT_ISEMPTY_TOOLTIP="Devuelve verdadero si el texto proporcionado est\xe1 vac\xedo.",e.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg.TEXT_JOIN_TITLE_CREATEWITH="crear texto con",e.Msg.TEXT_JOIN_TOOLTIP="Crear un fragmento de texto al unir cualquier n\xfamero de elementos.",e.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_LENGTH_TITLE="longitud de %1",e.Msg.TEXT_LENGTH_TOOLTIP="Devuelve el n\xfamero de letras (espacios incluidos) del texto proporcionado.",e.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg.TEXT_PRINT_TITLE="imprimir %1",e.Msg.TEXT_PRINT_TOOLTIP="Imprimir el texto, n\xfamero u otro valor especificado.",e.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Solicitar al usuario un n\xfamero.",e.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Solicitar al usuario un texto.",e.Msg.TEXT_PROMPT_TYPE_NUMBER="solicitar n\xfamero con el mensaje",e.Msg.TEXT_PROMPT_TYPE_TEXT="solicitar texto con el mensaje",e.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg.TEXT_REPLACE_MESSAGE0="reemplazar %1 con %2 en %3",e.Msg.TEXT_REPLACE_TOOLTIP="Reemplazar todas las veces que un texto dentro de otro texto.",e.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg.TEXT_REVERSE_MESSAGE0="invertir %1",e.Msg.TEXT_REVERSE_TOOLTIP="Invierte el orden de los caracteres en el texto.",e.Msg.TEXT_TEXT_HELPURL="https://es.wikipedia.org/wiki/Cadena_de_caracteres",e.Msg.TEXT_TEXT_TOOLTIP="Una letra, palabra o l\xednea de texto.",e.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg.TEXT_TRIM_OPERATOR_BOTH="quitar espacios de ambos lados de",e.Msg.TEXT_TRIM_OPERATOR_LEFT="quitar espacios iniciales de",e.Msg.TEXT_TRIM_OPERATOR_RIGHT="quitar espacios finales de",e.Msg.TEXT_TRIM_TOOLTIP="Devuelve una copia del texto sin los espacios de uno o ambos extremos.",e.Msg.TODAY="Hoy",e.Msg.UNDO="Deshacer",e.Msg.UNNAMED_KEY="unnamed",e.Msg.VARIABLES_DEFAULT_NAME="elemento",e.Msg.VARIABLES_GET_CREATE_SET="Crear 'establecer %1'",e.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",e.Msg.VARIABLES_GET_TOOLTIP="Devuelve el valor de esta variable.",e.Msg.VARIABLES_SET="establecer %1 a %2",e.Msg.VARIABLES_SET_CREATE_GET="Crear 'obtener %1'",e.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",e.Msg.VARIABLES_SET_TOOLTIP="Establece esta variable para que sea igual a la entrada.",e.Msg.VARIABLE_ALREADY_EXISTS="Ya existe una variable llamada '%1'.",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="Ya existe una variable nombrada '%1' para otra variable del tipo: '%2'.",e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Di algo\u2026",e.Msg.CONTROLS_FOREACH_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_FOR_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=e.Msg.CONTROLS_IF_MSG_ELSEIF,e.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=e.Msg.CONTROLS_IF_MSG_ELSE,e.Msg.CONTROLS_IF_IF_TITLE_IF=e.Msg.CONTROLS_IF_MSG_IF,e.Msg.CONTROLS_IF_MSG_THEN=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.LISTS_CREATE_WITH_ITEM_TITLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.LISTS_GET_INDEX_HELPURL=e.Msg.LISTS_INDEX_OF_HELPURL,e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.MATH_CHANGE_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.PROCEDURES_DEFRETURN_COMMENT=e.Msg.PROCEDURES_DEFNORETURN_COMMENT,e.Msg.PROCEDURES_DEFRETURN_DO=e.Msg.PROCEDURES_DEFNORETURN_DO,e.Msg.PROCEDURES_DEFRETURN_PROCEDURE=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,e.Msg.PROCEDURES_DEFRETURN_TITLE=e.Msg.PROCEDURES_DEFNORETURN_TITLE,e.Msg.TEXT_APPEND_VARIABLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.Logic="Logica",e.Msg.CONTROLS_WHILE="mientras %1",e.Msg.CONTROLS_WHILE_DO="hacer que ",e.Msg.ROMPER="true",e.Msg.MATH_HUE="230",e.Msg.LOOPS_HUE="120",e.Msg.LISTS_HUE="260",e.Msg.LOGIC_HUE="210",e.Msg.VARIABLES_HUE="330",e.Msg.TEXTS_HUE="160",e.Msg.PROCEDURES_HUE="290",e.Msg.COLOUR_HUE="20",e.Msg.VARIABLES_DYNAMIC_HUE="310",e.Msg.variables="juan jesus",e.Msg})?n.apply(t,i):n)||(e.exports=s)},187:function(e,t,o){var n,i,s;i=[o(17)],void 0===(s="function"===typeof(n=function(e){return(e={Msg:{}}).Msg.ADD_COMMENT="Ajouter un commentaire",e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Impossible de supprimer la variable '%1' parce qu\u2019elle fait partie de la d\xe9finition de la fonction '%2'",e.Msg.CHANGE_VALUE_TITLE="Modifier la valeur :",e.Msg.CLEAN_UP="Nettoyer les blocs",e.Msg.COLLAPSED_WARNINGS_WARNING="Les blocs repli\xe9s contiennent des avertissements.",e.Msg.COLLAPSE_ALL="R\xe9duire les blocs",e.Msg.COLLAPSE_BLOCK="R\xe9duire le bloc",e.Msg.COLOUR_BLEND_COLOUR1="couleur 1",e.Msg.COLOUR_BLEND_COLOUR2="couleur 2",e.Msg.COLOUR_BLEND_HELPURL="http://meyerweb.com/eric/tools/color-blend/",e.Msg.COLOUR_BLEND_RATIO="taux",e.Msg.COLOUR_BLEND_TITLE="m\xe9langer",e.Msg.COLOUR_BLEND_TOOLTIP="M\xe9lange deux couleurs dans une proportion donn\xe9e (de 0.0 \xe0 1.0).",e.Msg.COLOUR_PICKER_HELPURL="https://fr.wikipedia.org/wiki/Couleur",e.Msg.COLOUR_PICKER_TOOLTIP="Choisir une couleur dans la palette.",e.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",e.Msg.COLOUR_RANDOM_TITLE="couleur al\xe9atoire",e.Msg.COLOUR_RANDOM_TOOLTIP="Choisir une couleur au hasard.",e.Msg.COLOUR_RGB_BLUE="bleu",e.Msg.COLOUR_RGB_GREEN="vert",e.Msg.COLOUR_RGB_HELPURL="http://www.december.com/html/spec/colorper.html",e.Msg.COLOUR_RGB_RED="rouge",e.Msg.COLOUR_RGB_TITLE="colorier en",e.Msg.COLOUR_RGB_TOOLTIP="Cr\xe9er une couleur avec la quantit\xe9 sp\xe9cifi\xe9e de rouge, vert et bleu. Les valeurs doivent \xeatre comprises entre 0 et 100.",e.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="quitter la boucle",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="passer \xe0 l\u2019it\xe9ration de boucle suivante",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Sortir de la boucle englobante.",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Sauter le reste de cette boucle, et poursuivre avec l\u2019it\xe9ration suivante.",e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Attention : Ce bloc ne devrait \xeatre utilis\xe9 que dans une boucle.",e.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",e.Msg.CONTROLS_FOREACH_TITLE="pour chaque \xe9l\xe9ment %1 dans la liste %2",e.Msg.CONTROLS_FOREACH_TOOLTIP="Pour chaque \xe9l\xe9ment d\u2019une liste, assigner la valeur de l\u2019\xe9l\xe9ment \xe0 la variable '%1', puis ex\xe9cuter des instructions.",e.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",e.Msg.CONTROLS_FOR_TITLE="compter avec %1 de %2 \xe0 %3 par %4",e.Msg.CONTROLS_FOR_TOOLTIP="Faire prendre \xe0 la variable \xab\u202f%1\u202f\xbb les valeurs depuis le nombre de d\xe9but jusqu\u2019au nombre de fin, en s\u2019incr\xe9mentant du pas sp\xe9cifi\xe9, et ex\xe9cuter les instructions sp\xe9cifi\xe9es.",e.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Ajouter une condition au bloc si.",e.Msg.CONTROLS_IF_ELSE_TOOLTIP="Ajouter une condition finale fourre-tout au bloc si.",e.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",e.Msg.CONTROLS_IF_IF_TOOLTIP="Ajouter, supprimer ou r\xe9ordonner les sections pour reconfigurer ce bloc si.",e.Msg.CONTROLS_IF_MSG_ELSE="sinon",e.Msg.CONTROLS_IF_MSG_ELSEIF="sinon si",e.Msg.CONTROLS_IF_MSG_IF="si",e.Msg.CONTROLS_IF_TOOLTIP_1="Si une valeur est vraie, alors ex\xe9cuter certains ordres.",e.Msg.CONTROLS_IF_TOOLTIP_2="Si une valeur est vraie, alors ex\xe9cuter le premier bloc d\u2019ordres. Sinon, ex\xe9cuter le second bloc d\u2019ordres.",e.Msg.CONTROLS_IF_TOOLTIP_3="Si la premi\xe8re valeur est vraie, alors ex\xe9cuter le premier bloc d\u2019ordres. Sinon, si la seconde valeur est vraie, ex\xe9cuter le second bloc d\u2019ordres.",e.Msg.CONTROLS_IF_TOOLTIP_4="Si la premi\xe8re valeur est vraie, alors ex\xe9cuter le premier bloc d\u2019ordres. Sinon, si la seconde valeur est vraie, ex\xe9cuter le second bloc d\u2019ordres. Si aucune des valeurs n\u2019est vraie, ex\xe9cuter le dernier bloc d\u2019ordres.",e.Msg.CONTROLS_REPEAT_HELPURL="http://fr.wikipedia.org/wiki/Boucle_for",e.Msg.CONTROLS_REPEAT_INPUT_DO="faire",e.Msg.CONTROLS_REPEAT_TITLE="r\xe9p\xe9ter %1 fois",e.Msg.CONTROLS_REPEAT_TOOLTIP="Ex\xe9cuter des instructions plusieurs fois.",e.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="r\xe9p\xe9ter jusqu\u2019\xe0",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="r\xe9p\xe9ter tant que",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="Tant qu\u2019une valeur est fausse, alors ex\xe9cuter des instructions.",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="Tant qu\u2019une valeur est vraie, alors ex\xe9cuter des instructions.",e.Msg.DELETE_ALL_BLOCKS="Supprimer ces %1 blocs\u202f?",e.Msg.DELETE_BLOCK="Supprimer le bloc",e.Msg.DELETE_VARIABLE="Supprimer la variable '%1'",e.Msg.DELETE_VARIABLE_CONFIRMATION="Supprimer %1 utilisations de la variable '%2'\u202f?",e.Msg.DELETE_X_BLOCKS="Supprimer %1 blocs",e.Msg.DISABLE_BLOCK="D\xe9sactiver le bloc",e.Msg.DUPLICATE_BLOCK="Dupliquer",e.Msg.DUPLICATE_COMMENT="Dupliquer le commentaire",e.Msg.ENABLE_BLOCK="Activer le bloc",e.Msg.EXPAND_ALL="D\xe9velopper les blocs",e.Msg.EXPAND_BLOCK="D\xe9velopper le bloc",e.Msg.EXTERNAL_INPUTS="Entr\xe9es externes",e.Msg.HELP="Aide",e.Msg.INLINE_INPUTS="Entr\xe9es en ligne",e.Msg.IOS_CANCEL="Annuler",e.Msg.IOS_ERROR="Erreur",e.Msg.IOS_OK="OK",e.Msg.IOS_PROCEDURES_ADD_INPUT="+ Ajouter une entr\xe9e",e.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="Ordres autoris\xe9s",e.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="Cette fonction a des entr\xe9es dupliqu\xe9es.",e.Msg.IOS_PROCEDURES_INPUTS="ENTR\xc9ES",e.Msg.IOS_VARIABLES_ADD_BUTTON="Ajouter",e.Msg.IOS_VARIABLES_ADD_VARIABLE="+ Ajouter une variable",e.Msg.IOS_VARIABLES_DELETE_BUTTON="Supprimer",e.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="Vous ne pouvez pas utiliser un nom de variable vide.",e.Msg.IOS_VARIABLES_RENAME_BUTTON="Renommer",e.Msg.IOS_VARIABLES_VARIABLE_NAME="Nom de la variable",e.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg.LISTS_CREATE_EMPTY_TITLE="cr\xe9er une liste vide",e.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Renvoyer une liste, de longueur 0, ne contenant aucun enregistrement",e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="liste",e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Ajouter, supprimer, ou r\xe9ordonner les sections pour reconfigurer ce bloc de liste.",e.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_CREATE_WITH_INPUT_WITH="cr\xe9er une liste avec",e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Ajouter un \xe9l\xe9ment \xe0 la liste.",e.Msg.LISTS_CREATE_WITH_TOOLTIP="Cr\xe9er une liste avec un nombre quelconque d\u2019\xe9l\xe9ments.",e.Msg.LISTS_GET_INDEX_FIRST="premier",e.Msg.LISTS_GET_INDEX_FROM_END="# depuis la fin",e.Msg.LISTS_GET_INDEX_FROM_START="#",e.Msg.LISTS_GET_INDEX_GET="obtenir",e.Msg.LISTS_GET_INDEX_GET_REMOVE="obtenir et supprimer",e.Msg.LISTS_GET_INDEX_LAST="dernier",e.Msg.LISTS_GET_INDEX_RANDOM="al\xe9atoire",e.Msg.LISTS_GET_INDEX_REMOVE="supprimer",e.Msg.LISTS_GET_INDEX_TAIL="",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Renvoie le premier \xe9l\xe9ment dans une liste.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Renvoie l\u2019\xe9l\xe9ment \xe0 la position indiqu\xe9e dans une liste.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Renvoie le dernier \xe9l\xe9ment dans une liste.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Renvoie un \xe9l\xe9ment au hasard dans une liste.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Supprime et renvoie le premier \xe9l\xe9ment dans une liste.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Supprime et renvoie l\u2019\xe9l\xe9ment \xe0 la position indiqu\xe9e dans une liste.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Supprime et renvoie le dernier \xe9l\xe9ment dans une liste.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Supprime et renvoie un \xe9l\xe9ment au hasard dans une liste.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Supprime le premier \xe9l\xe9ment dans une liste.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Supprime l\u2019\xe9l\xe9ment \xe0 la position indiqu\xe9e dans une liste.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Supprime le dernier \xe9l\xe9ment dans une liste.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Supprime un \xe9l\xe9ment au hasard dans une liste.",e.Msg.LISTS_GET_SUBLIST_END_FROM_END="jusqu\u2019\xe0 # depuis la fin",e.Msg.LISTS_GET_SUBLIST_END_FROM_START="jusqu\u2019\xe0 #",e.Msg.LISTS_GET_SUBLIST_END_LAST="jusqu\u2019\xe0 la fin",e.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg.LISTS_GET_SUBLIST_START_FIRST="obtenir la sous-liste depuis le d\xe9but",e.Msg.LISTS_GET_SUBLIST_START_FROM_END="obtenir la sous-liste depuis # depuis la fin",e.Msg.LISTS_GET_SUBLIST_START_FROM_START="obtenir la sous-liste depuis #",e.Msg.LISTS_GET_SUBLIST_TAIL="",e.Msg.LISTS_GET_SUBLIST_TOOLTIP="Cr\xe9e une copie de la partie sp\xe9cifi\xe9e d\u2019une liste.",e.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 est le dernier \xe9l\xe9ment.",e.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 est le premier \xe9l\xe9ment.",e.Msg.LISTS_INDEX_OF_FIRST="trouver la premi\xe8re occurrence de l\u2019\xe9l\xe9ment",e.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg.LISTS_INDEX_OF_LAST="trouver la derni\xe8re occurrence de l\u2019\xe9l\xe9ment",e.Msg.LISTS_INDEX_OF_TOOLTIP="Renvoie l\u2019index de la premi\xe8re/derni\xe8re occurrence de l\u2019\xe9l\xe9ment dans la liste. Renvoie %1 si l'\xe9l\xe9ment n'est pas trouv\xe9.",e.Msg.LISTS_INLIST="dans la liste",e.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg.LISTS_ISEMPTY_TITLE="%1 est vide",e.Msg.LISTS_ISEMPTY_TOOLTIP="Renvoie vrai si la liste est vide.",e.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg.LISTS_LENGTH_TITLE="longueur de %1",e.Msg.LISTS_LENGTH_TOOLTIP="Renvoie la longueur d\u2019une liste.",e.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_REPEAT_TITLE="cr\xe9er une liste avec l\u2019\xe9l\xe9ment %1 r\xe9p\xe9t\xe9 %2 fois",e.Msg.LISTS_REPEAT_TOOLTIP="Cr\xe9e une liste consistant en la valeur fournie r\xe9p\xe9t\xe9e le nombre de fois indiqu\xe9.",e.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg.LISTS_REVERSE_MESSAGE0="inverser %1",e.Msg.LISTS_REVERSE_TOOLTIP="Inverser la copie d\u2019une liste.",e.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg.LISTS_SET_INDEX_INPUT_TO="comme",e.Msg.LISTS_SET_INDEX_INSERT="ins\xe9rer en",e.Msg.LISTS_SET_INDEX_SET="mettre",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Ins\xe8re l\u2019\xe9l\xe9ment au d\xe9but d\u2019une liste.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Ins\xe8re l\u2019\xe9l\xe9ment \xe0 la position indiqu\xe9e dans une liste.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Ajouter l\u2019\xe9l\xe9ment \xe0 la fin d\u2019une liste.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Ins\xe8re l\u2019\xe9l\xe9ment au hasard dans une liste.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Fixe le premier \xe9l\xe9ment dans une liste.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Met \xe0 jour l\u2019\xe9l\xe9ment \xe0 la position indiqu\xe9e dans une liste.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Fixe le dernier \xe9l\xe9ment dans une liste.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Fixe un \xe9l\xe9ment au hasard dans une liste.",e.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg.LISTS_SORT_ORDER_ASCENDING="croissant",e.Msg.LISTS_SORT_ORDER_DESCENDING="d\xe9croissant",e.Msg.LISTS_SORT_TITLE="trier %1 %2 %3",e.Msg.LISTS_SORT_TOOLTIP="Trier une copie d\u2019une liste.",e.Msg.LISTS_SORT_TYPE_IGNORECASE="alphab\xe9tique, en ignorant la casse",e.Msg.LISTS_SORT_TYPE_NUMERIC="num\xe9rique",e.Msg.LISTS_SORT_TYPE_TEXT="alphab\xe9tique",e.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg.LISTS_SPLIT_LIST_FROM_TEXT="cr\xe9er une liste depuis le texte",e.Msg.LISTS_SPLIT_TEXT_FROM_LIST="cr\xe9er un texte depuis la liste",e.Msg.LISTS_SPLIT_TOOLTIP_JOIN="R\xe9unir une liste de textes en un seul, en les s\xe9parant par un s\xe9parateur.",e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Couper un texte en une liste de textes, en coupant \xe0 chaque s\xe9parateur.",e.Msg.LISTS_SPLIT_WITH_DELIMITER="avec s\xe9parateur",e.Msg.LOGIC_BOOLEAN_FALSE="faux",e.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",e.Msg.LOGIC_BOOLEAN_TOOLTIP="Renvoie soit vrai soit faux.",e.Msg.LOGIC_BOOLEAN_TRUE="vrai",e.Msg.LOGIC_COMPARE_HELPURL="https://fr.wikipedia.org/wiki/In%C3%A9galit%C3%A9_(math%C3%A9matiques)",e.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Renvoyer vrai si les deux entr\xe9es sont \xe9gales.",e.Msg.LOGIC_COMPARE_TOOLTIP_GT="Renvoyer vrai si la premi\xe8re entr\xe9e est plus grande que la seconde.",e.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Renvoyer true si la premi\xe8re entr\xe9e est sup\xe9rieure ou \xe9gale \xe0 la seconde.",e.Msg.LOGIC_COMPARE_TOOLTIP_LT="Renvoyer vrai si la premi\xe8re entr\xe9e est plus petite que la seconde.",e.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Renvoyer vrai si la premi\xe8re entr\xe9e est plus petite ou \xe9gale \xe0 la seconde.",e.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Renvoyer vrai si les deux entr\xe9es sont diff\xe9rentes.",e.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",e.Msg.LOGIC_NEGATE_TITLE="pas %1",e.Msg.LOGIC_NEGATE_TOOLTIP="Renvoie vrai si l\u2019entr\xe9e est fausse. Renvoie faux si l\u2019entr\xe9e est vraie.",e.Msg.LOGIC_NULL="nul",e.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",e.Msg.LOGIC_NULL_TOOLTIP="Renvoie nul.",e.Msg.LOGIC_OPERATION_AND="et",e.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",e.Msg.LOGIC_OPERATION_OR="ou",e.Msg.LOGIC_OPERATION_TOOLTIP_AND="Renvoyer vrai si les deux entr\xe9es sont vraies.",e.Msg.LOGIC_OPERATION_TOOLTIP_OR="Renvoyer vrai si au moins une des entr\xe9es est vraie.",e.Msg.LOGIC_TERNARY_CONDITION="test",e.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",e.Msg.LOGIC_TERNARY_IF_FALSE="si faux",e.Msg.LOGIC_TERNARY_IF_TRUE="si vrai",e.Msg.LOGIC_TERNARY_TOOLTIP="V\xe9rifier la condition dans 'test'. Si elle est vraie, renvoie la valeur 'si vrai'\u202f; sinon renvoie la valeur 'si faux'.",e.Msg.MATH_ADDITION_SYMBOL="+",e.Msg.MATH_ARITHMETIC_HELPURL="https://fr.wikipedia.org/wiki/Arithm%C3%A9tique",e.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Renvoie la somme des deux nombres.",e.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Renvoie le quotient des deux nombres.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Renvoie la diff\xe9rence des deux nombres.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Renvoie le produit des deux nombres.",e.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Renvoie le premier nombre \xe9lev\xe9 \xe0 la puissance du second.",e.Msg.MATH_ATAN2_HELPURL="https://fr.wikipedia.org/wiki/Atan2",e.Msg.MATH_ATAN2_TITLE="atan2 de X:%1 Y:%2",e.Msg.MATH_ATAN2_TOOLTIP="Renvoie l'arc tangente du point (X, Y) en degr\xe9s entre -180 et 180.",e.Msg.MATH_CHANGE_HELPURL="https://fr.wikipedia.org/wiki/Idiome_de_programmation",e.Msg.MATH_CHANGE_TITLE="incr\xe9menter %1 de %2",e.Msg.MATH_CHANGE_TOOLTIP="Ajouter un nombre \xe0 la variable '%1'.",e.Msg.MATH_CONSTANT_HELPURL="https://fr.wikipedia.org/wiki/Table_de_constantes_math%C3%A9matiques",e.Msg.MATH_CONSTANT_TOOLTIP="Renvoie une des constantes courantes : \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\xbd) (0.707\u2026), ou \u221e (infini).",e.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",e.Msg.MATH_CONSTRAIN_TITLE="contraindre %1 entre %2 et %3",e.Msg.MATH_CONSTRAIN_TOOLTIP="Contraindre un nombre \xe0 \xeatre entre les limites sp\xe9cifi\xe9es (incluses).",e.Msg.MATH_DIVISION_SYMBOL="\xf7",e.Msg.MATH_IS_DIVISIBLE_BY="est divisible par",e.Msg.MATH_IS_EVEN="est pair",e.Msg.MATH_IS_NEGATIVE="est n\xe9gatif",e.Msg.MATH_IS_ODD="est impair",e.Msg.MATH_IS_POSITIVE="est positif",e.Msg.MATH_IS_PRIME="est premier",e.Msg.MATH_IS_TOOLTIP="V\xe9rifier si un nombre est pair, impair, premier, entier, positif, n\xe9gatif, ou s\u2019il est divisible par un certain nombre. Renvoie vrai ou faux.",e.Msg.MATH_IS_WHOLE="est entier",e.Msg.MATH_MODULO_HELPURL="https://fr.wikipedia.org/wiki/Modulo_(op%C3%A9ration)",e.Msg.MATH_MODULO_TITLE="reste de %1 \xf7 %2",e.Msg.MATH_MODULO_TOOLTIP="Renvoyer le reste de la division euclidienne des deux nombres.",e.Msg.MATH_MULTIPLICATION_SYMBOL="\xd7",e.Msg.MATH_NUMBER_HELPURL="https://fr.wikipedia.org/wiki/Nombre",e.Msg.MATH_NUMBER_TOOLTIP="Un nombre.",e.Msg.MATH_ONLIST_HELPURL="",e.Msg.MATH_ONLIST_OPERATOR_AVERAGE="moyenne de la liste",e.Msg.MATH_ONLIST_OPERATOR_MAX="maximum de la liste",e.Msg.MATH_ONLIST_OPERATOR_MEDIAN="m\xe9diane de la liste",e.Msg.MATH_ONLIST_OPERATOR_MIN="minimum de la liste",e.Msg.MATH_ONLIST_OPERATOR_MODE="majoritaires de la liste",e.Msg.MATH_ONLIST_OPERATOR_RANDOM="\xe9l\xe9ment al\xe9atoire de la liste",e.Msg.MATH_ONLIST_OPERATOR_STD_DEV="\xe9cart-type de la liste",e.Msg.MATH_ONLIST_OPERATOR_SUM="somme de la liste",e.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Renvoyer la moyenne (arithm\xe9tique) des valeurs num\xe9riques dans la liste.",e.Msg.MATH_ONLIST_TOOLTIP_MAX="Renvoyer le plus grand nombre dans la liste.",e.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Renvoyer le nombre m\xe9dian de la liste.",e.Msg.MATH_ONLIST_TOOLTIP_MIN="Renvoyer le plus petit nombre dans la liste.",e.Msg.MATH_ONLIST_TOOLTIP_MODE="Renvoyer une liste des \xe9l\xe9ment(s) le(s) plus courant(s) dans la liste.",e.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Renvoyer un \xe9l\xe9ment dans la liste au hasard.",e.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Renvoyer l\u2019\xe9cart-type de la liste.",e.Msg.MATH_ONLIST_TOOLTIP_SUM="Renvoyer la somme de tous les nombres dans la liste.",e.Msg.MATH_POWER_SYMBOL="^",e.Msg.MATH_RANDOM_FLOAT_HELPURL="https://fr.wikipedia.org/wiki/G%C3%A9n%C3%A9rateur_de_nombres_al%C3%A9atoires",e.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="fraction al\xe9atoire",e.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Renvoyer une fraction al\xe9atoire entre 0.0 (inclus) et 1.0 (exclus).",e.Msg.MATH_RANDOM_INT_HELPURL="https://fr.wikipedia.org/wiki/G%C3%A9n%C3%A9rateur_de_nombres_al%C3%A9atoires",e.Msg.MATH_RANDOM_INT_TITLE="entier al\xe9atoire entre %1 et %2",e.Msg.MATH_RANDOM_INT_TOOLTIP="Renvoyer un entier al\xe9atoire entre les deux limites sp\xe9cifi\xe9es, incluses.",e.Msg.MATH_ROUND_HELPURL="https://fr.wikipedia.org/wiki/Arrondi_(math%C3%A9matiques)",e.Msg.MATH_ROUND_OPERATOR_ROUND="arrondir",e.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="arrondir par d\xe9faut",e.Msg.MATH_ROUND_OPERATOR_ROUNDUP="arrondir par exc\xe8s",e.Msg.MATH_ROUND_TOOLTIP="Arrondir un nombre au-dessus ou au-dessous.",e.Msg.MATH_SINGLE_HELPURL="https://fr.wikipedia.org/wiki/Racine_carr%C3%A9e",e.Msg.MATH_SINGLE_OP_ABSOLUTE="valeur absolue",e.Msg.MATH_SINGLE_OP_ROOT="racine carr\xe9e",e.Msg.MATH_SINGLE_TOOLTIP_ABS="Renvoie la valeur absolue d\u2019un nombre.",e.Msg.MATH_SINGLE_TOOLTIP_EXP="Renvoie e \xe0 la puissance d\u2019un nombre.",e.Msg.MATH_SINGLE_TOOLTIP_LN="Renvoie le logarithme naturel d\u2019un nombre.",e.Msg.MATH_SINGLE_TOOLTIP_LOG10="Renvoie le logarithme d\xe9cimal d\u2019un nombre.",e.Msg.MATH_SINGLE_TOOLTIP_NEG="Renvoie l\u2019oppos\xe9 d\u2019un nombre",e.Msg.MATH_SINGLE_TOOLTIP_POW10="Renvoie 10 \xe0 la puissance d\u2019un nombre.",e.Msg.MATH_SINGLE_TOOLTIP_ROOT="Renvoie la racine carr\xe9e d\u2019un nombre.",e.Msg.MATH_SUBTRACTION_SYMBOL="-",e.Msg.MATH_TRIG_ACOS="acos",e.Msg.MATH_TRIG_ASIN="asin",e.Msg.MATH_TRIG_ATAN="atan",e.Msg.MATH_TRIG_COS="cos",e.Msg.MATH_TRIG_HELPURL="https://fr.wikipedia.org/wiki/Fonction_trigonom%C3%A9trique",e.Msg.MATH_TRIG_SIN="sin",e.Msg.MATH_TRIG_TAN="tan",e.Msg.MATH_TRIG_TOOLTIP_ACOS="Renvoie l\u2019arccosinus d\u2019un nombre.",e.Msg.MATH_TRIG_TOOLTIP_ASIN="Renvoie l\u2019arcsinus d\u2019un nombre.",e.Msg.MATH_TRIG_TOOLTIP_ATAN="Renvoie l\u2019arctangente d\u2019un nombre.",e.Msg.MATH_TRIG_TOOLTIP_COS="Renvoie le cosinus d\u2019un angle en degr\xe9s (pas en radians).",e.Msg.MATH_TRIG_TOOLTIP_SIN="Renvoie le sinus d\u2019un angle en degr\xe9s (pas en radians).",e.Msg.MATH_TRIG_TOOLTIP_TAN="Renvoie la tangente d\u2019un angle en degr\xe9s (pas en radians).",e.Msg.NEW_COLOUR_VARIABLE="Cr\xe9er une variable couleur\u2026",e.Msg.NEW_NUMBER_VARIABLE="Cr\xe9er une variable nombre\u2026",e.Msg.NEW_STRING_VARIABLE="Cr\xe9er une variable cha\xeene\u2026",e.Msg.NEW_VARIABLE="Cr\xe9er une variable...",e.Msg.NEW_VARIABLE_TITLE="Nom de la nouvelle variable :",e.Msg.NEW_VARIABLE_TYPE_TITLE="Nouveau type de variable :",e.Msg.ORDINAL_NUMBER_SUFFIX="",e.Msg.PROCEDURES_ALLOW_STATEMENTS="autoriser les ordres",e.Msg.PROCEDURES_BEFORE_PARAMS="avec :",e.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://fr.wikipedia.org/wiki/Sous-programme",e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Ex\xe9cuter la fonction '%1' d\xe9finie par l\u2019utilisateur.",e.Msg.PROCEDURES_CALLRETURN_HELPURL="https://fr.wikipedia.org/wiki/Sous-programme",e.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Ex\xe9cuter la fonction '%1' d\xe9finie par l\u2019utilisateur et utiliser son r\xe9sultat.",e.Msg.PROCEDURES_CALL_BEFORE_PARAMS="avec :",e.Msg.PROCEDURES_CREATE_DO="Cr\xe9er '%1'",e.Msg.PROCEDURES_DEFNORETURN_COMMENT="D\xe9crire cette fonction\u2026",e.Msg.PROCEDURES_DEFNORETURN_DO="",e.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="faire quelque chose",e.Msg.PROCEDURES_DEFNORETURN_TITLE="pour",e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Cr\xe9e une fonction sans sortie.",e.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFRETURN_RETURN="retour",e.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Cr\xe9e une fonction avec une sortie.",e.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Attention : Cette fonction a des param\xe8tres en double.",e.Msg.PROCEDURES_HIGHLIGHT_DEF="Surligner la d\xe9finition de la fonction",e.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",e.Msg.PROCEDURES_IFRETURN_TOOLTIP="Si une valeur est vraie, alors renvoyer une seconde valeur.",e.Msg.PROCEDURES_IFRETURN_WARNING="Attention : Ce bloc pourrait n\u2019\xeatre utilis\xe9 que dans une d\xe9finition de fonction.",e.Msg.PROCEDURES_MUTATORARG_TITLE="nom de l\u2019entr\xe9e :",e.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Ajouter une entr\xe9e \xe0 la fonction.",e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="entr\xe9es",e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Ajouter, supprimer, ou r\xe9arranger les entr\xe9es de cette fonction.",e.Msg.REDO="Refaire",e.Msg.REMOVE_COMMENT="Supprimer un commentaire",e.Msg.RENAME_VARIABLE="Renommer la variable\u2026",e.Msg.RENAME_VARIABLE_TITLE="Renommer toutes les variables \xab\xa0%1\xa0\xbb en :",e.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_APPEND_TITLE="ajouter le texte %2 \xe0 %1",e.Msg.TEXT_APPEND_TOOLTIP="Ajouter du texte \xe0 la variable '%1'.",e.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="en minuscules",e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="en Majuscule Au D\xe9but De Chaque Mot",e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="en MAJUSCULES",e.Msg.TEXT_CHANGECASE_TOOLTIP="Renvoyer une copie du texte dans une autre casse.",e.Msg.TEXT_CHARAT_FIRST="obtenir la premi\xe8re lettre",e.Msg.TEXT_CHARAT_FROM_END="obtenir la lettre # depuis la fin",e.Msg.TEXT_CHARAT_FROM_START="obtenir la lettre #",e.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg.TEXT_CHARAT_LAST="obtenir la derni\xe8re lettre",e.Msg.TEXT_CHARAT_RANDOM="obtenir une lettre au hasard",e.Msg.TEXT_CHARAT_TAIL="",e.Msg.TEXT_CHARAT_TITLE="dans le texte %1 %2",e.Msg.TEXT_CHARAT_TOOLTIP="Renvoie la lettre \xe0 la position indiqu\xe9e.",e.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg.TEXT_COUNT_MESSAGE0="nombre %1 sur %2",e.Msg.TEXT_COUNT_TOOLTIP="Compter combien de fois un texte donn\xe9 apparait dans un autre.",e.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Ajouter un \xe9l\xe9ment au texte.",e.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="joindre",e.Msg.TEXT_CREATE_JOIN_TOOLTIP="Ajouter, supprimer, ou r\xe9ordonner des sections pour reconfigurer ce bloc de texte.",e.Msg.TEXT_GET_SUBSTRING_END_FROM_END="jusqu\u2019\xe0 la lettre # depuis la fin",e.Msg.TEXT_GET_SUBSTRING_END_FROM_START="jusqu\u2019\xe0 la lettre #",e.Msg.TEXT_GET_SUBSTRING_END_LAST="jusqu\u2019\xe0 la derni\xe8re lettre",e.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="dans le texte",e.Msg.TEXT_GET_SUBSTRING_START_FIRST="obtenir la sous-cha\xeene depuis la premi\xe8re lettre",e.Msg.TEXT_GET_SUBSTRING_START_FROM_END="obtenir la sous-cha\xeene depuis la lettre # depuis la fin",e.Msg.TEXT_GET_SUBSTRING_START_FROM_START="obtenir la sous-cha\xeene depuis la lettre #",e.Msg.TEXT_GET_SUBSTRING_TAIL="",e.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Renvoie une partie indiqu\xe9e du texte.",e.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg.TEXT_INDEXOF_OPERATOR_FIRST="trouver la premi\xe8re occurrence de la cha\xeene",e.Msg.TEXT_INDEXOF_OPERATOR_LAST="trouver la derni\xe8re occurrence de la cha\xeene",e.Msg.TEXT_INDEXOF_TITLE="dans le texte %1 %2 %3",e.Msg.TEXT_INDEXOF_TOOLTIP="Renvoie l\u2019index de la premi\xe8re/derni\xe8re occurrence de la premi\xe8re cha\xeene dans la seconde. Renvoie %1 si la cha\xeene n\u2019est pas trouv\xe9e.",e.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg.TEXT_ISEMPTY_TITLE="%1 est vide",e.Msg.TEXT_ISEMPTY_TOOLTIP="Renvoie vrai si le texte fourni est vide.",e.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg.TEXT_JOIN_TITLE_CREATEWITH="cr\xe9er un texte avec",e.Msg.TEXT_JOIN_TOOLTIP="Cr\xe9er un morceau de texte en agr\xe9geant un nombre quelconque d\u2019\xe9l\xe9ments.",e.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_LENGTH_TITLE="longueur de %1",e.Msg.TEXT_LENGTH_TOOLTIP="Renvoie le nombre de lettres (espaces compris) dans le texte fourni.",e.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg.TEXT_PRINT_TITLE="afficher %1",e.Msg.TEXT_PRINT_TOOLTIP="Afficher le texte, le nombre ou une autre valeur sp\xe9cifi\xe9e.",e.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Demander un nombre \xe0 l\u2019utilisateur.",e.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Demander un texte \xe0 l\u2019utilisateur.",e.Msg.TEXT_PROMPT_TYPE_NUMBER="invite pour un nombre avec un message",e.Msg.TEXT_PROMPT_TYPE_TEXT="invite pour un texte avec un message",e.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg.TEXT_REPLACE_MESSAGE0="remplacer %1 par %2 dans %3",e.Msg.TEXT_REPLACE_TOOLTIP="Remplacer toutes les occurrences d\u2019un texte par un autre.",e.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg.TEXT_REVERSE_MESSAGE0="inverser %1",e.Msg.TEXT_REVERSE_TOOLTIP="Inverse l\u2019ordre des caract\xe8res dans le texte.",e.Msg.TEXT_TEXT_HELPURL="https://fr.wikipedia.org/wiki/Cha%C3%AEne_de_caract%C3%A8res",e.Msg.TEXT_TEXT_TOOLTIP="Une lettre, un mot ou une ligne de texte.",e.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg.TEXT_TRIM_OPERATOR_BOTH="supprimer les espaces des deux c\xf4t\xe9s",e.Msg.TEXT_TRIM_OPERATOR_LEFT="supprimer les espaces du c\xf4t\xe9 gauche",e.Msg.TEXT_TRIM_OPERATOR_RIGHT="supprimer les espaces du c\xf4t\xe9 droit",e.Msg.TEXT_TRIM_TOOLTIP="Renvoyer une copie du texte avec les espaces supprim\xe9s d\u2019un bout ou des deux.",e.Msg.TODAY="Aujourd'hui",e.Msg.UNDO="Annuler",e.Msg.UNNAMED_KEY="non nomm\xe9",e.Msg.VARIABLES_DEFAULT_NAME="\xe9l\xe9ment",e.Msg.VARIABLES_GET_CREATE_SET="Cr\xe9er 'fixer %1'",e.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",e.Msg.VARIABLES_GET_TOOLTIP="Renvoie la valeur de cette variable.",e.Msg.VARIABLES_SET="fixer %1 \xe0 %2",e.Msg.VARIABLES_SET_CREATE_GET="Cr\xe9er 'obtenir %1'",e.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",e.Msg.VARIABLES_SET_TOOLTIP="Fixe cette variable pour qu\u2019elle soit \xe9gale \xe0 la valeur de l\u2019entr\xe9e.",e.Msg.VARIABLE_ALREADY_EXISTS="Une variable appel\xe9e '%1' existe d\xe9j\xe0.",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="Une variable nomm\xe9e '%1' existe d\xe9j\xe0 pour un autre type : '%2'.",e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Dire quelque chose\u2026",e.Msg.CONTROLS_FOREACH_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_FOR_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=e.Msg.CONTROLS_IF_MSG_ELSEIF,e.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=e.Msg.CONTROLS_IF_MSG_ELSE,e.Msg.CONTROLS_IF_IF_TITLE_IF=e.Msg.CONTROLS_IF_MSG_IF,e.Msg.CONTROLS_IF_MSG_THEN=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.LISTS_CREATE_WITH_ITEM_TITLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.LISTS_GET_INDEX_HELPURL=e.Msg.LISTS_INDEX_OF_HELPURL,e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.MATH_CHANGE_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.PROCEDURES_DEFRETURN_COMMENT=e.Msg.PROCEDURES_DEFNORETURN_COMMENT,e.Msg.PROCEDURES_DEFRETURN_DO=e.Msg.PROCEDURES_DEFNORETURN_DO,e.Msg.PROCEDURES_DEFRETURN_PROCEDURE=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,e.Msg.PROCEDURES_DEFRETURN_TITLE=e.Msg.PROCEDURES_DEFNORETURN_TITLE,e.Msg.TEXT_APPEND_VARIABLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.MATH_HUE="230",e.Msg.LOOPS_HUE="120",e.Msg.LISTS_HUE="260",e.Msg.LOGIC_HUE="210",e.Msg.VARIABLES_HUE="330",e.Msg.TEXTS_HUE="160",e.Msg.PROCEDURES_HUE="290",e.Msg.COLOUR_HUE="20",e.Msg.VARIABLES_DYNAMIC_HUE="310",e.Msg})?n.apply(t,i):n)||(e.exports=s)},192:function(e,t,o){e.exports=o.p+"static/media/baseline-cloud_upload-24px.3f7e59cc.svg"},194:function(e,t,o){e.exports=o.p+"static/media/Logo.7b64d487.svg"},196:function(e,t,o){e.exports=o(476)},20:function(e,t){e.exports="data:image/png;base64,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"},201:function(e,t,o){},219:function(e,t,o){},224:function(e,t){e.exports="data:image/png;base64,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"},225:function(e,t,o){},226:function(e,t,o){},227:function(e,t){e.exports="data:image/png;base64,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"},228:function(e,t,o){e.exports=o.p+"static/media/icon.ad4a5672.svg"},229:function(e,t,o){e.exports=o.p+"static/media/logo.78b26415.svg"},258:function(e,t){},262:function(e,t,o){},263:function(e,t,o){},264:function(e,t,o){},266:function(e,t,o){e.exports=o.p+"static/media/micro.9f3f8f65.svg"},272:function(e,t,o){e.exports=o.p+"static/media/video.86a15506.svg"},273:function(e,t,o){e.exports=o.p+"static/media/slide.731086e0.svg"},274:function(e,t,o){e.exports=o.p+"static/media/form.2da18817.svg"},275:function(e,t,o){e.exports=o.p+"static/media/share.ff37e1f4.svg"},276:function(e,t,o){e.exports=o.p+"static/media/chat.a45da4b7.svg"},277:function(e,t,o){},279:function(e,t){},280:function(e,t){},281:function(e,t,o){e.exports=o.p+"static/media/a.fa6696d7.jpg"},282:function(e,t,o){e.exports=o.p+"static/media/b.1af55ffc.jpg"},283:function(e,t,o){e.exports=o.p+"static/media/c.660aef3c.jpg"},284:function(e,t,o){e.exports=o.p+"static/media/d.77fa2178.jpg"},285:function(e,t,o){e.exports=o.p+"static/media/e.acd664a3.jpg"},286:function(e,t,o){e.exports=o.p+"static/media/f.8b2fb310.jpg"},287:function(e,t,o){},288:function(e,t,o){},289:function(e,t,o){},290:function(e,t,o){},291:function(e,t,o){},292:function(e,t,o){},293:function(e,t,o){},294:function(e,t,o){},295:function(e,t,o){},296:function(e,t,o){},297:function(e,t,o){},306:function(e,t,o){var n,i,s;i=[o(17),o(108),o(153),o(71)],void 0===(s="function"===typeof(n=function(e,t,o,n){"use strict";return e.setLocale(t),e.Blocks=e.Blocks||{},Object.keys(o).forEach((function(t){e.Blocks[t]=o[t]})),e.JavaScript=n,e})?n.apply(t,i):n)||(e.exports=s)},43:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAMFBMVEUAAAD/+vr/+/v//Pz//Pz/+vr/+/v/+vr/+/v/+vr/+vr/+Pj/+Pj/+/v/+voAAADi8a5qAAAADnRSTlMAbuRKSW/j+Ef3+U5NSM7BQvIAAAABYktHRACIBR1IAAAACXBIWXMAAA7pAAAO6QEOM0IcAAAAB3RJTUUH5AEXEB4hNaE5UwAAAF5JREFUCNdjEDJgAAIWVYa8YhDD/RFD56sNDAwc89YA8WoGhpuvDjCAhHiBAiDh1WABBgbz53VgDUAhiAAD7zyQRiQpoBawWSAzwGaBzQAJgc0ACUEsNX/EAHEGsyoA+hgqwIGbukEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDEtMjNUMTY6MzA6MzMrMDA6MDA95YdLAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAxLTIzVDE2OjMwOjMzKzAwOjAwTLg/9wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},447:function(e,t,o){},448:function(e,t,o){},450:function(e,t,o){},451:function(e,t,o){},452:function(e,t,o){},453:function(e,t,o){e.exports=o.p+"static/media/rombo-blanco.2803bb5a.webp"},454:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWElEQVRogdWWMZbCMAwFBRfD3Ew3W+3JRJPPCyGOiWLJ8lQQCr5mKCByRFWLqhbP73BFVUVVZfQOE4t9UEbvOc1iH8joPafY2J+vwsb+XBUq9uepULE/R4WG/fwVGvZzV/jRft4KP9rPWeGk/XwVTtrPVcFoP08Fo/0cFS7aH1/hon0go8b3sA/KiAN62AcSPb6nfVAiD+hpH0jUeA/7oEQc4GEfiPd4T/ugeB7gaR+I1/gI+6B4HBBhH0jv8ZH2Qel5QKR9IL3Gj7APSo8DRtgH0tp3b9knosdlC3YerQqHBxARd5tih48+rB6QwD44rHBUgLtPscO1D3YPSGQfVCvUCrDbFDu89/DrgIT2wW6FvQLsPsUObx98HJDYPviqsC3AYVPs8PrN+4AJ7IOPCusCHD7FDuPFnWgq++BdAQV42BQ7TER0Wy75GzrFzvO2/Oee6eez5v8F9kqZGdVGvzkAAAAASUVORK5CYII="},455:function(e,t,o){e.exports=o.p+"static/media/circulo-blanco.fcba8e20.webp"},456:function(e,t,o){e.exports=o.p+"static/media/cuadrado-blanco.03001d38.webp"},457:function(e,t,o){},458:function(e,t,o){},461:function(e,t,o){},462:function(e,t,o){},463:function(e,t,o){},468:function(e,t,o){},469:function(e,t,o){},470:function(e,t,o){},471:function(e,t,o){e.exports=o.p+"static/media/robot.414c2222.png"},472:function(e,t,o){e.exports=o.p+"static/media/alumno.cafcbaf4.png"},473:function(e,t,o){e.exports=o.p+"static/media/profesora.0792117c.png"},474:function(e,t,o){e.exports=o.p+"static/media/house.b2d3c123.png"},475:function(e,t,o){},476:function(e,t,o){"use strict";o.r(t);var n=o(0),i=o.n(n),s=o(29),a=o.n(s),r=(o(201),o(2)),l=o(3),c=o(5),u=o(4),h=o(6),p=o(15),d=o(44),_=o(7),g=o.n(_),m=o(12),E=o(10),T=o.n(E),v=o(178),f=o.n(v),b=o(179),S=o.n(b);o(219);var A=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{id:"focussocial",className:"socialfocus",onMouseOver:e.aparecer,onMouseOut:e.desaparecer}),i.a.createElement("div",{id:"social",className:"social",onMouseOver:e.aparecer,onMouseOut:e.desaparecer},i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement(p.b,{className:"icon-facebook",to:e.view}," ",i.a.createElement("img",{src:f.a,width:"40px",alt:"board"})," ",i.a.createElement("p",{className:"text-menu-left"},"PIZARRA"))),i.a.createElement("li",null,console.log(e.id_access),i.a.createElement(p.b,{className:"icon-twitter",to:"/teacher/".concat(e.id_class,"/").concat(e.id_access,"/bloque")}," ",i.a.createElement("img",{src:S.a,width:"40px",alt:"blocks"})," ",i.a.createElement("p",{className:"text-menu-left"},"BLOCKY"))),i.a.createElement("li",null,i.a.createElement("a",{href:"xD",className:"icon-googleplus"},i.a.createElement("img",{src:o(224),width:"40",alt:"cat"}),i.a.createElement("p",{className:"text-menu-left"},"SCRATCH"))))))},I=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"aparecer",value:function(){var e=Object(m.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("social").style.display="block";case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"desaparecer",value:function(){var e=Object(m.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("social").style.display="none";case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement(A,{view:this.props.view,socketUrl:this.props.socketUrl,id_access:this.props.id_access,id_class:this.props.id_class,aparecer:this.aparecer,desaparecer:this.desaparecer})}}]),t}(i.a.Component),C=o(123);o(225);var y=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{id:"Empatia-header"},i.a.createElement("div",{className:"empatia-menu"},i.a.createElement("div",null),i.a.createElement("div",null,i.a.createElement(p.b,{className:"nav-menu",to:"/teacher/".concat(e.id_class,"/").concat(e.id_access)},"ALUMNOS")),i.a.createElement("div",null,i.a.createElement(p.b,{className:"nav-menu",to:"/teacher/".concat(e.id_class,"/").concat(e.id_access,"/azar")},"AZAR")),i.a.createElement("div",null,i.a.createElement(p.b,{className:"nav-menu",to:"/teacher/".concat(e.id_class,"/").concat(e.id_access,"/grupos")},"GRUPOS")),i.a.createElement("div",null,i.a.createElement(p.b,{onClick:function(){return e.redirect("temporizador")},className:"nav-menu",to:"/teacher/".concat(e.id_class,"/").concat(e.id_access,"/temporizador")},"TEMPORIZADOR")),i.a.createElement("div",null,i.a.createElement(p.b,{onClick:function(){return e.redirect("trivia")},className:"nav-menu",to:"/teacher/".concat(e.id_class,"/").concat(e.id_access,"/trivia")},"TRIVIA")),i.a.createElement("div",null))))},O=o(23),R=o(20),k=o.n(R);o(226);function N(e){var t=localStorage.getItem("id_teacher"),s=Object(n.useState)(0),a=Object(O.a)(s,2),r=a[0],l=a[1],c=function(){return l(2)};return Object(n.useEffect)((function(){return console.log(t)})),i.a.createElement(i.a.Fragment,null,i.a.createElement("img",{className:"btn-setting",onClick:function(){return l(1)},width:"35px",src:o(227),alt:""}),i.a.createElement("div",{id:"modal-general_container",className:0===r?"":1===r?"six":2===r?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:c},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title__controlname"},"\xbfDESEA CERRAR SESI\xd3N?")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement("button",{className:"modal-body__button yes",onClick:e.cerrarSesion,variant:"primary"},i.a.createElement(p.b,{style:{textDecoration:"none"},to:"/"},i.a.createElement("div",{className:"button-zoom"},"SI"))),i.a.createElement("button",{className:"modal-body__button no",onClick:c},i.a.createElement("div",{className:"button-zoom"},"NO")),i.a.createElement("button",{className:"modal-body__button  backCursos",onClick:e.ExitSocket},i.a.createElement(p.b,{style:{textDecoration:"none"},to:"/CoursesTeacher/".concat(t)},i.a.createElement("div",{className:"button-zoom"},"REGRESAR A CURSOS"))))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))))}var M=function(e){function t(){var e,o;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(o=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={codigoModal:0},o.handleClose=function(){return o.setState({codigoModal:2})},o.handleShow=function(){return o.setState({codigoModal:1})},o.closeMenu=function(){document.getElementById("checked").click()},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log("navbar responsive en clase activa",this.props.id_class),console.log("navbar responsive en clase activa",this.props.id_access)}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"Header-code__header",id:"Header-code__header"},i.a.createElement("div",{className:"logo"},i.a.createElement("img",{className:"icon-img",height:"45px",src:o(228),alt:""}),i.a.createElement("img",{className:"logo-img",src:o(229),alt:""})),i.a.createElement("div",{className:"class-name"},this.props.nombre_clase),i.a.createElement("div",{id:"menuToggle"},i.a.createElement("input",{id:"checked",type:"checkbox",className:"check"}),i.a.createElement("label",{className:"menuToggle__menu-btn",htmlFor:"checked"},i.a.createElement("span",{className:"bar top"}),i.a.createElement("span",{className:"bar middle"}),i.a.createElement("span",{className:"bar bottom"})),i.a.createElement("label",{className:"close-menu",htmlFor:"checked"}),i.a.createElement("nav",{className:"menuToggle__drawer-menu"},i.a.createElement("ul",{className:"menu-header"},i.a.createElement("li",{className:"menu-header__item"},i.a.createElement(p.b,{onClick:this.closeMenu,className:"menu-header__item-link",to:"/teacher/".concat(this.props.id_class,"/").concat(this.props.id_access)},"LISTA DE ALUMNOS")),i.a.createElement("li",{className:"menu-header__item"},i.a.createElement(p.b,{onClick:this.closeMenu,className:"menu-header__item-link",to:"/teacher/".concat(this.props.id_class,"/").concat(this.props.id_access,"/azar")},"AL AZAR")),i.a.createElement("li",{className:"menu-header__item"},i.a.createElement(p.b,{onClick:this.closeMenu,className:"menu-header__item-link",to:"/teacher/".concat(this.props.id_class,"/").concat(this.props.id_access,"/grupos")},"GRUPOS")),i.a.createElement("li",{className:"menu-header__item"},i.a.createElement(p.b,{onClick:function(){return e.props.redirect("temporizador")},className:"menu-header__item-link",to:"/teacher/".concat(this.props.id_class,"/").concat(this.props.id_access,"/temporizador")},"TEMPORIZADOR")),i.a.createElement("li",{className:"menu-header__item"},i.a.createElement(p.b,{onClick:function(){return e.props.redirect("trivia")},className:"menu-header__item-link",to:"/teacher/".concat(this.props.id_class,"/").concat(this.props.id_access,"/trivia")},"TRIVIA"))))),i.a.createElement("div",{className:"content-headercode"},i.a.createElement("div",{className:"code-detail",onClick:this.handleShow},i.a.createElement("label",{className:"code-a","data-toggle":"modal","data-target":"#miCodigo",id:"btnVerAlumnos"},i.a.createElement("label",{className:"code"},"C\xf3digo:"),i.a.createElement("div",{className:"codigo-generado",onClick:this.handleShow},this.props.id_access))),i.a.createElement("div",{className:"code-menu-detail"},localStorage.getItem("token")?i.a.createElement(N,{ExitSocket:this.props.ExitSocket,cerrarSesion:this.props.cerrarSesion}):null),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.codigoModal?"":1===this.state.codigoModal?"six":2===this.state.codigoModal?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:this.handleClose},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title"},"CODIGO DE LA CLASE:")),i.a.createElement("div",{className:"modal-general_container_body codigogenerado"},i.a.createElement("span",{id:"modal-content__codigogenerado"},this.props.id_access))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))))))}}]),t}(i.a.Component),L=o(14),D=o.n(L),w=(o(261),function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).pin="",o.notify=function(e){C.b.warn(i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{role:"img","aria-label":"warning"},"\u26a0 Alumno desatento!"),i.a.createElement("p",null,e)),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},o.getName=Object(m.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,T()({url:"".concat(o.props.apiUrl,"/v1/api/teacher/detail_class/").concat(o.props.id_class),method:"GET",headers:{"x-access-token":"".concat(t)}});case 3:return n=e.sent,console.log(n.data),e.t0=o,e.next=8,n.data.class_name;case 8:e.t1=e.sent,e.t2={nombre_clase:e.t1},e.t0.setState.call(e.t0,e.t2);case 11:case"end":return e.stop()}}),e)}))),o.redirect=function(e){D()(o.props.socketUrl,{query:{pin:o.props.id_access}}).emit("redirectAlum",{page:e}),console.log("se manda al alumnos redirigir a",e)},o.ExitSocket=function(){D()(o.props.socketUrl,{query:{pin:o.props.id_access}}).emit("ExitSocket")},o.UNSAFE_componentWillMount=Object(m.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,o.setState({token:t});case 3:case"end":return e.stop()}}),e)}))),o.cerrarSesion=function(){localStorage.clear(),o.setState({token:!1}),o.ExitSocket()},o.state={nombre_clase:"",token:!1},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,o=t.id_access,n=t.socketUrl;this.pin=o,console.log("valor de pin cuando inicia componente: "+this.pin),setTimeout((function(){e.getName()}),1e3);var i=function(e,t,o){return{status:e,"pin (teacher): ":t,"data.pin (Student): ":o}};D()(n,{query:{pin:this.pin}}).on("tabBlurred",(function(t){var o=t.pin,n=e.pin.toUpperCase();if(o===n)return e.notify(t.fullname),console.table(i("C\xf3digos validados",n,o));console.table(i("C\xf3digos Incorrectos",n,o))}))}},{key:"componentWillUnmount",value:function(){this.pin="",console.log("componente desmontado")}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,this.state.token?null:i.a.createElement(d.a,{to:"/"}),i.a.createElement(M,{cerrarSesion:this.cerrarSesion,socketUrl:this.props.socketUrl,ExitSocket:this.ExitSocket,redirect:this.redirect,id_access:this.props.id_access,id_class:this.props.id_class,nombre_clase:this.state.nombre_clase}),i.a.createElement(y,{socketUrl:this.props.socketUrl,redirect:this.redirect,id_access:this.props.id_access,id_class:this.props.id_class}),i.a.createElement(C.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}]),t}(i.a.Component)),B=(o(262),o(263),o(264),o(265).MediaPresenter),P=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClose=function(){return o.setState({show:2})},o.handleShow=function(){return o.setState({show:1})},o.state={socket:null,show:0,txtTransmision:"DESEA TRANSMITIR AUDIO"},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.socketUrl),console.log(this.props.id_access);var t=!1,o=document.getElementById("btn"),n=document.getElementById("btn"),i=document.getElementById("micro"),s=[];o.addEventListener("click",(function(){var o=D()(e.props.socketUrl,{query:{pin:e.props.id_access}});o.emit("onPlay",{txt:"Se inicio una nueva emision de voz.Por favor da click en el boton reproducir"}),!1===t?((t=new B({audio:{channelCount:1,echoCancellation:!0}},500)).onRecordingReady=function(e){o.emit("bufferHeader",e),console.log(e)},t.onBufferProcess=function(e){o.emit("stream",e),console.log("2"),console.log(e)},t.startRecording(),s.push("xd"),e.setState({txtTransmision:"DESEA DEJAR DE TRANSMITIR AUDIO"}),e.handleClose()):(t.stopRecording(),t=!1,s.push("xd"),console.log("Stop"),o.emit("msj_stop",{txt:"La transmicion de voz ha finalizado"}),e.handleClose(),e.setState({txtTransmision:"DESEA TRANSMITIR AUDIO"}))}));var a=[];n.addEventListener("click",(function(){a.length%2===0?(i.style.animation="ripple 1000ms infinite",a.push("sx")):(i.style.animation="none",a.push("sx"))}))}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"footer-div",onClick:this.handleShow},i.a.createElement("img",{id:"micro",alt:"",width:"30px",height:"30px",src:o(266)}),i.a.createElement("span",null,"Audio")),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.show?"":1===this.state.show?"six":2===this.state.show?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:this.handleClose},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header",style:{color:"#000000"}},i.a.createElement("span",{className:"modal-title__controlname"},"\xbf",this.state.txtTransmision,"?")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement("button",{id:"btn",className:"modal-body__button yes",variant:"primary"},i.a.createElement("div",{className:"button-zoom"},"SI")),i.a.createElement("button",{className:"modal-body__button no",onClick:this.handleClose},i.a.createElement("div",{className:"button-zoom"},"NO")))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))))}}]),t}(n.Component),x=o(72),U=(o(271),{borderRadius:"10px",display:"table-cell",verticalAlign:"middle"}),F=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).getUrl=function(){var e=o.state.src.replace("pub","embed").replace("delayms=3000","delayms=3000&rm=minimal&slide=id.p"+o.state.positionPpt);console.log("get URL: "+e),document.getElementById("diapo-frame").src=e},o.nextPpt=Object(m.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({positionPpt:o.state.positionPpt+1});case 2:return e.next=4,o.getUrl();case 4:return t=D()(o.props.socketUrl,{query:{pin:o.props.id_access}}),e.next=7,t.emit("sendSlides");case 7:return e.next=9,t.emit("PositionPpt",{position:o.state.positionPpt});case 9:case"end":return e.stop()}}),e)}))),o.backtPpt=Object(m.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=D()(o.props.socketUrl,{query:{pin:o.props.id_access}}),e.next=3,o.setState({positionPpt:o.state.positionPpt-1});case 3:return e.next=5,o.getUrl();case 5:return e.next=7,t.emit("sendSlides");case 7:return e.next=9,t.emit("PositionPpt",{position:o.state.positionPpt});case 9:case"end":return e.stop()}}),e)}))),o.backimg=function(){o.setState({positionPpt:o.state.positionPpt-1})},o.nextimg=function(){o.setState({positionPpt:o.state.positionPpt+1})},o.state={Slides:[],iframeon:!1,src:"",positionPpt:1},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");T()({url:"".concat(this.props.apiUrl,"/v1/api/teacher/presentations/").concat(this.props.id_class),method:"GET",headers:{"x-access-token":"".concat(t)}}).then((function(t){console.log(t.data),t.data.presentationIframe?(e.setState({iframeon:!0,src:t.data.presentationIframe}),e.getUrl()):(console.log(t.data),e.setState({Slides:t.data}))})).catch((function(e){console.log(e)}))}},{key:"changeCarrucel",value:function(e){var t=D()(this.props.socketUrl,{query:{pin:this.props.id_access}});t.emit("sendSlides"),t.emit("PositionPpt",{position:e+1})}},{key:"render",value:function(){var e=this;return this.state.iframeon?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:U},i.a.createElement("iframe",{title:"diapo-iframe",id:"diapo-frame",frameBorder:"0",width:"100%",height:"100%",style:{width:"100% !important",height:"100%",pointerEvents:"none"},allowFullScreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",src:""})),i.a.createElement("ul",{className:"btnNextPrev"},i.a.createElement("li",{className:"prev",onClick:this.backtPpt},i.a.createElement("span",null)),i.a.createElement("li",{className:"next ",onClick:this.nextPpt},i.a.createElement("span",null)))):i.a.createElement("div",{style:U},i.a.createElement("ul",{className:"btnNextPrev"},i.a.createElement("li",{className:"prev",onClick:this.backimg},i.a.createElement("span",null)),i.a.createElement("li",{className:"next ",onClick:this.nextimg},i.a.createElement("span",null))),i.a.createElement(x.Carousel,{selectedItem:this.state.positionPpt-1,showArrows:!1,useKeyboardArrows:!1,swipeable:!1,emulateTouch:!0,showIndicators:!1,showThumbs:!1,onChange:function(t){return e.changeCarrucel(t)}},this.state.Slides.map((function(e){return i.a.createElement("div",{className:"imagenes",key:e.index},i.a.createElement("div",{style:{width:"5%",float:"left"}}),i.a.createElement("img",{className:"imagenes-indiviuales",style:{width:"90%",float:"left",marginLeft:"calc(50% - 45%)"},src:e.url,alt:"Hong Kong"}),i.a.createElement("div",{style:{width:"5%",float:"left"}}))}))))}}]),t}(n.Component);function H(e){var t=Object(n.useState)(""),s=Object(O.a)(t,2),a=s[0],r=s[1],l=Object(n.useState)(0),c=Object(O.a)(l,2),u=c[0],h=c[1],p=Object(n.useState)(!1),d=Object(O.a)(p,2),_=d[0],g=d[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"footer-div",id:"btnvideo",onClick:function(){return h(1)+e.botonClick("btnvideo")+r("")}},i.a.createElement("img",{alt:"",width:"30px",height:"30px",src:o(272)}),i.a.createElement("span",{className:"footer-span"},"Youtube")),i.a.createElement("div",{id:"modal-general_container",className:0===u?"":1===u?"six":2===u?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:function(){return h(2)+e.botonClick("modalvideo")+g(!1)}},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title__controlname botton-zoom",style:{color:"black"}},"EMITIR VIDEO")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement("input",{id:"urlid",type:"text",name:"urlvideo",onChange:function(e){return r(e.target.value)},style:{fontSize:"20px",width:"80%"},value:a,required:!0}),i.a.createElement("button",{className:"Myni",onClick:function(){return function(e,t,o,n,i,s){var a=e,r=D()(t,{query:{pin:o}}),l=a.split("https://www.youtube.com/watch?v=");document.getElementById("video-frame").src="https://www.youtube.com/embed/"+l[1]+"?autoplay=1&controls=0",""===e?s(!0):(document.getElementById("overlay2").classList.add("active"),document.getElementById("popupvideo").classList.add("active"),n(2),i(""),s(!1),console.log(l[1]),r.emit("VideoEmit",a))}(a,e.socketUrl,e.id_access,h,r,g)},type:"button"},i.a.createElement("div",{className:"button-zoom"},"ENVIAR")),_?i.a.createElement("p",{style:{color:"red"},className:"mensageAction negative"},"AGREGE UNA URL DE VIDEO"):null)),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))),i.a.createElement("div",{className:"overlay",id:"overlay2"},i.a.createElement("div",{className:"popup",id:"popupvideo"},i.a.createElement("div",{id:"cerrar-popup",className:"btn-cerrar-popup",onClick:function(){return e.closePopup("overlay2","popupvideo")+e.botonClick("btn-cerrar-popup")}},i.a.createElement("i",{className:"material-icons"},"close")),i.a.createElement("iframe",{title:"iframevideo",id:"video-frame",src:"",frameBorder:"0",style:{width:"100% !important",height:"100%"},allowFullScreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"}))))}var G=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"footer-distributed"},i.a.createElement("div",{className:"footer-div",id:"btndiapo",onClick:function(){return e.openPopup("overlay","popup")+e.botonClick("btndiapo")}},i.a.createElement("img",{alt:"",width:"30px",height:"30px",src:o(273)}),i.a.createElement("span",{className:"footer-span"},"Diapositivas")),i.a.createElement("div",{className:"footer-div",id:"btnform",onClick:function(){return e.openPopup("overlayinframe","popupformulario")+e.botonClick("btnform")}},i.a.createElement("img",{alt:"",width:"30px",height:"30px",src:o(274)}),i.a.createElement("span",{className:"footer-span"},"Formulario")),i.a.createElement(H,{socketUrl:e.socketUrl,id_access:e.id_access,closePopup:e.closePopup,botonClick:e.botonClick}),i.a.createElement("div",{className:"footer-div"},i.a.createElement("img",{alt:"",width:"30px",height:"30px",src:o(275)}),i.a.createElement("span",{className:"footer-span"},"Compartir Pantalla")),i.a.createElement("div",{className:"footer-div"},i.a.createElement(P,{socketUrl:e.socketUrl,id_access:e.id_access})),i.a.createElement("div",{className:"footer-div"},i.a.createElement("img",{alt:"",id:"btn-chat",width:"30px",height:"30px",src:o(276)}),i.a.createElement("span",{className:"footer-span"},"Chat"))),i.a.createElement("div",{className:"overlay",id:"overlay"},i.a.createElement("div",{className:"popup",id:"popup",style:{display:"table",background:"black"}},i.a.createElement("button",{id:"btnCerrarDiapo",className:"modal-teacher__general-close",style:{position:"absolute",right:"0"},onClick:function(){return e.closePopup("overlay","popup")+e.botonClick("btnCerrarDiapo")}},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement(F,{socketUrl:e.socketUrl,id_access:e.id_access,apiUrl:e.apiUrl,id_class:e.id_class}))),i.a.createElement("div",{className:"overlay",id:"overlayinframe"},i.a.createElement("div",{className:"popup",id:"popupformulario"},i.a.createElement("button",{className:"modal-teacher__general-close",onClick:function(){return e.closePopup("overlayinframe","popupformulario")+e.botonClick("btnCerrarFormu")}},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"punto-posi"},i.a.createElement("span",{className:"letra"},"EMITIR FORMULARIO")),i.a.createElement("br",null),i.a.createElement("iframe",{title:"diapo-iframe",id:"diapo-formulario",className:"fc-formulario",frameBorder:"0",allowFullScreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",src:""}),i.a.createElement("button",{className:"Myni",onClick:function(){return t=e.socketUrl,o=e.id_access,void D()(t,{query:{pin:o}}).emit("SendForm");var t,o}},i.a.createElement("div",{className:"button-zoom"},"EMITIR")))))},V=function(e){function t(){var e,o;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(o=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={diapositivaHover:!1,srcForm:"https://docs.google.com/forms/d/e/1FAIpQLSftlA2JivBhsQ0mhdyJ4LQczijxvyjN-SClloK6-9gNIyK2Eg/viewform?usp=sf_link"},o.openPopup=function(){var e=Object(m.a)(g.a.mark((function e(t,n){var i,s,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=D()(o.props.socketUrl,{query:{pin:o.props.id_access}}),s=document.getElementById(t),a=document.getElementById(n),console.log(o.props.socketUrl),"overlay"===s.id&&"popup"===a.id&&i.emit("sendSlides"),s.classList.add("active"),a.classList.add("active");case 6:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}(),o.closePopup=function(e,t){var n=D()(o.props.socketUrl,{query:{pin:o.props.id_access}}),i=document.getElementById(e),s=document.getElementById(t);"overlay"===i.id&&"popup"===s.id?n.emit("closeSlides"):"overlay2"===i.id&&"popupvideo"===s.id?(document.getElementById("video-frame").src="",n.emit("closeVideo")):"overlayinframe"===i.id&&"popupformulario"===s.id?n.emit("closeForm"):"overlayrouletteWinnerS"===i.id?n.emit("closerouletteWinnerS"):"overlyenviar"===i.id&&i.classList.remove("active"),s.classList.remove("active")},o.getUrlForm=function(){document.getElementById("diapo-formulario").src=o.state.srcForm},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getUrlForm();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement(G,{apiUrl:this.props.apiUrl,id_class:this.props.id_class,diapositivaHover:this.state.diapositivaHover,closePopup:this.closePopup,openPopup:this.openPopup,nextPpt:this.nextPpt,backtPpt:this.backtPpt,enviarvideo:this.enviarvideo,id_access:this.props.id_access,botonClick:this.props.botonClick,grabar:this.props.grabar,reproclick:this.props.reproclick,changeOn:this.props.changeOn,txt:this.props.txt,socketUrl:this.props.socketUrl})}}]),t}(n.Component),W=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",(function(e){return e.preventDefault(),e.returnValue="Are you sure you want to close?"}))}},{key:"render",value:function(){var e=this.props.children;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"main-teacher-container"},i.a.createElement(w,{id_access:this.props.id_access,apiUrl:this.props.apiUrl,id_class:this.props.id_class,socketUrl:this.props.socketUrl,botonClick:this.props.botonClick,grabar:this.props.grabar,reproclick:this.props.reproclick}),i.a.createElement(I,{id_class:this.props.id_class,id_access:this.props.id_access,socketUrl:this.props.socketUrl,view:"/teacher/".concat(this.props.id_class,"/").concat(this.props.id_access,"/pizarra"),botonClick:this.props.botonClick,grabar:this.props.grabar,reproclick:this.props.reproclick}),i.a.createElement("div",{id:"div_children"},e),i.a.createElement(V,{apiUrl:this.props.apiUrl,id_class:this.props.id_class,socket:this.props.socket,socketUrl:this.props.socketUrl,id_access:this.props.id_access,botonClick:this.props.botonClick,grabar:this.props.grabar,reproclick:this.props.reproclick,changeOn:this.props.changeOn,txt:this.props.txt})))}}]),t}(n.Component),X=o(24),j=o(16),Y=(o(277),o(181)),z=o(56),K=function(e){var t=e.csvData,o=e.fileName;return i.a.createElement("button",{className:"button btnMyM",onClick:function(e){return function(e,t){var o={Sheets:{data:z.utils.json_to_sheet(e)},SheetNames:["data"]},n=z.write(o,{bookType:"xlsx",type:"array"}),i=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});Y.saveAs(i,t+".xlsx")}(t,o)}},"Export")},q=function(e){var t=e.data,o=e.funcion;return i.a.createElement(i.a.Fragment,null,t.map((function(e,t){return i.a.createElement("button",{key:t,id:"",type:"button",onClick:function(){return o(e.valor)},className:"punto-marco"},i.a.createElement("div",{className:"punto-marco2"},i.a.createElement("div",{className:"punto-marco3"},i.a.createElement("img",{className:"punto-img",src:e.imgen,alt:"punto1"}))),i.a.createElement("div",{className:"punto-texto"},i.a.createElement("i",null,e.title)))})))},Q=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("table",{id:"tabla_usuarios",className:"table table-bordered table-striped table-hover dataTable js-exportable"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{style:{textAlign:"center"}},"Nombres"),i.a.createElement("th",{style:{textAlign:"center"}},"Apellidos"),i.a.createElement("th",{style:{textAlign:"center",width:"15%"}},"Nota(0-20)"),i.a.createElement("th",{style:{textAlign:"center",width:"20%"}},"Comportamiento"),i.a.createElement("th",{style:{textAlign:"center",width:"15%"}},"Puntos"),i.a.createElement("th",{style:{textAlign:"center",width:"5%"}},"..."))),i.a.createElement("tbody",{style:{height:"350px"}},this.props.students?this.props.students.map((function(t){return i.a.createElement("tr",{key:t._id},i.a.createElement("td",{className:"nom",style:{width:"80px"}},t.name_stu),i.a.createElement("td",{className:"ape",style:{width:"80px"}},t.lastName_stu),i.a.createElement("td",{className:"nota",style:{textAlign:"center",width:"80px"}},t.score,i.a.createElement("button",{onClick:function(){return e.props.onClickNote(t._id,t.score)+e.props.setShow("shownota",1)},className:"button pull-right btnMyM material-icons"},"edit")),i.a.createElement("td",{className:"compo",style:{textAlign:"center",width:"50px"}},t.conduct,i.a.createElement("button",{onClick:function(){return e.props.onClick(t._id)+e.props.setShow("showcomportamiento",1)},className:"button pull-right btnMyM material-icons"},"edit")),i.a.createElement("td",{style:{textAlign:"center",width:"80px"}},i.a.createElement("button",{className:"button btnMyM material-icons",onClick:function(){return e.props.onClickPoint(t._id,t.point)+e.props.setShow("showpuntosmas",1)}},"add_circle_outline"),t.point,i.a.createElement("button",{className:"button btnMyM material-icons",onClick:function(){return e.props.onClickPoint(t._id,t.point)+e.props.setShow("showpuntosmenos",1)}},"remove_circle_outline")),i.a.createElement("td",{style:{width:"50px"}},i.a.createElement("button",{className:"button btnMyM material-icons",onClick:function(){return e.props.onClick(t._id)+e.props.setShow("showdelete",1)}},"delete")))})):i.a.createElement("h1",null,"no hay alumnos para mostrar"))))}}]),t}(n.Component),J=o(182),Z=o.n(J),$=o(183),ee=o.n($),te=o(43),oe=o.n(te),ne=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleEditStudent=function(e){o.setState({editar:!o.state.editar,idMapAlumno:e}),console.log("se va a guardar al alumnos")},o.handleChangeStudent=function(e){o.setState({editar:!o.state.editar,idMapAlumno:e})},o.handleCompeten=function(e,t){var n=localStorage.getItem("token");console.log(t);var i=e.target.name,s=e.target.value;o.setState({nota:s,competencia:i}),console.log([i],s),console.log("nota del alumno",s,"nombre de la competencia",i);var a={competencia:i,nota:parseInt(s)};console.log(o.props.apiUrl),console.log(o.props.id_class),console.log(t),console.log(a),T()({url:"".concat(o.props.apiUrl,"/v1/api/teacher/").concat(o.props.id_class,"/add_score/").concat(t),data:a,method:"POST",headers:{"x-access-token":"".concat(n)}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},o.handleChangeInputs=function(e){var t=e.target.name,n=e.target.value;o.setState(Object(X.a)({},t,n)),console.log([t],n)},o.setShow=function(){o.setState({showdelete:1})},o.setClose=function(){o.setState({showdelete:2})},o.state={students:[],editar:!1,idMapAlumno:"",apellidoAlumno:"",nombreAlumno:"",competencias:[],competenciasAlumnos:[],showdelete:0,name_stu:"",lastName_stu:"",competencia:"",nota:"",id:""},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.id_class)}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("table",{className:"table table-bordered table-striped table-hover dataTable js-exportable"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{style:{textAlign:"center",width:"10%"}},"Activo"),i.a.createElement("th",{style:{textAlign:"center",width:"10%"}},"Codigo"),i.a.createElement("th",{style:{textAlign:"center",width:"10%"}},"Apellidos"),i.a.createElement("th",{style:{textAlign:"center",width:"10%"}},"Nombres"),this.props.competencias?this.props.competencias.map((function(e,t){return i.a.createElement("th",{key:t,style:{textAlign:"center",width:"35%"}},e)})):i.a.createElement("h1",null,"no hay competencias"),i.a.createElement("th",{style:{textAlign:"center",width:"10%"}},"Puntos"),i.a.createElement("th",{style:{textAlign:"center",width:"10%"}},"Editar"),i.a.createElement("th",{style:{textAlign:"center",width:"10%"}},"Eliminar"))),i.a.createElement("tbody",null,this.props.students?this.props.students.map((function(t,o){return i.a.createElement("tr",{key:t._id},"active"===t.state?i.a.createElement("td",{style:{textAlign:"center"}},i.a.createElement("img",{alt:"icon active",src:Z.a})):i.a.createElement("td",{style:{textAlign:"center"}},i.a.createElement("img",{src:ee.a,alt:"icon inactivo"})),i.a.createElement("td",{"data-th":"Codigo"},t.randonCode),i.a.createElement("td",{"data-th":"Apellidos"},e.state.editar&&e.state.idMapAlumno===o?i.a.createElement("input",{type:"text",name:"apellidoAlumno",defaultValue:t.lastName_stu,onChange:e.handleChangeInputs}):t.lastName_stu),i.a.createElement("td",{"data-th":"Nombres"},e.state.editar&&e.state.idMapAlumno===o?i.a.createElement("input",{type:"text",name:"name_stu",defaultValue:t.name_stu,onChange:e.handleChangeInputs}):t.name_stu),e.props.competencias.map((function(o,n){return i.a.createElement("td",{key:n,"data-th":"Competencia d"},i.a.createElement("select",{name:o,onChange:function(o){return e.handleCompeten(o,t._id)}},i.a.createElement("option",null,"Seleccionar"),i.a.createElement("option",{value:"20"},"AD"),i.a.createElement("option",{value:"16"},"A"),i.a.createElement("option",{value:"14"},"B"),i.a.createElement("option",{value:"10"},"C")))})),i.a.createElement("td",{className:"CourseDetail__table-td","data-th":"Puntos"},t.point),i.a.createElement("td",{className:"CourseDetail__table-td","data-th":"Editar"},e.state.editar?i.a.createElement("button",{className:"courseTeacher__button-alumno",onClick:function(){return e.handleEditStudent(t._id)}},i.a.createElement("i",{className:"courseTeacher__img fas fa-save"})):i.a.createElement("button",{className:"courseTeacher__button-alumno",onClick:function(){return e.handleChangeStudent(t._id)}},i.a.createElement("i",{className:"courseTeacher__img fas fa-edit"}))),i.a.createElement("td",{"data-th":"Eliminar"},i.a.createElement("button",{onClick:function(){return e.props.onClick(t._id)+e.props.setShow("showdelete",1)}},i.a.createElement("i",{className:"courseTeacher__img fas fa-trash"}))))})):i.a.createElement("h1",null,"no hay alumnos para mostrar"))),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.showdelete?"":1===this.state.showdelete?"six":2===this.state.showdelete?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:this.setClose},i.a.createElement("img",{className:"button-zoom",src:oe.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title"},"\xbfDESEA ELIMINAR AL ALUMNO?")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement("button",{className:"modal-body__button yes",onClick:function(){return e.deleteStudent()},type:"button"},i.a.createElement("div",{className:"button-zoom"},"SI")),i.a.createElement("button",{className:"modal-body__button no",onClick:this.setClose,type:"button"},i.a.createElement("div",{className:"button-zoom"},"NO")))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))))}}]),t}(n.Component),ie=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).getStudents=Object(m.a)(g.a.mark((function e(){var t,o,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("token"),o=localStorage.getItem("id_teacher"),i=localStorage.getItem("id_course"),console.log(n.props.school),n.props.school?(console.log("3. el profesor es de colegio y se lista al colegio"),T()({url:"".concat(n.props.apiUrl,"/v1/api/student/").concat(o,"/").concat(i,"/students"),method:"GET",headers:{"x-access-token":"".concat(t)}}).then((function(e){var t=e.data;console.log(t),t===[]?(console.log("no tiene ningun alumnos"),n.setState({students:[]})):n.setState({students:t})})).catch((function(e){return console.log(e)}))):(console.log("3. el profesor es privado y se lista lo privado"),T()({url:"".concat(n.props.apiUrl+"/v1/api/lesson","/").concat(n.props.id_access,"/students"),method:"GET",headers:{"x-access-token":"".concat(t)}}).then((function(e){var t=e.data;t===[]?(console.log("no tiene ningun alumnos"),n.setState({students:[]})):n.setState({students:t})})).catch((function(e){return console.log(e)})));case 5:case"end":return e.stop()}}),e)}))),n.onClick=function(e){n.setState({_id:e}),console.log(e)},n.onClickNote=function(e){n.setState({_id:e}),console.log(e)},n.onClickPoint=function(e,t){n.setState({_id:e,point:t}),console.log(e,t)},n.onSubmitNote=Object(m.a)(g.a.mark((function e(){var t,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={score:n.state.note},o=localStorage.getItem("token"),e.next=4,T()({url:n.props.apiUrl+"/v1/api/student/update_score/"+n.state._id,data:t,method:"put",headers:{"x-access-token":"".concat(o)}});case 4:n.getStudents();case 5:case"end":return e.stop()}}),e)}))),n.onClickPointAdd=function(){var e=Object(m.a)(g.a.mark((function e(t){var o,i,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.state.point+t,i={point:o},s=localStorage.getItem("token"),e.next=5,T()({url:n.props.apiUrl+"/v1/api/student/update_score/"+n.state._id,data:i,method:"put",headers:{"x-access-token":"".concat(s)}});case 5:n.getStudents(),n.setShow("showpuntosmas",2);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onClickPointRemove=function(){var e=Object(m.a)(g.a.mark((function e(t){var o,i,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.state.point-t,i={point:o},s=localStorage.getItem("token"),e.next=5,T()({url:n.props.apiUrl+"/v1/api/student/update_score/"+n.state._id,data:i,method:"put",headers:{"x-access-token":"".concat(s)}});case 5:n.getStudents(),n.setShow("showpuntosmenos",2);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onClickConductAdd=function(){var e=Object(m.a)(g.a.mark((function e(t){var o,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={conduct:t},i=localStorage.getItem("token"),e.next=4,T()({url:n.props.apiUrl+"/v1/api/student/update_score/"+n.state._id,data:o,method:"put",headers:{"x-access-token":"".concat(i)}});case 4:n.getStudents(),n.setShow("showcomportamiento",2);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onClickEnviar=function(){var e=Object(m.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setShow=function(e,t){n.setState({modals:Object(X.a)({},e,t)})},n.state={validarColegio:!0,TipoColegio:"",id_teacher:"",id_course:"",competencias:[],alumnosColegio:[],id_access:"",modals:{showpuntosmas:0,showpuntosmenos:0,showcomportamiento:0,shownota:0,showdelete:0},pin:"pin",point:"",note:"",conduct:"",_id:"",students:[],fileName:"Nota de alumnos",datapoint:{pocitivo:[{imgen:o(91),valor:1,title:"Ayuda a Otros"},{imgen:o(92),valor:1,title:"Participacion"},{imgen:o(93),valor:1,title:"Persistencia"},{imgen:o(94),valor:1,title:"responsabilidad"},{imgen:o(95),valor:1,title:"Cumplimiento de Tareas"},{imgen:o(96),valor:1,title:"trabajo en equipo"}],negativo:[{imgen:o(97),valor:1,title:"Ayuda a Otros"},{imgen:o(98),valor:1,title:"Cumplimiento de Tareas"},{imgen:o(99),valor:1,title:"Participacion"}],camportamiento:[{imgen:o(281),title:"",valor:"A"},{imgen:o(282),title:"",valor:"B"},{imgen:o(283),title:"",valor:"C"},{imgen:o(284),title:"",valor:"D"},{imgen:o(285),title:"",valor:"E"},{imgen:o(286),title:"",valor:"F"}]}},n.onChangeInput=n.onChangeInput.bind(Object(j.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("competencias"));this.setState({competencias:e})}},{key:"componentDidMount",value:function(){var e=this;this.getStudents(),D()(this.props.socketUrl,{query:{pin:this.props.id_access}}).on("newAlum",(function(t){console.log("El pin de ese curso es:",t.pin),console.log("1. nuevo alumno entrando"),t.pin===e.props.id_access.toUpperCase()&&(e.getStudents(),console.log("2. pin validad para el alumno ingresante"))}))}},{key:"deleteStudents",value:function(){var e=this,t=D()(this.props.socketUrl,{query:{pin:this.props.id_access}}),o=localStorage.getItem("token");console.log(this.props.apiUrl),T()({url:"".concat(this.props.apiUrl,"/v1/api/student/").concat(this.state._id),method:"delete",headers:{"x-access-token":"".concat(o)}}).then((function(o){e.getStudents(),t.emit("RemoveStud",{id:e.state._id})})).catch((function(e){return console.log(e)}))}},{key:"onChangeInput",value:function(e){this.setState({note:e.target.value}),console.log(e.target.value)}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mt-2 row text-center"},i.a.createElement("button",{id:"enviar",onClick:this.onClickEnviar,className:"button btnMyM"},"Enviar"),i.a.createElement(K,{csvData:this.state.students,fileName:this.state.fileName})),i.a.createElement("div",{className:"clearfix"},i.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"body",id:"html"},i.a.createElement("div",{className:"table-responsive"},this.props.school?i.a.createElement(ne,{students:this.state.students,competencias:this.state.competencias,apiUrl:this.props.apiUrl,id_class:this.props.id_class,setShow:this.setShow,onClick:this.onClick}):i.a.createElement(Q,{students:this.state.students,onClickNote:this.onClickNote,onClick:this.onClick,onClickPoint:this.onClickPoint,setShow:this.setShow})))))),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.modals.showpuntosmas?"":1===this.state.modals.showpuntosmas?"six":2===this.state.modals.showpuntosmas?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:function(){return e.setShow("showpuntosmas",2)}},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title"},"POSITIVO:")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement(q,{data:this.state.datapoint.pocitivo,funcion:this.onClickPointAdd}))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.modals.showpuntosmenos?"":1===this.state.modals.showpuntosmenos?"six":2===this.state.modals.showpuntosmenos?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:function(){return e.setShow("showpuntosmenos",2)}},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title"},"NECESITAS MEJORAR:")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement(q,{data:this.state.datapoint.negativo,funcion:this.onClickPointRemove}))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.modals.shownota?"":1===this.state.modals.shownota?"six":2===this.state.modals.shownota?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:function(){return e.setShow("shownota",2)}},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title"},"NOTA:")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement("input",{type:"text",value:this.state.note,onChange:this.onChangeInput}),i.a.createElement("button",{id:"btnnotas",className:"button btnMyM",onClick:function(){return e.onSubmitNote()+e.setShow("shownota",2)},type:"button"},"MODIFICAR"))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.modals.showcomportamiento?"":1===this.state.modals.showcomportamiento?"six":2===this.state.modals.showcomportamiento?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:function(){return e.setShow("showcomportamiento",2)}},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title"},"COMPORTAMIENTO:")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement(q,{data:this.state.datapoint.camportamiento,funcion:this.onClickConductAdd}))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.modals.showdelete?"":1===this.state.modals.showdelete?"six":2===this.state.modals.showdelete?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:function(){return e.setShow("showdelete",2)}},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title"},"\xbfDESEA ELIMINAR AL ALUMNO?")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement("button",{className:"modal-body__button yes",onClick:function(){return e.deleteStudents()+e.setShow("showdelete",2)},type:"button"},i.a.createElement("div",{className:"button-zoom"},"SI")),i.a.createElement("button",{className:"modal-body__button no",onClick:function(){return e.setShow("showdelete",2)},type:"button"},i.a.createElement("div",{className:"button-zoom"},"NO")))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))))}}]),t}(n.Component),se=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.id_class)}},{key:"render",value:function(){return i.a.createElement(ie,{id_class:this.props.id_class,school:this.props.school,socketUrl:this.props.socketUrl,id_access:this.props.id_access,apiUrl:this.props.apiUrl})}}]),t}(i.a.Component),ae=(o(287),o(184)),re=o.n(ae),le=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleOnClick=function(e){o.setState({desactivarBoton:!0});var t=Math.round(9*Math.random());console.log(t);var n=setInterval((function(){return o.spin()}),100);o.setState({intervalId:n}),setTimeout((function(){clearInterval(o.state.intervalId),setTimeout((function(){clearInterval(o.state.intervalId),o.setState({desactivarBoton:!1})}),4500)}),1e3*t)},o.state={desactivarBoton:!1,intervalId:"",spinAngleStart:0,startAngle:0,spinTime:0,responsiveSize:0,arc:Math.PI/(e.options.length/2)},o.spinTimer=null,o.handleOnClick=o.handleOnClick.bind(Object(j.a)(o)),o.spin=o.spin.bind(Object(j.a)(o)),o.rotate=o.rotate.bind(Object(j.a)(o)),o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.drawRouletteWheel()}},{key:"byte2Hex",value:function(e){return String("0123456789ABCDEF".substr(e>>4&15,1))+"0123456789ABCDEF".substr(15&e,1)}},{key:"RGB2Color",value:function(e,t,o){return"#"+this.byte2Hex(e)+this.byte2Hex(t)+this.byte2Hex(o)}},{key:"getColor",value:function(e,t){var o=2*Math.PI/t,n=128*Math.sin(o*e+2+0)+128,i=128*Math.sin(o*e+0+0)+128,s=128*Math.sin(o*e+4+0)+128;return this.RGB2Color(n,i,s)}},{key:"drawRouletteWheel",value:function(){var e,t,o,n=this.props,i=n.options,s=n.baseSize,a=this.state,r=a.startAngle,l=a.arc,c=this.refs.canvas;if(c.getContext){window.screen.width,t=s-25,o=s-45;var u=s-210;(e=c.getContext("2d")).clearRect(0,0,600,600),e.strokeStyle="white",e.lineWidth=2,e.font="14px Helvetica, Arial";for(var h=0;h<i.length;h++){var p=r+h*l;e.fillStyle=this.getColor(h,i.length),e.beginPath(),e.arc(s,s,t,p,p+l,!1),e.arc(s,s,u,p+l,p,!0),e.fill(),e.save(),e.fillStyle="white",e.translate(s+Math.cos(p+l/2)*o,s+Math.sin(p+l/2)*o),e.rotate(p+l/2+Math.PI/2);var d="".concat(i[h].toUpperCase().split(" ")[0].split("")[0],".").concat(i[h].toUpperCase().split(" ")[1].split("")[0]);e.fillText(d,-e.measureText(d).width/2,0),e.restore()}e.fillStyle="red",e.beginPath(),e.lineTo(s+10,s-(t+20)),e.lineTo(s+0,s-(t-5)),e.lineTo(s-10,s-(t+20)),e.fill(),e.stroke()}}},{key:"spin",value:function(){var e=this;this.spinTimer=null,this.setState({spinTime:0},(function(){return e.rotate()}))}},{key:"rotate",value:function(){var e=this,t=this.props,o=t.spinAngleStart,n=t.spinTimeTotal;if(this.state.spinTime>3800)clearTimeout(this.spinTimer),this.stopRotateWheel();else{var i=o-this.easeOut(this.state.spinTime,0,o,n);this.setState({startAngle:this.state.startAngle+i*Math.PI/180,spinTime:this.state.spinTime+30},(function(){e.drawRouletteWheel(),clearTimeout(e.spinTimer),e.spinTimer=setTimeout((function(){return e.rotate()}),30)}))}}},{key:"stopRotateWheel",value:function(){var e=this.state,t=e.startAngle,o=e.arc,n=this.props.options,i=this.refs.canvas.getContext("2d"),s=180*t/Math.PI+90,a=180*o/Math.PI,r=Math.floor((360-s%360)/a);i.save(),i.font="bold 20px Helvetica, Arial";var l=n[r];D()(this.props.socketUrl,{query:{pin:this.props.id_access}}).emit("azarprofe",l),console.log("emite el profe"),i.restore(),this.props.onComplete(l)}},{key:"easeOut",value:function(e,t,o,n){var i=(e/=n)*e;return t+o*(i*e+-3*i+3*e)}},{key:"render",value:function(){var e=this.props.baseSize;return i.a.createElement("div",{className:"roulette"},i.a.createElement("div",{className:"roulette-container"},i.a.createElement("canvas",{ref:"canvas",className:"roulette-canvas",width:2*e,height:2*e})),i.a.createElement("div",{className:"roulette-container"},this.state.desactivarBoton?i.a.createElement("button",{className:"roulette-container-button",onClick:this.handleOnClick,style:{background:"grey"},id:"btnRuleta",disabled:!0},i.a.createElement("audio",{autoPlay:!0,src:re.a,type:"audio/mp3"}),i.a.createElement("div",{className:"button-zoom"},"GIRAR")):i.a.createElement("button",{className:"roulette-container-button",onClick:this.handleOnClick,id:"btnRuleta"},i.a.createElement("div",{className:"button-zoom"},"GIRAR"))))}}]),t}(i.a.Component);le.defaultProps={options:["item1","item2","item3","item4","item5"],baseSize:275,spinAngleStart:10*Math.random()+10,spinTimeTotal:3*Math.random()+4e3};var ce=le,ue=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleOnComplete=function(){var e=Object(m.a)(g.a.mark((function e(t){var o,i,s,a,r,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=!0,i=!1,s=void 0,e.prev=3,a=n.state.todosAlumnos[Symbol.iterator]();case 5:if(o=(r=a.next()).done){e.next=13;break}if(l=r.value,"".concat(l.name_stu," ").concat(l.lastName_stu)!==t){e.next=10;break}return e.next=10,n.setState({point:l.point});case 10:o=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),i=!0,s=e.t0;case 19:e.prev=19,e.prev=20,o||null==a.return||a.return();case 22:if(e.prev=22,!i){e.next=25;break}throw s;case 25:return e.finish(22);case 26:return e.finish(19);case 27:n.setState({alumnoElegido:t,showModal:1});case 28:case"end":return e.stop()}}),e,null,[[3,15,19,27],[20,,22,26]])})));return function(t){return e.apply(this,arguments)}}(),n.getStudents=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("id_teacher"),o=localStorage.getItem("id_course");console.log(n.props.school),n.props.school?T()({url:"".concat(n.props.apiUrl,"/v1/api/student/").concat(t,"/").concat(o,"/students"),method:"GET",headers:{"x-access-token":"".concat(e)}}).then((function(e){var t=e.data;console.log(t);var o=[];t.map((function(e){return e.randonCode?"active"===e.state?(o.push("".concat(e.name_stu," ").concat(e.lastName_stu)),null):void 0:(o.push("".concat(e.name_stu," ").concat(e.lastName_stu)),null)})),n.setState({alumnos:n.sortearElementos(o),todosAlumnos:t})})).catch((function(e){console.log(e)})):T()({url:"".concat(n.props.apiUrl,"/v1/api/lesson/").concat(n.props.id_access,"/students/roulette"),method:"GET",headers:{"x-access-token":"".concat(e)}}).then((function(e){var t=[];e.data.map((function(e){return t.push("".concat(e.name_stu," ").concat(e.lastName_stu)),null})),n.setState({alumnos:n.sortearElementos(t),todosAlumnos:e.data})}))},n.sortearElementos=function(e){for(var t=e.length-1;t>0;t--){var o=Math.floor(Math.random()*(t+1)),n=[e[o],e[t]];e[t]=n[0],e[o]=n[1]}return e},n.handleChangePScore=function(){return n.setState({tipoPuntaje:1})},n.handleChangeNScore=function(){return n.setState({tipoPuntaje:0})},n.onClickPointAdd=function(){var e=Object(m.a)(g.a.mark((function e(t){var o,i,s,a,r,l,c,u,h;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=localStorage.getItem("token"),i=!0,s=!1,a=void 0,e.prev=4,r=n.state.todosAlumnos[Symbol.iterator]();case 6:if(i=(l=r.next()).done){e.next=17;break}if(c=l.value,"".concat(c.name_stu," ").concat(c.lastName_stu)!==n.state.alumnoElegido){e.next=14;break}return e.next=11,n.setState({point:c.point});case 11:u=n.state.point+t,h={point:u},T()({url:n.props.apiUrl+"/v1/api/student/update_score/"+c._id,data:h,method:"put",headers:{"x-access-token":"".concat(o)}});case 14:i=!0,e.next=6;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(4),s=!0,a=e.t0;case 23:e.prev=23,e.prev=24,i||null==r.return||r.return();case 26:if(e.prev=26,!s){e.next=29;break}throw a;case 29:return e.finish(26);case 30:return e.finish(23);case 31:n.getStudents(),n.setState({showModal:2});case 33:case"end":return e.stop()}}),e,null,[[4,19,23,31],[24,,26,30]])})));return function(t){return e.apply(this,arguments)}}(),n.onClickPointRemove=function(){var e=Object(m.a)(g.a.mark((function e(t){var o,i,s,a,r,l,c,u,h;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=localStorage.getItem("token"),i=!0,s=!1,a=void 0,e.prev=4,r=n.state.todosAlumnos[Symbol.iterator]();case 6:if(i=(l=r.next()).done){e.next=17;break}if(c=l.value,"".concat(c.name_stu," ").concat(c.lastName_stu)!==n.state.alumnoElegido){e.next=14;break}return e.next=11,n.setState({point:c.point});case 11:u=n.state.point-t,h={point:u},T()({url:n.props.apiUrl+"/v1/api/student/update_score/"+c._id,data:h,method:"put",headers:{"x-access-token":"".concat(o)}});case 14:i=!0,e.next=6;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(4),s=!0,a=e.t0;case 23:e.prev=23,e.prev=24,i||null==r.return||r.return();case 26:if(e.prev=26,!s){e.next=29;break}throw a;case 29:return e.finish(26);case 30:return e.finish(23);case 31:n.getStudents(),n.setState({showModal:2});case 33:case"end":return e.stop()}}),e,null,[[4,19,23,31],[24,,26,30]])})));return function(t){return e.apply(this,arguments)}}(),n.state={todosAlumnos:[],alumnos:[],alumnoElegido:"",point:10,showModal:0,tipoPuntaje:1,datapoint:{positivo:[{imgen:o(91),valor:1,title:"Ayuda a Otros"},{imgen:o(95),valor:1,title:"Cumplimiento de Tareas"},{imgen:o(92),valor:1,title:"Participacion"},{imgen:o(93),valor:1,title:"Persistencia"},{imgen:o(94),valor:1,title:"responsabilidad"},{imgen:o(96),valor:1,title:"trabajo en equipo"}],negativo:[{imgen:o(97),valor:1,title:"Ayuda a Otros"},{imgen:o(98),valor:1,title:"Cumplimiento de Tareas"},{imgen:o(99),valor:1,title:"Participacion"}]}},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.getStudents(),D()(this.props.socketUrl,{query:{pin:this.props.id_access}}).on("newAlum",(function(t){t.pin===e.props.id_access.toUpperCase()&&e.getStudents()}))}},{key:"closeModalAzar",value:function(){var e=D()(this.props.socketUrl,{query:{pin:this.props.id_access}});this.setState({showModal:2}),e.emit("closeModalAzar")}},{key:"render",value:function(){var e=this;return this.state.alumnos.length>0?i.a.createElement("div",null,i.a.createElement(ce,{options:this.state.alumnos,baseSize:220,onComplete:this.handleOnComplete,socketUrl:this.props.socketUrl,id_access:this.props.id_access}),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.showModal?"":1===this.state.showModal?"six":2===this.state.showModal?"six out":""},i.a.createElement("div",{class:"modal-general_background"},i.a.createElement("div",{class:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:function(){return e.closeModalAzar()}},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("div",{className:"modal-title"},"ALUMNO: ",this.state.alumnoElegido,i.a.createElement("br",null),"PUNTOS: ",this.state.point)),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement("ul",{class:"azar-tab-group"},i.a.createElement("li",{class:this.state.tipoPuntaje?"azar-tab active":"azar-tab",onClick:this.handleChangePScore},i.a.createElement("p",{className:"azar-a"},"POSITIVO")),i.a.createElement("li",{class:this.state.tipoPuntaje?"azar-tab":"azar-tab active",onClick:this.handleChangeNScore},i.a.createElement("p",{className:"azar-a"},"NEGATIVO"))),this.state.tipoPuntaje?i.a.createElement(q,{data:this.state.datapoint.positivo,funcion:this.onClickPointAdd}):i.a.createElement(q,{data:this.state.datapoint.negativo,funcion:this.onClickPointRemove}))),i.a.createElement("svg",{class:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"})))))):i.a.createElement("p",{className:"text-center"},"Esperando alumnos para ruleta...")}}]),t}(i.a.Component),he=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(ue,{school:this.props.school,all:this.props.todo,socketUrl:this.props.socketUrl,id_access:this.props.id_access,apiUrl:this.props.apiUrl}))}}]),t}(i.a.Component),pe=(o(288),o(289),function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"padre"},i.a.createElement("div",{className:"spinner"},i.a.createElement("div",{className:"bounce1"}),i.a.createElement("div",{className:"bounce2"}),i.a.createElement("div",{className:"bounce3"})))}}]),t}(n.Component)),de=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleNumPerGrou=function(e){o.setState({nro_per_grupo:e.target.value})},o.getAlumnos=Object(m.a)(g.a.mark((function e(){var t,n,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:t=e.sent,console.log("llego a getAlum"),n=localStorage.getItem("id_teacher"),i=localStorage.getItem("id_course"),o.props.school?T()({url:"".concat(o.props.apiUrl,"/v1/api/student/").concat(n,"/").concat(i,"/students"),method:"GET",headers:{"x-access-token":"".concat(t)}}).then((function(e){console.log("data",e),e.data.map((function(e){return console.log("hola perro"),o.state.alumnos.push("\u25b7"+e.name_stu+" "+e.lastName_stu),null}));var t=o.state.alumnos;o.setState({alumnos:t})})).catch((function(e){console.log("error",e)})):T()({url:"".concat(o.props.apiUrl+"/v1/api/lesson","/").concat(o.props.id_access,"/students"),method:"GET",headers:{"x-access-token":"".concat(t)}}).then((function(e){console.log("data",e),e.data.map((function(e){return console.log("hola perro"),o.state.alumnos.push("\u25b7"+e.name_stu+" "+e.lastName_stu),null}));var t=o.state.alumnos;o.setState({alumnos:t})})).catch((function(e){console.log("error",e)}));case 7:case"end":return e.stop()}}),e)}))),o.groupGenerator=function(){o.setState({Refrescar:!0,loanding:!0});var e=D()(o.props.socketUrl,{query:{pin:o.props.id_access}}),t="";o.getAlumnos(),console.log("numero de personas en total:"+o.state.alumnos.length);for(var n=o.state.nro_per_grupo,i=Math.ceil(o.state.alumnos.length/n),s=o.state.alumnos,a=0;a<i;a++){console.log("grupo n"+(a+1)),t+='<li class="grupos-cards__item">\n      <div class="grupos-card">\n        <div class="grupos-card__content">\n          <div class="grupos-card__title"><u>Grupo '.concat(a+1,"</u></div><br/>\n       ");for(var r=0;r<o.state.nro_per_grupo;r++){var l=Math.floor(Math.random()*s.length);if(s[l]){var c=s[l];console.log(c),t+='<div class="grupos-card__text"> '.concat(s[l],"</div>\n           ")}s.splice(l,1)}t+="</div>\n          </div>\n      </li>\n      "}setTimeout((function(){document.getElementById("imprimir").innerHTML=t,e.emit("enviando grupos",{data:t}),o.setState({loanding:!1}),console.log(t)}),500)},o.limpiar=function(){o.setState({loanding:!0}),setTimeout((function(){o.setState({Refrescar:!1,loanding:!1}),document.getElementById("imprimir").innerHTML=""}),500)},o.state={alumnos:[],nro_per_grupo:1,grupos:[],id_access:"",Refrescar:!1,loanding:!1},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getAlumnos();var e=this.props;this.setState({id_access:e}),console.log(this.props)}},{key:"render",value:function(){var e=this.state.nro_per_grupo.nro_per_grupo;return i.a.createElement(i.a.Fragment,null,this.state.loanding?i.a.createElement(pe,null):null,i.a.createElement("div",{className:"cuerpo-grupos"},this.state.Refrescar?i.a.createElement(i.a.Fragment,null,i.a.createElement("span",null,"Grupos formados por ",this.state.nro_per_grupo," Alumnos "),i.a.createElement("button",{className:"button",onClick:this.limpiar},i.a.createElement("label",{className:"tex"},"LIMPIAR"))):i.a.createElement(i.a.Fragment,null,e,i.a.createElement("span",null,"N\xfamero de personas por grupo "),i.a.createElement("input",{min:"1",className:"input-text",type:"number",name:"numGrup",placeholder:"N\xf9mero de personas por grupos",value:this.state.nro_per_grupo,onChange:this.handleNumPerGrou}),i.a.createElement("button",{className:"button",onClick:this.groupGenerator},i.a.createElement("label",{className:"tex"},"FORMAR GRUPOS")))),i.a.createElement("div",{className:"contenedor-grupos"},i.a.createElement("ul",{className:"grupos-cards",id:"imprimir"})))}}]),t}(n.Component),_e=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(de,{school:this.props.school,all:this.props.todo,id_access:this.props.id_access,socketUrl:this.props.socketUrl,apiUrl:this.props.apiUrl}))}}]),t}(i.a.Component),ge=o(21),me=o.n(ge),Ee=(o(290),function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).openModal=function(){o.setState({Show:1}),me()("#modal-temp").css("display","block")},o.closeModal=function(){o.setState({Show:0}),me()("#modal-temp").css("display","none")},o.componentDidMount=function(){var e,t,n,i=D()(o.props.socketUrl,{query:{pin:o.props.id_access}}),s="",a=[{element:me()("#hour"),input_element:me()("#id_dt_1"),value:36e5},{element:me()("#minute"),input_element:me()("#id_dt_2"),value:6e4},{element:me()("#second"),input_element:me()("#id_dt_3"),value:1e3}],r=me()("#alarm"),l=me()("#button-start-stop"),c=me()("#button-reset"),u=me()("#button-set"),h=me()("#button-establecer"),p=me()(".unit_value:visible"),d=function(){for(var t=e,o=0;o<a.length;++o){var n=a[o],i=Math.abs(Math.floor(t/n.value));t%=n.value,i=10>i?"0"+i:i,n.element.html("&#8201;"+i+"&#8201;")}},_=function(){if(0<=(e=n-Date.now()))d();else{clearInterval(s);try{r.get(0).play()}catch(t){}e=0,d(),p.css("color","red"),g(!0)}},g=function(e){e?l.text("INICIAR"):l.text("PAUSAR"),c.prop("disabled",!e),u.prop("disabled",!e),h.prop("disabled",!e);for(var t=0;t<a.length;++t)a[t].input_element.prop("disabled",!e)},m=function(){for(var o=t=0;o<a.length;++o){var n=a[o];t+=n.value*parseInt(n.input_element.val()?n.input_element.val():0)}var s=me()("#id_dt_1").val(),r=me()("#id_dt_2").val(),l=me()("#id_dt_3").val();i.emit("set",{time:[s,r,l]}),me()("#modal-temp").css("display","none"),e=t,d(),p.css("color","black")},E=function(){clearInterval(s),m(),g(!0)},T=function(){"INICIAR"===l.text()?v():(console.log("Pausa"),clearInterval(s),t=n-Date.now(),g(!0),i.emit("stop",{state:"pause"}))},v=function(){console.log("Empieza"),clearInterval(s),n=Date.now()+t,i.emit("start",{state:"play"}),p.css("color","black"),g(!1),_(),s=window.setInterval(_,50)};window.timer=function(e){m(),u.click(m),c.click(E),l.click(T),e&&v(),me()("#modal-temp").css("display","block")},window.timer(!1)},o.state={store:"",valH:"0",valM:"0",valS:"0",open:!0,Show:1},o.onChangeInputH=o.onChangeInputH.bind(Object(j.a)(o)),o.onChangeInputM=o.onChangeInputM.bind(Object(j.a)(o)),o.onChangeInputS=o.onChangeInputS.bind(Object(j.a)(o)),o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onChangeInputH",value:function(e){this.setState({valH:e.target.value})}},{key:"onChangeInputM",value:function(e){this.setState({valM:e.target.value})}},{key:"onChangeInputS",value:function(e){this.setState({valS:e.target.value})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"temporizador"},i.a.createElement("div",null,i.a.createElement("div",{className:"counter_part",id:"hour_wrapper"},i.a.createElement("div",{className:"unit_value",id:"hour"},"."),i.a.createElement("div",{className:"unit_name"},"HORAS")),i.a.createElement("div",{className:"counter_part colon",id:"colon_hour"},i.a.createElement("div",{className:"unit_value"},":"),i.a.createElement("div",{className:"unit_name"},"\xa0")),i.a.createElement("div",{className:"counter_part",id:"minute_wrapper"},i.a.createElement("div",{className:"unit_value",id:"minute"},"."),i.a.createElement("div",{className:"unit_name"},"MINUTOS")),i.a.createElement("div",{className:"counter_part colon",id:"colon_minute"},i.a.createElement("div",{className:"unit_value"},":"),i.a.createElement("div",{className:"unit_name"},"\xa0")),i.a.createElement("div",{className:"counter_part",id:"second_wrapper"},i.a.createElement("div",{className:"unit_value",id:"second"},"."),i.a.createElement("div",{className:"unit_name"},"SEGUNDOS")),i.a.createElement("audio",{id:"alarm",hidden:!0,controls:!0},i.a.createElement("source",{src:"http://www.peter-weinberg.com/files/1014/8073/6015/BeepSound.wav",type:"audio/wav"}),i.a.createElement("source",{src:"/images/clock.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element.")),i.a.createElement("div",{className:"counter-tools"},i.a.createElement("button",{type:"button",className:"pure-button pure-button-primary",id:"button-start-stop"},"INICIAR"),i.a.createElement("button",{type:"button",className:"pure-button pure-button-primary",id:"button-reset"},"REINICIAR"),i.a.createElement("button",{type:"button",className:"pure-button pure-button-success",onClick:function(){return e.openModal()},id:"button-establecer"},"ESTABLECER TIEMPO")),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.Show?"":1===this.state.Show?"six":2===this.state.Show?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:this.closeModal},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title__controlname",style:{color:"black"}},"ESTABLECER TIEMPO")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement("form",{className:"temporizador_form"},i.a.createElement("div",null,i.a.createElement("label",null,"Horas"),i.a.createElement("input",{className:"pure-input-1",type:"number",id:"id_dt_1",value:this.state.valH,min:"0",onChange:this.onChangeInputH})),i.a.createElement("div",null,i.a.createElement("label",null,"Minutos"),i.a.createElement("input",{className:"pure-input-1",type:"number",id:"id_dt_2",value:this.state.valM,min:"0",onChange:this.onChangeInputM})),i.a.createElement("div",null,i.a.createElement("label",null,"Segundos"),i.a.createElement("input",{className:"pure-input-1",type:"number",id:"id_dt_3",value:this.state.valS,min:"0",onChange:this.onChangeInputS}))),i.a.createElement("br",null),i.a.createElement("button",{type:"button",id:"button-set",className:"btnenviarvideo"},i.a.createElement("div",{className:"button-zoom",onClick:this.closeModal},"ESTABLECER TIEMPO")))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))))}}]),t}(i.a.Component)),Te=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(Ee,{socketUrl:this.props.socketUrl,id_access:this.props.id_access}))}}]),t}(n.Component),ve=(o(291),o(292),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).pin="",n.puntaje=0,n.componentDidMount=function(){n.getStudents();var e=n.props,t=e.id_access,o=e.socketUrl;n.pin=t,console.log("valor de pin cuando inicia componente: "+n.pin),D()(o,{query:{pin:n.pin}}).on("pregunta escogida",(function(e){var t=n.pin.toUpperCase();if(e.pin===t){n.state.alumnosRecibidos.push(e);var o=n.state.alumnosRecibidos;n.setState({alumnosRecibidos:o})}})),setTimeout((function(){return console.log(n.props)}),3e3)},n.getStudents=function(){var e=localStorage.getItem("token");T()({url:"".concat(n.props.apiUrl,"/v1/api/lesson/").concat(n.props.id_access,"/students/roulette"),method:"GET",headers:{"x-access-token":"".concat(e)}}).then((function(e){var t=[];e.data.map((function(e){t.push({_id:e._id,nombre:"".concat(e.name_stu," ").concat(e.lastName_stu),puntos:e.point})})),n.setState({todosAlumnos:t})})).catch((function(e){return console.log(e)}))},n.showModal=function(){n.setState((function(e){return{modal:!e.modal}})),n.state.modal},n.showModalQ=function(){n.setState((function(e){return{modalQuestions:!e.modalQuestions}})),n.state.modalQuestions},n.handleNavbarResponsive=function(){n.setState((function(e){return{navbarResponsive:!e.navbarResponsive}}))},n.changeQuestion=function(e){n.setState({pregunta:e.target.value})},n.handleChangeTime=function(e){n.setState({tiempo:e.target.value})},n.handleChangeImage=function(e){var t=e.target.files[0];if("image/"!==t.type.substr(0,6))return alert("Ingrese una imagen.");var o=new FileReader;o.onload=function(e){var t=e.target.result;n.setState({imagen64:t}),document.getElementById("imgSalida").setAttribute("src",t)},o.readAsDataURL(t)},n.changeAnswer1=function(e){n.setState({respuestaOne:e.target.value})},n.changeAnswer2=function(e){n.setState({respuestaTwo:e.target.value})},n.changeAnswer3=function(e){n.setState({respuestaTree:e.target.value})},n.changeAnswer4=function(e){n.setState({respuestaFour:e.target.value})},n.handleCorrectAnswer=function(e){n.setState({selectedCorrectAnswer:e.target.value})},n.handleAddAndRemovePoint=function(e,t){n.puntaje+=t,console.log("punto",t),console.log("this.punto",n.puntaje);var o=!0,i=!1,s=void 0;try{for(var a,r=n.state.todosAlumnos[Symbol.iterator]();!(o=(a=r.next()).done);o=!0){var l=a.value;if(l.nombre===e.data.alumno){var c=localStorage.getItem("token"),u={point:l.puntos+t};T()({url:n.props.apiUrl+"/v1/api/student/update_score/"+l._id,data:u,method:"put",headers:{"x-access-token":"".concat(c)}}).then((function(e){return n.getStudents()})).catch((function(e){return console.log(e)}))}}}catch(h){i=!0,s=h}finally{try{o||null==r.return||r.return()}finally{if(i)throw s}}},n.onClickPoint=function(e,t){n.setState({_id:e,point:t}),console.log(e,t)},n.onClickPointAdd=function(){var e=Object(m.a)(g.a.mark((function e(t){var o,i,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.state.point+t,i={point:o},s=localStorage.getItem("token"),e.next=5,T()({url:n.props.apiUrl+"/v1/api/student/update_score/"+n.state._id,data:i,method:"put",headers:{"x-access-token":"".concat(s)}});case 5:n.getStudents(),n.setState({showpuntosmas:2});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onClickPointRemove=function(){var e=Object(m.a)(g.a.mark((function e(t){var o,i,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.state.point-t,i={point:o},s=localStorage.getItem("token"),e.next=5,T()({url:n.props.apiUrl+"/v1/api/student/update_score/"+n.props._id,data:i,method:"put",headers:{"x-access-token":"".concat(s)}});case 5:n.getStudents(),n.setState({showpuntosmenos:2});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setShow=function(e,t){n.setState(Object(X.a)({},e,t))},n.setShowQuestions=function(e,t){n.setState(Object(X.a)({},e,t))},n.state={todosAlumnos:[],pregunta:"",tiempo:"5",imagen64:"",respuestaOne:"",respuestaTwo:"",respuestaTree:"",respuestaFour:"",selectedCorrectAnswer:"rojo",preguntaEnviada:!1,alumnosRecibidos:[],modal:!1,modalQuestions:!1,navbarResponsive:!1,showpuntosmas:0,showpuntosmenos:0,point:"",datapoint:{positivo:[{imgen:o(91),valor:1,title:"Ayuda a Otros"},{imgen:o(95),valor:1,title:"Cumplimiento de Tareas"},{imgen:o(92),valor:1,title:"Participacion"},{imgen:o(93),valor:1,title:"Persistencia"},{imgen:o(94),valor:1,title:"responsabilidad"},{imgen:o(96),valor:1,title:"trabajo en equipo"}],negativo:[{imgen:o(97),valor:1,title:"Ayuda a Otros"},{imgen:o(98),valor:1,title:"Cumplimiento de Tareas"},{imgen:o(99),valor:1,title:"Participacion"}]}},n.handleSendQuestion=n.handleSendQuestion.bind(Object(j.a)(n)),n.handleChangeTime=n.handleChangeTime.bind(Object(j.a)(n)),n.changeAnswer1=n.changeAnswer1.bind(Object(j.a)(n)),n.changeAnswer2=n.changeAnswer2.bind(Object(j.a)(n)),n.changeAnswer3=n.changeAnswer3.bind(Object(j.a)(n)),n.changeAnswer4=n.changeAnswer4.bind(Object(j.a)(n)),n.handleCorrectAnswer=n.handleCorrectAnswer.bind(Object(j.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),this.pin=""}},{key:"handleSendQuestion",value:function(){var e=this,t=D()(this.props.socketUrl,{query:{pin:this.props.id_access}});if(this.state.preguntaEnviada)console.log("restaurando..."),this.setState({pregunta:"",tiempo:"5",imagen64:"",respuestaOne:"",respuestaTwo:"",respuestaTree:"",respuestaFour:""}),document.getElementById("input-img").value="",document.getElementById("imgSalida").setAttribute("src",""),t.emit("restaurando datos","");else{t.emit("restaurando datos",""),this.setState({alumnosRecibidos:[]});var o=this.state.pregunta,n=this.state.respuestaOne,i=this.state.respuestaTwo,s=this.state.respuestaTree,a=this.state.respuestaFour;if(""===o||""===n||""===i||""===s||""===a)return alert("debe completar todos los campos");var r={pregunta:this.state.pregunta,tiempo:parseInt(this.state.tiempo,10),imagen:this.state.imagen64,respuestaOne:this.state.respuestaOne,respuestaTwo:this.state.respuestaTwo,respuestaTree:this.state.respuestaTree,respuestaFour:this.state.respuestaFour,respuestaCorrecta:this.state.selectedCorrectAnswer};t.emit("enviando pregunta",r),this.timeout=setTimeout((function(){return e.setState({modal:!0})}),parseInt("".concat(this.state.tiempo,"000"),10)+8e3)}this.setState((function(e){return{preguntaEnviada:!e.preguntaEnviada}}))}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:this.state.navbarResponsive?"triviaT-topnav responsive":"triviaT-topnav"},i.a.createElement("a",{className:"titulo-responsive"},i.a.createElement("h1",null,"PLAYTEC Trivia")),i.a.createElement("a",null,i.a.createElement("div",{className:"contenedor-btn-enviar"},this.state.preguntaEnviada?i.a.createElement("button",{className:"triviaT-restaurar",onClick:this.handleSendQuestion},"Restaurar"):i.a.createElement("button",{className:"triviaT-enviar",onClick:this.handleSendQuestion},"Enviar"),i.a.createElement("button",{className:"triviaT-preguntas",onClick:this.showModalQ},"Preguntas"),i.a.createElement("button",{className:"triviaT-respuestas",onClick:this.showModal},"Respuestas"))),i.a.createElement("a",{className:"titulo"},i.a.createElement("h1",null,"PLAYTEC Trivia")),i.a.createElement("a",{className:"triviaT-icon",onClick:this.handleNavbarResponsive},i.a.createElement("i",{className:"fa fa-bars"})),this.state.modal?i.a.createElement("div",{className:"modal-respuestas"},i.a.createElement("div",{className:"modal-content-respuestas"},i.a.createElement("button",{className:"modal-general_closeTrivia",onClick:this.showModal},i.a.createElement("img",{className:"button-zoom",src:oe.a,alt:"imagen de cerrar modal"})),i.a.createElement("h2",null,"Alumnos Finalistas"),i.a.createElement("ul",{className:"rolldown-list",id:"myList"},this.state.alumnosRecibidos.length>0?this.state.alumnosRecibidos.map((function(t,o){return o>4?null:i.a.createElement("li",{className:"lista-contenedora",key:o},i.a.createElement("div",{className:"trivia-respuestas"},i.a.createElement("div",{className:"name-contenedor"},"alumno:\xa0\xa0",t.data.alumno,"\xa0\xa0"),i.a.createElement("div",{className:"points-contenedor"},"puntos:\xa0\xa0",i.a.createElement("button",{className:"button btnMyM material-icons",onClick:function(){return e.onClickPoint(t._id,t.point)+e.setShow("showpuntosmas",1)}},"add_circle_outline"),"\xa0",e.state.todosAlumnos.map((function(e){return e.nombre===t.data.alumno?i.a.createElement("label",{key:o},e.puntos):null})),"\xa0",i.a.createElement("button",{className:"button btnMyM material-icons",onClick:function(){return e.onClickPoint(t._id,t.point)+e.setShow("showpuntosmenos",1)}},"remove_circle_outline"))))})):i.a.createElement("h2",null,"A\xfan no hay alumnos en el top.")))):null,this.state.modalQuestions?i.a.createElement("div",{className:"modal-respuestas"},i.a.createElement("div",{className:"modal-content-respuestas"},i.a.createElement("button",{className:"modal-general_closeTrivia",onClick:this.showModalQ},i.a.createElement("img",{className:"button-zoom",src:oe.a,alt:"imagen de cerrar modal"})),i.a.createElement("h2",null,"Banco de preguntas"))):null),i.a.createElement("div",{className:"triviaT-cuerpo"},i.a.createElement("form",null,i.a.createElement("div",{className:"triviaT-row"},i.a.createElement("div",{className:"triviaT-col-6"},i.a.createElement("label",{htmlFor:"pregunta"},"Pregunta"),i.a.createElement("input",{type:"text",id:"pregunta",className:"triviaT-input-pregunta",value:this.state.pregunta,onChange:this.changeQuestion,autoComplete:"off"}),i.a.createElement("label",{htmlFor:"time"},"Tiempo"),i.a.createElement("select",{id:"time",name:"tiempo",className:"triviaT-input-pregunta triviaT-input-tiempo",value:this.state.value,onChange:this.handleChangeTime},i.a.createElement("option",{value:"5"},"5 segundos"),i.a.createElement("option",{value:"10"},"10 segundos"),i.a.createElement("option",{value:"20"},"20 segundos"),i.a.createElement("option",{value:"30"},"30 segundos"),i.a.createElement("option",{value:"60"},"60 segundos"))),i.a.createElement("div",{className:"triviaT-col-6"},i.a.createElement("label",{htmlFor:"input-img"},"Medio de Comunicaci\xf3n (opcional)"),i.a.createElement("div",{className:"triviaT-image-container"},i.a.createElement("input",{type:"file",id:"input-img",className:"imagen",onChange:this.handleChangeImage}),i.a.createElement("img",{alt:"imagen a enviar ",className:"triviaT-imgSalida",id:"imgSalida",width:"120px",height:"110px",src:""})))),i.a.createElement("div",{className:"triviaT-row"},i.a.createElement("div",{className:"triviaT-col-6"},i.a.createElement("label",{htmlFor:"res1"},"Respuesta 1"),i.a.createElement("br",null),i.a.createElement("div",{className:"triviaT-contenedor-respuesta custom-radios"},i.a.createElement("input",{type:"text",id:"res1",className:"triviaT-input-respuestas",value:this.state.respuestaOne,onChange:this.changeAnswer1,autoComplete:"off"}),i.a.createElement("input",{type:"radio",id:"color-1",name:"color",value:"rojo",checked:"rojo"===this.state.selectedCorrectAnswer,onChange:this.handleCorrectAnswer}),i.a.createElement("label",{htmlFor:"color-1"},i.a.createElement("span",null,i.a.createElement("img",{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/242518/check-icn.svg",alt:"Checked Icon"})))),i.a.createElement("label",{htmlFor:"res3"},"Respuesta 2"),i.a.createElement("br",null),i.a.createElement("div",{className:"triviaT-contenedor-respuesta custom-radios"},i.a.createElement("input",{type:"text",id:"res3",className:"triviaT-input-respuestas",value:this.state.respuestaTree,onChange:this.changeAnswer3,autoComplete:"off"}),i.a.createElement("input",{type:"radio",id:"color-2",name:"color",value:"naranja",checked:"naranja"===this.state.selectedCorrectAnswer,onChange:this.handleCorrectAnswer}),i.a.createElement("label",{htmlFor:"color-2"},i.a.createElement("span",null,i.a.createElement("img",{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/242518/check-icn.svg",alt:"Checked Icon"}))))),i.a.createElement("div",{className:"triviaT-col-6"},i.a.createElement("label",{htmlFor:"res2"},"Respuesta 3"),i.a.createElement("br",null),i.a.createElement("div",{className:"triviaT-contenedor-respuesta custom-radios"},i.a.createElement("input",{type:"text",id:"res2",className:"triviaT-input-respuestas",value:this.state.respuestaTwo,onChange:this.changeAnswer2,autoComplete:"off"}),i.a.createElement("input",{type:"radio",id:"color-3",name:"color",value:"azul",checked:"azul"===this.state.selectedCorrectAnswer,onChange:this.handleCorrectAnswer}),i.a.createElement("label",{htmlFor:"color-3"},i.a.createElement("span",null,i.a.createElement("img",{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/242518/check-icn.svg",alt:"Checked Icon"})))),i.a.createElement("label",{htmlFor:"res4"},"Respuesta 4"),i.a.createElement("br",null),i.a.createElement("div",{className:"triviaT-contenedor-respuesta custom-radios"},i.a.createElement("input",{type:"text",id:"res4",className:"triviaT-input-respuestas",value:this.state.respuestaFour,onChange:this.changeAnswer4,autoComplete:"off"}),i.a.createElement("input",{type:"radio",id:"color-4",name:"color",value:"verde",checked:"verde"===this.state.selectedCorrectAnswer,onChange:this.handleCorrectAnswer}),i.a.createElement("label",{htmlFor:"color-4"},i.a.createElement("span",null,i.a.createElement("img",{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/242518/check-icn.svg",alt:"Checked Icon"})))))))),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.showpuntosmas?"":1===this.state.showpuntosmas?"six":2===this.state.showpuntosmas?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:function(){return e.setShow("showpuntosmas",2)}},i.a.createElement("img",{className:"button-zoom",src:oe.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title"},"POSITIVO:")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement(q,{data:this.state.datapoint.positivo,funcion:this.onClickPointAdd}))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.showpuntosmenos?"":1===this.state.showpuntosmenos?"six":2===this.state.showpuntosmenos?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:function(){return e.setShow("showpuntosmenos",2)}},i.a.createElement("img",{className:"button-zoom",src:oe.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title"},"NECESITAS MEJORAR:")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement(q,{data:this.state.datapoint.negativo,funcion:this.onClickPointRemove}))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))))}}]),t}(i.a.Component)),fe=function(e){return i.a.createElement("div",null,i.a.createElement(ve,{socketUrl:e.socketUrl,id_access:e.id_access,apiUrl:e.apiUrl}))},be=o(73),Se=o.n(be),Ae=(o(293),function(e){function t(){var e,o;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(o=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={x1:"",y1:"",x2:"",y2:"",x3:"",y3:"",color:"black",size:6,clickPress:!1,mouseReleased:!1,trazo:[],pageinit:!1,clear:!1,circle:!1,rect:!1,triangle:!1,pencil:!0,text:!1,diameter:0,texto:"",Show:0},o.draw=function(e){o.state.clickPress?o.state.pencil?(e.stroke(o.state.color),e.fill("#be525200"),e.strokeWeight(o.state.size),e.line(o.state.x1,o.state.y1,o.state.x2,o.state.y2),o.state.trazo.push({x:o.state.x1,y:o.state.y1,x1:o.state.x2,y1:o.state.y2}),o.setState({x1:o.state.x2,y1:o.state.y2})):o.state.text&&""!==o.state.texto&&(e.fill(o.state.color),e.stroke(o.state.color),e.strokeWeight(1),e.textSize(2*o.state.size),e.textFont("Opal"),e.text(o.state.texto,o.state.x1,o.state.y1),o.setState({text:!1,texto:""}),setTimeout((function(){o.setState({pencil:!0,clickPress:!1})}),500)):o.state.mouseReleased?(e.fill("#be525200"),o.state.circle?(e.stroke(o.state.color),e.strokeWeight(o.state.size),e.circle(o.state.x2,o.state.y2,o.state.diameter)):o.state.rect?(e.stroke(o.state.color),e.strokeWeight(o.state.size),e.rect(o.state.x1,o.state.y1,o.state.x2,o.state.y2)):o.state.triangle?(e.stroke(o.state.color),e.strokeWeight(o.state.size),e.triangle(o.state.x1,o.state.y1,o.state.x2,o.state.y2,o.state.x3,o.state.y3)):o.state.line&&(e.stroke(o.state.color),e.strokeWeight(o.state.size),e.line(o.state.x1,o.state.y1,o.state.x2,o.state.y2)),o.setState({mouseReleased:!1})):o.state.clear&&(e.clear(),o.setState({clear:!1}))},o.getColor=function(e){var t=e.target.id;o.setState({color:t})},o.getSize=function(e){o.setState({size:e.target.id})},o.clear=function(){o.setState({clear:!0}),D()(o.props.socketUrl,{query:{pin:o.props.id_access}}).emit("clearBoard",{data:"aqui va la data"})},o.circle=function(){o.setState({circle:!0,rect:!1,triangle:!1,pencil:!1,mouseReleased:!1,text:!1,line:!1})},o.rect=function(){o.setState({circle:!1,rect:!0,triangle:!1,pencil:!1,mouseReleased:!1,text:!1,line:!1})},o.triangle=function(){o.setState({circle:!1,rect:!1,triangle:!0,pencil:!1,mouseReleased:!1,text:!1,line:!1})},o.pencil=function(){o.setState({circle:!1,rect:!1,triangle:!1,pencil:!0,mouseReleased:!1,text:!1,line:!1})},o.line=function(){o.setState({circle:!1,rect:!1,triangle:!1,pencil:!1,mouseReleased:!1,line:!0,text:!1})},o.text=function(){o.setState({circle:!1,rect:!1,triangle:!1,pencil:!1,mouseReleased:!1,line:!1,text:!1,Show:1})},o.textOn=function(){o.setState({Show:2,clickPress:!1}),setTimeout((function(){o.setState({text:!0})}),500)},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){D()(this.props.socketUrl,{query:{pin:this.props.id_access}}).emit("redirectAlum",{page:"board"})}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({pageinit:!0})}),1e3)}},{key:"mousePressed",value:function(e){this.setState({clickPress:!0,x1:e.pmouseX,y1:e.pmouseY,x2:e.pmouseX,y2:e.pmouseY});var t=D()(this.props.socketUrl,{query:{pin:this.props.id_access}}),o={color:this.state.color,size:this.state.size};t.emit("startPencil",{data:o})}},{key:"mouseReleased",value:function(e){var t=D()(this.props.socketUrl,{query:{pin:this.props.id_access}});if(this.state.pencil)console.log(this.state.trazo),t.emit("DrawPencil",{data:this.state.trazo}),this.setState({clickPress:!1,trazo:[]});else if(this.state.circle){var o=this.state.x1-e.pmouseX,n=this.state.x1-o/2,i=this.state.y1-o/2,s={d:o,x1:n,y1:i};t.emit("DrawCircle",{data:s}),this.setState({clickPress:!1,mouseReleased:!0,diameter:o,x2:n,y2:i})}else if(this.state.rect){this.setState({clickPress:!1,mouseReleased:!0,x2:e.pmouseX-this.state.x1,y2:e.pmouseY-this.state.y1});var a={x1:this.state.x1,y1:this.state.y1,x2:e.pmouseX-this.state.x1,y2:e.pmouseY-this.state.y1};t.emit("DrawRect",{data:a})}else if(this.state.triangle){var r=this.state.x1-e.pmouseX,l=this.state.x1,c=this.state.y1,u=e.pmouseX,h=this.state.x1+r,p=e.pmouseY,d=e.pmouseY,_={x1:h,y1:p,x2:l,y2:c,x3:u,y3:d};t.emit("DrawTriangle",{data:_}),this.setState({clickPress:!1,mouseReleased:!0,x1:h,y1:p,x2:l,y2:c,x3:u,y3:d})}else if(this.state.line){var g={x1:this.state.x1,y1:this.state.y1,x2:e.pmouseX,y2:e.pmouseY};t.emit("DrawLine",{data:g}),this.setState({clickPress:!1,mouseReleased:!0,x2:e.pmouseX,y2:e.pmouseY})}}},{key:"mouseDragged",value:function(e){this.state.pencil&&this.setState({x2:e.pmouseX,y2:e.pmouseY})}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"divSketch"},this.state.pageinit?i.a.createElement(Se.a,{onclick:!0,mouseWheel:!1,className:"canvasBoard",setup:function(e,t){e.createCanvas(1e3,500).parent(t)},draw:function(t){return e.draw(t)},mouseDragged:function(t){return e.mouseDragged(t)},mousePressed:function(t){return e.mousePressed(t)},touchStarted:function(t){return e.mousePressed(t)},mouseReleased:function(t){return e.mouseReleased(t)}}):null),i.a.createElement("ul",{className:"divPalette"},i.a.createElement("li",{className:"liPalette liColor"},i.a.createElement("div",{className:"divCuadro contColor"},"COLORES",i.a.createElement("ul",{className:"ulcolors"},i.a.createElement("li",null,i.a.createElement("div",{type:"button",onClick:function(t){return e.getColor(t)},id:"white",className:"white"})),i.a.createElement("li",null,i.a.createElement("div",{type:"button",onClick:function(t){return e.getColor(t)},id:"silver",className:"silver"})),i.a.createElement("li",null,i.a.createElement("div",{type:"button",onClick:function(t){return e.getColor(t)},id:"gray",className:"gray"})),i.a.createElement("li",null,i.a.createElement("div",{type:"button",onClick:function(t){return e.getColor(t)},id:"black",className:"black"})),i.a.createElement("li",null,i.a.createElement("div",{type:"button",onClick:function(t){return e.getColor(t)},id:"red",className:"red"})),i.a.createElement("li",null,i.a.createElement("div",{type:"button",onClick:function(t){return e.getColor(t)},id:"maroon",className:"maroon"})),i.a.createElement("li",null,i.a.createElement("div",{type:"button",onClick:function(t){return e.getColor(t)},id:"yellow",className:"yellow"})),i.a.createElement("li",null,i.a.createElement("div",{type:"button",onClick:function(t){return e.getColor(t)},id:"olive",className:"olive"})),i.a.createElement("li",null,i.a.createElement("div",{type:"button",onClick:function(t){return e.getColor(t)},id:"lime",className:"lime"})),i.a.createElement("li",null,i.a.createElement("div",{type:"button",onClick:function(t){return e.getColor(t)},id:"green",className:"green"})),i.a.createElement("li",null,i.a.createElement("div",{type:"button",onClick:function(t){return e.getColor(t)},id:"aqua",className:"aqua"})),i.a.createElement("li",null,i.a.createElement("div",{type:"button",onClick:function(t){return e.getColor(t)},id:"teal",className:"teal"})),i.a.createElement("li",null,i.a.createElement("div",{type:"button",onClick:function(t){return e.getColor(t)},id:"blue",className:"blue"})),i.a.createElement("li",null,i.a.createElement("div",{type:"button",onClick:function(t){return e.getColor(t)},id:"navy",className:"navy"})),i.a.createElement("li",null,i.a.createElement("div",{type:"button",onClick:function(t){return e.getColor(t)},id:"fuchsia",className:"fuchsia"})),i.a.createElement("li",null,i.a.createElement("div",{type:"button",onClick:function(t){return e.getColor(t)},id:"purple",className:"purple"}))))),i.a.createElement("li",{className:"liPalette liSize"},i.a.createElement("div",{className:"divCuadro contSize"},"TAMA\xd1O",i.a.createElement("ul",{className:"ulSize"},i.a.createElement("li",null,i.a.createElement("div",{onClick:function(t){return e.getSize(t)},className:"size-4",id:"4"})),i.a.createElement("li",null,i.a.createElement("div",{onClick:function(t){return e.getSize(t)},className:"size-8",id:"8"})),i.a.createElement("li",null,i.a.createElement("div",{onClick:function(t){return e.getSize(t)},className:"size-12",id:"12"})),i.a.createElement("li",null,i.a.createElement("div",{onClick:function(t){return e.getSize(t)},className:"size-16",id:"16"})),i.a.createElement("li",null,i.a.createElement("div",{onClick:function(t){return e.getSize(t)},className:"size-20",id:"20"})),i.a.createElement("li",null,i.a.createElement("div",{onClick:function(t){return e.getSize(t)},className:"size-24",id:"24"}))))),i.a.createElement("li",{className:"liPalette liClear"},i.a.createElement("div",{className:"divCuadro contSize"},i.a.createElement("ul",{className:"ulOptions"},i.a.createElement("li",{className:"iclear"},i.a.createElement("i",{className:"material-icons",onClick:function(){return e.clear()}},"refresh")),i.a.createElement("li",{className:"iclear"},i.a.createElement("i",{className:"material-icons",onClick:function(){return e.circle()}},"panorama_fish_eye")),i.a.createElement("li",{className:"iclear"},i.a.createElement("i",{className:"material-icons",onClick:function(){return e.rect()}},"check_box_outline_blank")),i.a.createElement("li",{className:"iclear"},i.a.createElement("i",{className:"material-icons",onClick:function(){return e.triangle()}},"change_history")),i.a.createElement("li",{className:"iclear"},i.a.createElement("i",{className:"material-icons",onClick:function(){return e.pencil()}},"create")),i.a.createElement("li",{className:"iclear"},i.a.createElement("i",{className:"material-icons",onClick:function(){return e.line()}},"remove")))))),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.Show?"":1===this.state.Show?"six":2===this.state.Show?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:function(){return e.setState({Show:2})}},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title__controlname botton-zoom",style:{color:"black"}},"ESCRIBA TEXTO")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement("input",{id:"urlid",type:"text",name:"urlvideo",onChange:function(t){return e.setState({texto:t.target.value})},style:{fontSize:"20px",width:"80%"},value:this.state.texto,required:!0}),i.a.createElement("button",{className:"Myni",onClick:function(){return e.textOn()},type:"button"},i.a.createElement("div",{className:"button-zoom"},"Agregar Texto")))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))))}}]),t}(i.a.Component)),Ie=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(Ae,{socketUrl:this.props.socketUrl,id_access:this.props.id_access})}}]),t}(i.a.Component),Ce=(o(294),function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"body-404"},i.a.createElement("div",{className:"layout"},i.a.createElement("div",{className:"title-404"},"404!"),i.a.createElement("div",{className:"text icon_500"},"La p\xe1gina que est\xe1 buscando no se encuentra disponible"),i.a.createElement(p.b,{className:"notfound-link",to:"/"},i.a.createElement("button",{className:"home-notfound"},"Volver a la p\xe1gina principal")))))}}]),t}(n.Component)),ye=(o(295),o(296),function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"comment"},i.a.createElement("textarea",{id:"content_arduino",className:"textinput",readOnly:"readOnly"})))}}]),t}(i.a.Component)),Oe=o(74),Re=o.n(Oe),ke=o(71),Ne=o.n(ke),Me=o(45),Le=o(33),De=(o(297),o(17)),we=o.n(De),Be=(o(153),function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialXml,o=(e.children,Object(Me.a)(e,["initialXml","children"]));this.primaryWorkspace=we.a.inject(this.blocklyDiv,Object(Le.a)({toolbox:this.toolbox},o)),t&&we.a.Xml.domToWorkspace(we.a.Xml.textToDom(t),this.primaryWorkspace)}},{key:"setXml",value:function(e){we.a.Xml.domToWorkspace(we.a.Xml.textToDom(e),this.primaryWorkspace)}},{key:"render",value:function(){var e=this,t=this.props.children;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{ref:function(t){return e.blocklyDiv=t},id:"blocklyDiv"}),i.a.createElement("xml",{xmlns:"https://developers.google.com/blockly/xml",is:"blockly",style:{display:"block"},ref:function(t){e.toolbox=t}},t))}},{key:"workspace",get:function(){return this.primaryWorkspace}}]),t}(i.a.Component)),Pe=function(e){var t=e.children,o=Object(Me.a)(e,["children"]);return o.is="blockly",i.a.createElement("block",o,t)},xe=function(e){var t=e.children,o=Object(Me.a)(e,["children"]);return o.is="blockly",i.a.createElement("category",o,t)},Ue=function(e){var t=e.children,o=Object(Me.a)(e,["children"]);return o.is="blockly",i.a.createElement("value",o,t)},Fe=function(e){var t=e.children,o=Object(Me.a)(e,["children"]);return o.is="blockly",i.a.createElement("field",o,t)},He=function(e){var t=e.children,o=Object(Me.a)(e,["children"]);return o.is="blockly",i.a.createElement("shadow",o,t)},Ge=o(185),Ve=o.n(Ge),We=o(108),Xe=o.n(We),je=o(186),Ye=o.n(je),ze=o(187),Ke=o.n(ze),qe={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},Qe=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleOptionChange=function(t){e.setState({selectedOption:t.target.value})},e.handleFormSubmit=function(t){console.log("You have selected:",e.state.selectedOption),"Es"===e.state.selectedOption?(we.a.setLocale(Ye.a),e.setState({modalIsOpen:!1})):"En"===e.state.selectedOption?(we.a.setLocale(Xe.a),e.setState({modalIsOpen:!1})):"Fr"===e.state.selectedOption&&(we.a.setLocale(Ke.a),e.setState({modalIsOpen:!1}))},e.state={modalIsOpen:!1},e.openModal=e.openModal.bind(Object(j.a)(e)),e.afterOpenModal=e.afterOpenModal.bind(Object(j.a)(e)),e.closeModal=e.closeModal.bind(Object(j.a)(e)),e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"afterOpenModal",value:function(){this.subtitle.style.color="#f00"}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"modal"},i.a.createElement("button",{onClick:this.openModal},"Open Modal"),i.a.createElement(Ve.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,style:qe,contentLabel:"Lenguaje",ariaHideApp:!1},i.a.createElement("h2",{ref:function(t){return e.subtitle=t}},"Lenguaje"),i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement("div",{className:"radio"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",value:"Es",checked:"Es"===this.state.selectedOption,onChange:this.handleOptionChange}),"Espa\xf1ol")),i.a.createElement("div",{className:"radio"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",value:"En",checked:"En"===this.state.selectedOption,onChange:this.handleOptionChange}),"Ingles")),i.a.createElement("div",{className:"radio"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",value:"Fr",checked:"Fr"===this.state.selectedOption,onChange:this.handleOptionChange}),"Frances")),i.a.createElement("button",{onClick:this.closeModal},"close"),i.a.createElement("button",{className:"btn btn-default",type:"submit"},"Save"))))}}]),t}(i.a.Component),Je=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"showEditor_",value:function(){this.div_=De.DropDownDiv.getContentDiv(),a.a.render(this.render(),this.div_);var e=this.sourceBlock_.getColourBorder();e=e.colourBorder||e.colourLight,De.DropDownDiv.setColour(this.sourceBlock_.getColour(),e),De.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this))}},{key:"dropdownDispose_",value:function(){a.a.unmountComponentAtNode(this.div_)}},{key:"render",value:function(){return i.a.createElement(Ze,null)}}],[{key:"fromJson",value:function(e){return new t(e.text)}}]),t}(De.Field),Ze=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:{color:"#fff"}},"Hello from React!")}}]),t}(i.a.Component);De.fieldRegistry.register("field_react_component",Je);var $e=Je,et=o(116),tt=o(188),ot=o.n(tt),nt=(o(307),function(e){function t(){var e,o;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(o=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).onDateSelected_=function(e){o.setValue(new Date(e)),et.DropDownDiv.hideIfOwner(Object(j.a)(o),!0)},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"getText_",value:function(){return this.value_.toLocaleDateString()}},{key:"fromXml",value:function(e){this.setValue(new Date(e.textContent))}},{key:"render",value:function(){return i.a.createElement(ot.a,{selected:this.value_,onChange:this.onDateSelected_,inline:!0})}}],[{key:"fromJson",value:function(e){return new t(new Date(e.date))}}]),t}($e));et.fieldRegistry.register("field_react_date",nt);var it={type:"react_controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"};De.Blocks.react_controls_repeat={init:function(){this.jsonInit(it),this.setStyle("loop_blocks")}};var st={type:"react_controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]};De.Blocks.react_controls_for={init:function(){this.jsonInit(st),this.setStyle("loop_blocks")}};var at={type:"react_controls_while",message0:"%{BKY_CONTROLS_WHILE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_WHILE_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null};De.Blocks.react_controls_while={init:function(){this.jsonInit(at),this.setStyle("loop_blocks")}};var rt={type:"react_controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]};De.Blocks.react_controls_flow_statements={init:function(){this.jsonInit(rt),this.setStyle("loop_blocks")}};var lt=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(xe,{name:"Bucles"},i.a.createElement(Pe,{type:"react_controls_repeat"},i.a.createElement(Ue,{name:"TIMES"},i.a.createElement(He,{type:"react_math_number"},i.a.createElement(Fe,{name:"NUM"},"10")))),i.a.createElement(Pe,{type:"react_controls_for"},i.a.createElement(Ue,{name:"FROM"},i.a.createElement(Pe,{type:"react_math_number"},i.a.createElement(Fe,{name:"NUM"},"0"))),i.a.createElement(Ue,{name:"TO"},i.a.createElement(Pe,{type:"react_math_number"},i.a.createElement(Fe,{name:"NUM"},"10")))),i.a.createElement(Pe,{type:"react_controls_while"},i.a.createElement(Ue,{name:"BOOL"},i.a.createElement(Pe,{type:"react_logic_boolean"},i.a.createElement(Fe,{name:"BOOL"},"TRUE")))),i.a.createElement(Pe,{type:"react_controls_flow_statements"}))}}]),t}(i.a.Component),ct={type:"react_controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]};De.Blocks.react_controls_if={init:function(){this.jsonInit(ct),this.setStyle("logic_blocks")}};var ut={type:"react_logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]};De.Blocks.react_logic_compare={init:function(){this.jsonInit(ut),this.setStyle("logic_blocks")}};var ht={type:"react_logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]};De.Blocks.react_logic_operation={init:function(){this.jsonInit(ht),this.setStyle("logic_blocks")}};var pt={type:"react_logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"};De.Blocks.react_logic_negate={init:function(){this.jsonInit(pt),this.setStyle("logic_blocks")}};var dt={type:"react_logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"};De.Blocks.react_logic_boolean={init:function(){this.jsonInit(dt),this.setStyle("logic_blocks")}};var _t=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(xe,{name:"Logica"},i.a.createElement(Pe,{type:"react_controls_if"}),i.a.createElement(Pe,{type:"react_logic_compare"}),i.a.createElement(Pe,{type:"react_logic_operation"}),i.a.createElement(Pe,{type:"react_logic_negate"}),i.a.createElement(Pe,{type:"react_logic_boolean"}))}}]),t}(i.a.Component),gt={type:"react_math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",style:"math_blocks",extensions:["parent_tooltip_when_inline"]};De.Blocks.react_math_number={init:function(){this.jsonInit(gt),this.setStyle("math_blocks")}};var mt={type:"react_cast_number",message0:"%{BKY_CAST_NUMBER} %1 %2",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_MATH_CAST_NUMBER_INT}","(int)"],["%{BKY_MATH_CAST_NUMBER_UNSIGNED_INT}","(unsigned int)"],["%{BKY_MATH_CAST_NUMBER_BYTE}","(byte)"],["%{BKY_MATH_CAST_NUMBER_WORD}","(word)"],["%{BKY_MATH_CAST_NUMBER_LONG}","(long)"],["%{BKY_MATH_CAST_NUMBER_UNSIDNED_LONG}","(unsigned long)"],["%{BKY_MATH_CAST_NUMBER_FLOAT}","(float)"],["%{BKY_MATH_CAST_NUMBER_DOUBLE}","(double)"],["%{BKY_MATH_CAST_NUMBER_CHAR}","(char)"]]},{type:"input_value",name:"NUM",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks"};De.Blocks.react_cast_number={init:function(){this.jsonInit(mt),this.setStyle("math_blocks")}};var Et={type:"react_math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]};De.Blocks.react_math_arithmetic={init:function(){this.jsonInit(Et),this.setStyle("math_blocks")}};var Tt={type:"react_math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks"};De.Blocks.react_math_single={init:function(){this.jsonInit(Tt),this.setStyle("math_blocks")}};var vt={type:"react_math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"};De.Blocks.react_math_constrain={init:function(){this.jsonInit(vt),this.setStyle("math_blocks")}};var ft={type:"react_math_pow",message0:"%{BKY_MATH_POW}",args0:[{type:"input_value",name:"pow",check:"Number"},{type:"input_value",name:"exp",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"};De.Blocks.react_math_pow={init:function(){this.jsonInit(ft),this.setStyle("math_blocks")}};var bt={type:"react_math_random_max_min",message0:"%{BKY_MATH_RANDOM_MAX}",args0:[{type:"input_value",name:"MAX",check:"Number"},{type:"input_value",name:"MIN",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"};De.Blocks.react_math_random_max_min={init:function(){this.jsonInit(bt),this.setStyle("math_blocks")}};var St=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(xe,{name:"Math"},i.a.createElement(Pe,{type:"react_math_number"}),i.a.createElement(Pe,{type:"react_cast_number"}),i.a.createElement(Pe,{type:"react_math_arithmetic"}),i.a.createElement(Pe,{type:"react_math_single"}),i.a.createElement(Pe,{type:"react_math_constrain"}),i.a.createElement(Pe,{type:"react_math_pow"}),i.a.createElement(Pe,{type:"react_math_random_max_min"}))}}]),t}(i.a.Component),At={type:"react_setup",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}"};De.Blocks.react_setup={init:function(){this.jsonInit(At),this.setStyle("logic_blocks")}};var It=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(xe,{name:"Initializes"},i.a.createElement(Pe,{type:"react_setup"}))}}]),t}(i.a.Component),Ct={type:"react_text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]};De.Blocks.react_text={init:function(){this.jsonInit(Ct),this.setStyle("text_blocks")}};var yt={type:"react_textapos",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes2","parent_tooltip_when_inline"]};De.Blocks.react_textapos={init:function(){this.jsonInit(yt),this.setStyle("text_blocks")}};var Ot={type:"react_comment_out",message0:"%{BKY_COMMENTOUT}",message1:"%{BKY_CONTROLS_HUECO} %1",args1:[{type:"input_statement",name:"CONTENT"}],previousStatement:null,nextStatement:null,style:"logic_blocks"};De.Blocks.react_comment_out={init:function(){this.jsonInit(Ot),this.setStyle("text_blocks")}};var Rt=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(xe,{name:"Text"},i.a.createElement(Pe,{type:"react_text"}),i.a.createElement(Pe,{type:"react_textapos"}),i.a.createElement(Pe,{type:"react_comment_out"}))}}]),t}(i.a.Component),kt=function(e){function t(){var e,o;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(o=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).generateXml=function(){var e=Re.a.Xml.domToText(Re.a.Xml.workspaceToDom(o.simpleWorkspace.workspace));console.log(e)},o.generateCode=function(){var e=Ne.a.workspaceToCode(o.simpleWorkspace.workspace);document.getElementById("content_arduino").value=e;var t=document.getElementById("content_arduino"),n=document.getElementById("bloques");t.style.visibility="visible",n.style.visibility="hidden"},o.Bloques=function(){var e=document.getElementById("bloques"),t=document.getElementById("content_arduino");"hidden"===e.style.visibility?(e.style.visibility="visible",t.style.visibility="hidden"):t.style.visibility="hidden"},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{name:"app"},i.a.createElement("button",{type:"button",onClick:this.Bloques},"Bloques"),i.a.createElement("button",{type:"button",onClick:this.generateCode},"Arduino"),i.a.createElement("button",{type:"button",onClick:this.generateXml},"Xml"),i.a.createElement(Qe,null),i.a.createElement(ye,null),i.a.createElement("div",{id:"bloques",className:"blockly"},i.a.createElement("header",{className:"App-header"},i.a.createElement(Be,{ref:function(t){return e.simpleWorkspace=t},readOnly:!1,move:{scrollbars:!0,drag:!0,wheel:!0}},i.a.createElement(_t,null),i.a.createElement(lt,null),i.a.createElement(St,null),i.a.createElement(Rt,null),i.a.createElement(It,null)))))}}]),t}(i.a.Component),Nt=(o(161),o(39)),Mt=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).socket=D()(o.props.socketUrl,{query:{pin:o.props.id_access}}),o.handleChange=function(e){var t=e.target.value;o.setState({textMessage:t})},o.handleSubmit=function(){var e={message:o.state.textMessage,name:o.state.name_teacher,lastName:o.state.lastName_teacher,sendByTeacher:!0};o.socket.emit("teacherSendMessage",e),o.state.message.push(e),o.refs.input.clear()},o.state={socket:null,message:[],respuestaRecibida:!1,textMessage:"",messageList:[],name_teacher:"",lastName_teacher:""},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({name_teacher:localStorage.getItem("name_teacher"),lastName_teacher:localStorage.getItem("lastName_teacher")}),this.socket.on("studWriting",(function(t){t.pin,e.props.id_access.toUpperCase()})),this.socket.on("studSendMessage",(function(t){t.pin===e.props.id_access.toUpperCase()&&(e.state.message.push(t),e.setState({respuestaRecibida:!0}))}))}},{key:"render",value:function(){return i.a.createElement("div",null,this.state.message.map((function(e){return 1==e.sendByTeacher?i.a.createElement(Nt.ChatItem,{avatar:"https://image.flaticon.com/icons/svg/1089/1089129.svg",alt:"Reactjs",title:e.name+" "+e.lastName,subtitle:e.message,date:new Date,statusColor:"green"}):i.a.createElement(Nt.ChatItem,{avatar:"https://image.flaticon.com/icons/svg/1651/1651639.svg",alt:"Reactjs",title:e.name+" "+e.lastName,subtitle:e.message,date:new Date})})),i.a.createElement(Nt.Input,{placeholder:"Type here...",multiline:!0,onChange:this.handleChange,autofocus:!0,ref:"input",rightButtons:i.a.createElement(Nt.Button,{color:"white",backgroundColor:"black",text:"Send",onClick:this.handleSubmit})}))}}]),t}(n.Component),Lt=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).getRecord=Object(m.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,T()({url:"https://academy-api-v3.herokuapp.com/api/events/"+o.state.id_class,method:"GET",headers:{"x-access-token":"".concat(t)}});case 3:return n=e.sent,e.t0=o,e.next=7,n.data;case 7:e.t1=e.sent,e.t2={grabacion:e.t1},e.t0.setState.call(e.t0,e.t2),console.log(o.state.grabacion);case 11:case"end":return e.stop()}}),e)}))),o.botonClick=function(){var e=Object(m.a)(g.a.mark((function e(t){var n,i,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==o.state.grabar){e.next=10;break}return n=Date.now(),i=n-o.state.tiempoinicio,o.setState({tiempo1:i}),console.log("{id:"+t+",funcion:click ,tiempo:"+i+"},"),s={name:t,time:i,Function:"click",valor:"",class:o.state.id_class},e.next=8,T.a.post("https://academy-api-v3.herokuapp.com/api/events",s);case 8:e.next=10;break;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.changeOn=function(){var e=Object(m.a)(g.a.mark((function e(t,n){var i,s,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==o.state.grabar){e.next=10;break}return i=Date.now(),s=i-o.state.tiempoinicio,o.setState({tiempo1:s}),console.log("{id:"+t+",funcion:onChange ,url:"+n+",tiempo:"+s+"}"),a={name:t,time:s,Function:"onChange",valor:n,class:o.state.id_class},e.next=8,T.a.post("https://academy-api-v3.herokuapp.com/api/events",a);case 8:e.next=10;break;case 10:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}(),o.grabar=function(){var e=Date.now();o.setState({grabar:!0,tiempoinicio:e})},o.repro=function(e,t,n,i){"onChange"===t?o.statetxt(n,i):"click"===t&&setTimeout((function(){document.getElementById(e).click()}),i)},o.statetxt=function(e,t){setTimeout((function(){o.setState({txt:e}),console.log(o.state.txt+t)}),t)},o.reproclick=function(){o.state.grabacion.map((function(e){return o.repro(e.name,e.Function,e.valor,e.time)}))},o.state={socket:null,class:"clase3",socketUrl:"https://socket.playtecedu.com/teacher",user:null,id:"",grabar:!1,tiempoinicio:"0",tiempo1:"0",txt:"",grabacion:[],id_class:"",id_access:"",school:"",todo:[]},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");T()({url:"".concat(this.props.apiUrl,"/v1/api/teacher/detail_class/").concat(this.state.id_class),method:"GET",headers:{"x-access-token":"".concat(t)}}).then((function(t){e.setState({school:t.data.school}),console.log("se esta pasando para el contenedor",e.state.school)})).catch((function(e){console.log(e)}))}},{key:"componentWillMount",value:function(){this.getRecord();var e=this.props.match.params;this.setState({id_class:e.id_class,id_access:e.id_access,todo:this.props.location.state})}},{key:"render",value:function(){var e=this;return i.a.createElement(p.a,null,i.a.createElement(d.d,null,i.a.createElement(d.b,{exact:!0,path:"/",component:function(){return i.a.createElement(qo,null)}}),i.a.createElement(d.b,{exact:!0,path:"/CoursesTeacher/:id",component:function(t){return i.a.createElement(qo,Object.assign({},t,{apiUrl:e.props.apiUrl}))}}),i.a.createElement(d.b,{exact:!0,path:"/notfound",component:Ce}),i.a.createElement(W,{id_access:this.state.id_access,socket:this.state.socket,id_class:this.state.id_class,socketUrl:this.state.socketUrl,botonClick:this.botonClick,grabar:this.grabar,reproclick:this.reproclick,changeOn:this.changeOn,apiUrl:this.props.apiUrl,txt:this.state.txt},i.a.createElement(d.b,{exact:!0,path:"/teacher/:id_class/:id_access/test",component:function(){return i.a.createElement(Mt,{id_access:e.state.id_access,socketUrl:e.state.socketUrl})}}),i.a.createElement(d.b,{exact:!0,path:"/teacher/:id_class/:id_access",component:function(){return i.a.createElement(se,{id_access:e.state.id_access,todo:e.state.todo,school:e.state.school,socketUrl:e.state.socketUrl,apiUrl:e.props.apiUrl,id_class:e.state.id_class})}}),i.a.createElement(d.b,{exact:!0,path:"/teacher/:id_class/:id_access/azar",component:function(){return i.a.createElement(he,{todo:e.state.todo,school:e.state.school,id_access:e.state.id_access,apiUrl:e.props.apiUrl,socketUrl:e.state.socketUrl})}}),i.a.createElement(d.b,{exact:!0,path:"/teacher/:id_class/:id_access/grupos",component:function(){return i.a.createElement(_e,{todo:e.state.todo,school:e.state.school,id_access:e.state.id_access,apiUrl:e.props.apiUrl,socketUrl:e.state.socketUrl})}}),i.a.createElement(d.b,{exact:!0,path:"/teacher/:id_class/:id_access/temporizador",component:function(){return i.a.createElement(Te,{id_access:e.state.id_access,socketUrl:e.state.socketUrl})}}),i.a.createElement(d.b,{exact:!0,path:"/teacher/:id_class/:id_access/pizarra",component:function(){return i.a.createElement(Ie,{id_access:e.state.id_access,socketUrl:e.state.socketUrl})}}),i.a.createElement(d.b,{exact:!0,path:"/teacher/:id_class/:id_access/trivia",component:function(){return i.a.createElement(fe,{school:e.state.school,id_access:e.state.id_access,apiUrl:e.props.apiUrl,socketUrl:e.state.socketUrl})}}),i.a.createElement(d.b,{exact:!0,path:"/teacher/:id_class/:id_access/bloque",component:function(){return i.a.createElement(kt,{id_access:e.state.id_access,socketUrl:e.state.socketUrl})}}))))}}]),t}(n.Component),Dt=(o(447),o(448),o(449).AudioStreamer),wt={borderRadius:"10px",display:"table-cell",verticalAlign:"middle"},Bt=function(e){function t(){var e,o;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(o=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).pin="",o.state={show:0,showGrupo:!1,iframeon:!1,Slides:[],src:"",positionPpt:1,id_class:""},o.closePopup=function(e,t){var o=document.getElementById(e),n=document.getElementById(t);o.classList.remove("active"),n.classList.remove("active")},o.getUrl=function(){var e=o.state.src.replace("pub","embed").replace("delayms=3000","delayms=3000&rm=minimal&slide=id.p"+o.state.positionPpt);console.log("get URL: "+e),document.getElementById("diapo-frame").src=e},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"enviarvideo",value:function(e){var t=e;console.log(t),document.getElementById("overlay2").classList.add("active"),document.getElementById("popupvideo").classList.add("active");var o=t.split("https://www.youtube.com/watch?v=");document.getElementById("video-frameStu").src="https://www.youtube.com/embed/"+o[1]+"?autoplay=1&controls=0"}},{key:"DisablePopup",value:function(){var e=document.getElementById("overlay2"),t=document.getElementById("popupvideo");e.className="overlay",t.className="popup ",document.getElementById("video-frameStu").src=""}},{key:"DisablePopup2",value:function(){var e=document.getElementById("overlayinframe"),t=document.getElementById("popupformulario");e.className="overlay",t.className="popup"}},{key:"openPopup",value:function(e,t){var o=document.getElementById(e),n=document.getElementById(t);o.classList.add("active"),n.classList.add("active")}},{key:"componentDidMount",value:function(){var e=this,t=this.props,o=t.id_access,n=t.socketUrl;this.pin=o,console.log("valor de pin cuando inicia componente: "+this.pin);var i=D()(n,{query:{pin:this.pin}}),s=localStorage.getItem("token");T()({url:"".concat(this.props.apiUrl,"/v1/api/student/get_class/").concat(this.props.id_access),method:"GET",headers:{"x-access-token":"".concat(s)}}).then((function(t){e.setState({id_class:t.data.id_class.id_class}),console.log(t.data.id_class.id_class),T()({url:"".concat(e.props.apiUrl,"/v1/api/teacher/presentations/").concat(t.data.id_class.id_class),method:"GET",headers:{"x-access-token":"".concat(s)}}).then((function(t){console.log(t.data),t.data.presentationIframe?(e.setState({iframeon:!0,src:t.data.presentationIframe}),e.getUrl()):(console.log(t.data),e.setState({Slides:t.data}))})).catch((function(e){console.log(e)}))})),i.on("sendSlidesS",(function(t){var o=e.pin.toUpperCase();if(t.pin===o.toUpperCase()){var n=document.getElementById("overlay"),i=document.getElementById("popup");e.openPopup(n.id,i.id)}})),i.on("closeSlidesS",(function(t){var o=e.pin.toUpperCase();if(t.pin===o.toUpperCase()){var n=document.getElementById("overlay"),i=document.getElementById("popup");e.closePopup(n.id,i.id)}})),i.on("PositionPpt",(function(t){var o=e.pin.toUpperCase();t.pin===o.toUpperCase()&&(e.setState({positionPpt:t.position}),e.state.iframeon&&e.getUrl())})),i.on("Video",(function(t){var o=e.pin.toUpperCase();t.pin===o.toUpperCase()&&e.enviarvideo(t.url)})),i.on("closeVideo",(function(t){var o=e.pin.toUpperCase();t.pin===o.toUpperCase()&&e.DisablePopup()}));var a=!1,r=document.getElementById("btn_play");r.style.visibility="hidden",r.addEventListener("click",(function(){r.disabled=!0,!1===a&&((a=new Dt(500)).playStream(),i.on("bufferHeader",(function(t){var o=e.pin.toUpperCase();t.pin===o.toUpperCase()&&(console.log("ejecutando buffer"),a.setBufferHeader(t.audio))})),i.on("stream",(function(t){var o=e.pin.toUpperCase();t.pin===o.toUpperCase()&&(a.receiveBuffer(t.audio),console.log("recibiendo stream..."))}))),i.emit("requestBufferHeader")})),i.on("onPlay",(function(t){var o=e.pin.toUpperCase();t.pin===o.toUpperCase()&&r.click()})),i.on("rouletteWinnerS",(function(t){var o=e.pin.toUpperCase();t.pin===o.toUpperCase()&&(console.log("escucha el alum"),e.setState({show:1}),document.getElementById("modal_luckyStudent").innerHTML=t.data)})),i.on("enviando grupos",(function(t){var o=e.pin.toUpperCase();t.pin===o.toUpperCase()&&(console.log(t.data.data),document.getElementById("imprimir").innerHTML=t.data.data,e.setState({showGrupo:1}))})),i.on("closeModalGrupo",(function(t){var o=e.pin.toUpperCase();t.pin===o.toUpperCase()&&(console.log(t.data.data),document.getElementById("imprimir").innerHTML=t.data.data,e.setState({showGrupo:1}))})),i.on("SendFormS",(function(t){var o=e.pin.toUpperCase();if(t.pin===o.toUpperCase()){var n=document.getElementById("overlayinframe"),i=document.getElementById("popupformulario");n.className="overlay active",i.className="popup active "}})),i.on("closeForm",(function(t){var o=e.pin.toUpperCase();t.pin===o.toUpperCase()&&e.DisablePopup2()}))}},{key:"componentWillUnmount",value:function(){this.pin="",console.log("componente desmontado")}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{id:"btn_play"}),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.showGrupo?"":1===this.state.showGrupo?"six":2===this.state.showGrupo?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:function(){return e.setState({showGrupo:0})}},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("h4",{className:"title"},i.a.createElement("strong",null,"GRUPOS ELEGIDOS SON"))),i.a.createElement("div",{id:"modal_GrupoStudent",style:{maxHeight:"350px",height:"350px",overflow:"auto"}},i.a.createElement("ul",{className:"grupos-cards",id:"imprimir"}))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.show?"":1===this.state.show?"six":2===this.state.show?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:function(){return e.setState({show:0})}},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("h4",{className:"title"},i.a.createElement("strong",null,"El estudiante afortunado(a) es:"))),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement("div",{id:"modal_luckyStudent",className:"modal-body texto",style:{fontSize:"45px"}}))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))),i.a.createElement("div",{className:"overlay",id:"overlay2"},i.a.createElement("div",{className:"popup",id:"popupvideo"},i.a.createElement("iframe",{title:"iframevideo",id:"video-frameStu",src:"",frameborder:"0",style:{width:"100% !important",height:"100%"},allowfullscreen:"true",mozallowfullscreen:"true",webkitallowfullscreen:"true",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"}))),i.a.createElement("div",{className:"overlay",id:"overlayinframe"},i.a.createElement("button",{className:"modal-general_close",onClick:function(){return e.setState({show:0})}},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"popup",id:"popupformulario"},i.a.createElement("div",{className:"punto-posi"},i.a.createElement("h1",{className:"t"},"Formulario")),i.a.createElement("br",null),i.a.createElement("iframe",{title:"diapo-iframe",id:"diapo-formulario",frameBorder:"0",style:{width:"100% !important",height:"450px"},allowFullScreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",src:""}))),i.a.createElement("div",{className:"overlay",id:"overlay"},i.a.createElement("div",{className:"popup",id:"popup",style:{display:"table",background:"black"}},this.state.iframeon?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:wt},i.a.createElement("iframe",{title:"diapo-iframe",id:"diapo-frame",frameBorder:"0",width:"100%",height:"100%",style:{width:"100% !important",height:"100%",pointerEvents:"none"},allowFullScreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true",src:""}))):i.a.createElement("div",{style:wt},i.a.createElement(x.Carousel,{selectedItem:this.state.positionPpt-1,showArrows:!1,useKeyboardArrows:!1,swipeable:!1,emulateTouch:!1,showIndicators:!1,showThumbs:!1},this.state.Slides.map((function(e){return i.a.createElement("div",{className:"imagenes",key:e.index},i.a.createElement("div",{style:{width:"5%",float:"left"}}),i.a.createElement("img",{className:"imagenes-indiviuales",style:{width:"90%",float:"left",marginLeft:"calc(50% - 45%)"},src:e.url,alt:"Hong Kong"}),i.a.createElement("div",{style:{width:"5%",float:"left"}}))})))))))}}]),t}(n.Component),Pt=function(e){var t=function(){console.log("Tab is in focus")},o=function(){var t=e.id_access;D()(e.socketUrl,{query:{pin:t}}).emit("tabBlurred",{fullname:e.fullname})};return Object(n.useEffect)((function(){return window.addEventListener("focus",t),window.addEventListener("blur",o),function(){window.removeEventListener("focus",t),window.removeEventListener("blur",o)}})),i.a.createElement(i.a.Fragment,null)};function xt(e){var t=Object(n.useState)(!1),o=Object(O.a)(t,2),s=o[0],a=o[1],r=Object(n.useState)(!1),l=Object(O.a)(r,2),c=(l[0],l[1],Object(n.useState)(!1)),u=Object(O.a)(c,2),h=u[0],_=u[1],E=Object(n.useState)(!1),v=Object(O.a)(E,2),f=v[0],b=v[1],S=Object(n.useState)(!1),A=Object(O.a)(S,2),I=A[0],C=A[1],y=Object(n.useState)(!1),R=Object(O.a)(y,2),k=R[0],N=R[1],M=function(){var t=Object(m.a)(g.a.mark((function t(){var o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={state:"inactive",id_stud:e.id_student},t.next=3,T()({url:"".concat(e.apiUrl,"/v1/api/student/change_state"),data:o,method:"post"}).then(function(){var t=Object(m.a)(g.a.mark((function t(o){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.clear();case 2:return console.log(o),n=D()(e.socketUrl,{query:{pin:e.id_access}}),t.next=6,n.emit("newAlum");case 6:return t.next=8,N(!0);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){var t=D()(e.socketUrl,{query:{pin:e.id_access}});localStorage.getItem("token")||N(!0),t.on("redirectAlum",(function(t){t.pin===e.id_access.toUpperCase()&&("trivia"===t.page?(_(!0),b(!1),C(!1)):"temporizador"===t.page?(b(!0),_(!1),C(!1)):"board"===t.page&&(C(!0),b(!1),_(!1)))})),t.on("ExitSocket",(function(t){t.pin===e.id_access.toUpperCase()&&(localStorage.clear(),N(!0))})),t.on("RemoveStudS",(function(t){t.pin===e.id_access.toUpperCase()&&t.id===e.id_student&&(localStorage.clear(),N(!0))}))}));var L=function(){a(!s)};return i.a.createElement("div",null,i.a.createElement(Pt,{id_access:e.id_access,fullname:e.name+" "+e.lastName,id_student:e.id_student,socketUrl:e.socketUrl}),h?i.a.createElement(d.a,{to:"/student/".concat(e.id_student,"/").concat(e.id_access,"/trivia")}):null,f?i.a.createElement(d.a,{to:"/student/".concat(e.id_student,"/").concat(e.id_access,"/temporizador")}):null,I?i.a.createElement(d.a,{to:"/student/".concat(e.id_student,"/").concat(e.id_access,"/pizarra")}):null,k?i.a.createElement(d.a,{to:"/"}):null,i.a.createElement("header",{className:"alumnoH-header "},i.a.createElement("div",{className:"alumnoHeader-logo"},i.a.createElement(p.b,{onClick:L,to:"/student/".concat(e.id_student,"/").concat(e.id_access),style:{textDecoration:"none"}},i.a.createElement("h1",{className:"alumnoHeader-image"},"PlayTec Academy"))),i.a.createElement("i",{className:"fas fa-bars alumnoHeader-menu-toggle",onClick:L}),i.a.createElement("ul",{className:s?"alumnoHeader-nav showResponsive":"alumnoHeader-nav"},i.a.createElement("li",{className:"alumnoHeader-li"},i.a.createElement(p.b,{onClick:L,className:"alumnoHeader-a",to:"/student/".concat(e.id_student,"/").concat(e.id_access,"/trivia")},i.a.createElement("i",{className:"fa fa-list-ol"}),"Trivia")),i.a.createElement("li",{className:"alumnoHeader-li"},i.a.createElement(p.b,{onClick:L,className:"alumnoHeader-a",to:"/student/".concat(e.id_student,"/").concat(e.id_access,"/temporizador")},i.a.createElement("i",{className:"fas fa-hourglass",style:{fontSize:"22px",padding:"0 10px"}}),"Temporizador")),i.a.createElement("li",{className:"alumnoHeader-li"},i.a.createElement("a",{href:!0,className:"alumnoHeader-a"},i.a.createElement("i",{className:"fa fa-user"}),e.name," ",e.lastName,i.a.createElement("i",{className:"fa fa-chevron-down"})),i.a.createElement("ul",{className:s?"alumnoHeader-nav showResponsive":"alumnoHeader-nav",style:{zIndex:"5000"}},i.a.createElement("li",{className:"alumnoHeader-li",onClick:function(){return M()}},i.a.createElement("a",{href:!0,className:"alumnoHeader-a alumnoHeader-salir"},i.a.createElement("i",{className:"fas fa-sign-out-alt",style:{fontSize:"22px",padding:"0 10px"}}),"Salir")))))),i.a.createElement("div",{className:"alumnoH-header-base"}),i.a.createElement(Bt,{apiUrl:e.apiUrl,id_access:e.id_access,id_student:e.id_student,socketUrl:e.socketUrl}))}var Ut=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(xt,{socketUrl:this.props.socketUrl,id_access:this.props.id_access,id_student:this.props.id_student,name:this.props.name,lastName:this.props.lastName,apiUrl:this.props.apiUrl}))}}]),t}(i.a.Component);o(450);function Ft(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("footer",{id:"footer",className:"fixed-footer"},i.a.createElement("div",{className:"slide-container"},i.a.createElement("a",{id:"btn-abrir-popup",href:!0,style:{right:"auto",left:"10px",position:"absolute"},className:"btn-abrir-popup"},i.a.createElement("div",{className:"envoltura",onClick:function(){return e.openPopup("overlay","popup")},style:{width:"100%",height:"100%",position:"absolute",pointerEvents:"none"}}),i.a.createElement("iframe",{title:"iframe",id:"diminute",className:"miniatura",src:"",style:{background:"url(https://s3-us-west-2.amazonaws.com/joinnus.com/user/308917/avatar.jpg) no-repeat",backgroundsize:"cover",pointerEvents:"none"}})))))}var Ht=function(e){function t(){var e,o;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(o=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={diapositivaHover:!1,src:"https://docs.google.com/presentation/d/e/2PACX-1vQNDqsVLggLYCO546Knez7Ecbs0SCErBbtTfAOn74iEHVtHoUKKECnzcsD6btExAMfn9VnHjsrf867m/pub?start=false&loop=false&delayms=3000",srcForm:"https://docs.google.com/forms/d/e/1FAIpQLSftlA2JivBhsQ0mhdyJ4LQczijxvyjN-SClloK6-9gNIyK2Eg/viewform?usp=sf_link"},o.getUrlForm=function(){document.getElementById("diapo-formulario").src=o.state.srcForm},o.toggleHoverSlide=function(){o.setState({diapositivaHover:!o.state.diapositivaHover})},o.openPopup=function(e,t){var o=document.getElementById(e),n=document.getElementById(t);o.classList.add("active"),n.classList.add("active")},o.closePopup=function(e,t){var o=document.getElementById(e),n=document.getElementById(t);o.classList.remove("active"),n.classList.remove("active"),document.getElementById("video-frame").src=""},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getUrlForm();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ft,{socketUrl:this.props.socketUrl,id_access:this.props.id_access,diapositivaHover:this.state.diapositivaHover,toggleHoverSlide:this.toggleHoverSlide,closePopup:this.closePopup,openPopup:this.openPopup,nextPpt:this.nextPpt,backtPpt:this.backtPpt}))}}]),t}(n.Component),Gt=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){localStorage.clear()}},{key:"render",value:function(){var e=this.props.children;return i.a.createElement("div",{className:"main-student-container"},i.a.createElement(Ut,{apiUrl:this.props.apiUrl,socketUrl:this.props.socketUrl,id_access:this.props.id_access,id_student:this.props.id_student,name:this.props.name,lastName:this.props.lastName}),i.a.createElement(I,{view:"/student/".concat(this.props.id_student,"/").concat(this.props.id_access,"/pizarra"),socketUrl:this.props.socketUrl,id_access:this.props.id_access}),e,i.a.createElement(Ht,{socketUrl:this.props.socketUrl,id_access:this.props.id_access}))}}]),t}(n.Component);o(451);function Vt(e){return Object(n.useEffect)((function(){D()(e.socketUrl,{query:{pin:e.id_access}}).emit("newAlum")})),i.a.createElement("div",{className:"fondoAlumno"})}o(452);var Wt=o(119),Xt=o.n(Wt),jt={botonInactivo:{background:"#7f8c8d"},warning:{background:"yellow"}},Yt=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e)))._isMounted=!1,o.componentWillUnmount=function(){o._isMounted=!1,clearTimeout(o.timeOut),clearInterval(o.interval),clearInterval(o.interval2)},o.handleSelectAnswer=Object(m.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=D()(o.props.socketUrl,{query:{pin:o.props.id_access}}),clearInterval(o.interval2),e.next=4,o.setState({preguntaElegida:"rojo",eligio:!0});case 4:o.state.preguntaElegida===o.state.preguntaCorrecta&&(console.log("pregunta elegida por alumno"),t.emit("enviando elegida",{alumno:o.props.fullname,puntaje:o.state.puntaje})),console.log(o.state.puntaje);case 6:case"end":return e.stop()}}),e)}))),o.state={preguntaElegida:"",eligio:!1,puntaje:1e3,preguntaCorrecta:"",respuestaRecibida:!1,pregunta:"",time:0,imagen:"",respuesta1:"",respuesta2:"",respuesta3:"",respuesta4:""},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=D()(this.props.socketUrl,{query:{pin:this.props.id_access}});t.on("pregunta recibida",(function(t){console.log(t.pin),e._isMounted&&t.pin===e.props.id_access.toUpperCase()&&(e.setState({pregunta:t.data.pregunta,time:t.data.tiempo,imagen:t.data.imagen,preguntaCorrecta:t.data.respuestaCorrecta,respuesta1:t.data.respuestaOne,respuesta2:t.data.respuestaTwo,respuesta3:t.data.respuestaTree,respuesta4:t.data.respuestaFour}),t.data.imagen&&document.getElementById("pre-imagen").setAttribute("src",t.data.imagen),e.timeout=setTimeout((function(){e.interval=setInterval((function(){return e.cuentaRegresiva()}),1e3),e.interval2=setInterval((function(){return e.puntaje()}),50),e.setState({respuestaRecibida:!0})}),5e3))})),t.on("datos restaurados",(function(t){t.pin===e.props.id_access.toUpperCase()&&(e.setState({preguntaElegida:"",puntaje:1e3,eligio:!1,preguntaCorrecta:"",respuestaRecibida:!1,pregunta:"",time:0,respuesta1:"",respuesta2:"",respuesta3:"",respuesta4:""}),document.getElementById("pre-imagen").setAttribute("src",Xt.a))}))}},{key:"cuentaRegresiva",value:function(){if(this.state.time>0)this.setState({time:this.state.time-1});else if(this.setState({eligio:!0}),clearInterval(this.interval),this.state.preguntaElegida===this.state.preguntaCorrecta)console.log("elegiste la respuesta correcta!!");else{console.log("no es la respuesta correcta :c");var e=this.state.preguntaCorrecta;this.setState({preguntaElegida:e})}}},{key:"puntaje",value:function(){this.state.puntaje>0&&this.setState({puntaje:this.state.puntaje-1})}},{key:"render",value:function(){var e=this,t=this.state.preguntaElegida;return i.a.createElement(i.a.Fragment,null,this.state.respuestaRecibida?null:i.a.createElement("div",{id:"animatedModal",style:{zIndex:3,marginTop:"56px"}},i.a.createElement("div",{className:"close-animatedModal"}),i.a.createElement("div",null),i.a.createElement("div",{className:"modal-contenido"},i.a.createElement("div",{className:"container2"},i.a.createElement("div",{className:"loader",id:"loader"},"Cargando..."),i.a.createElement("h1",{id:"previo",style:{color:"white",fontSize:"40px"}},this.state.pregunta?this.state.pregunta:"Esperando pregunta...")))),i.a.createElement("div",{className:"contenedorPrincipal"},i.a.createElement("div",{className:"header2"},i.a.createElement("h1",{className:"triviaStudent-title",id:"question"},this.state.pregunta?this.state.pregunta:"\xbfEs esta una pregunta?")),i.a.createElement("div",{className:"contenedorsecundario"},i.a.createElement("div",{className:"contenedores",style:{textAlign:"center",width:"99.5%"}},i.a.createElement("div",{className:"primercontenedor"},i.a.createElement("div",{className:"left"},this.state.time>6?i.a.createElement("nav",{className:"contador"}," ",i.a.createElement("h1",null,this.state.time)," "):i.a.createElement("nav",{className:"contador"}," ",i.a.createElement("h1",null,"0",this.state.time)," ")),i.a.createElement("div",{className:"trivia-student-center",id:"center"},i.a.createElement("img",{id:"pre-imagen",src:Xt.a,alt:""}))),i.a.createElement("div",{className:"triviaT-row"},i.a.createElement("div",{className:" triviaT-col-6 contendorDeBotonesRespuesta"},i.a.createElement("div",null,i.a.createElement("div",{style:"azul"===t||"naranja"===t||"verde"===t?jt.botonInactivo:{},id:"triangulo",className:"trivia-student-button rojo",onClick:this.state.eligio?function(){}:this.handleSelectAnswer},i.a.createElement("div",{className:"triviaStudentSimbol"},i.a.createElement("img",{src:o(453),alt:""})),i.a.createElement("div",{className:"triviaStudentText"},i.a.createElement("p",{id:"answerTriangulo"},this.state.respuesta1?this.state.respuesta1:"Respuesta 1")))),i.a.createElement("div",null,i.a.createElement("div",{style:"rojo"===t||"naranja"===t||"verde"===t?jt.botonInactivo:{},id:"equis",className:"trivia-student-button azul",onClick:this.state.eligio?function(){}:Object(m.a)(g.a.mark((function t(){var o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=D()(e.props.socketUrl,{query:{pin:e.props.id_access}}),clearInterval(e.interval2),t.next=4,e.setState({preguntaElegida:"azul",eligio:!0});case 4:e.state.preguntaElegida===e.state.preguntaCorrecta&&o.emit("enviando elegida",{alumno:e.props.fullname,puntaje:e.state.puntaje});case 5:case"end":return t.stop()}}),t)})))},i.a.createElement("div",{className:"triviaStudentSimbol"},i.a.createElement("img",{src:o(454),alt:""})),i.a.createElement("div",{className:"triviaStudentText"},i.a.createElement("p",{id:"answerEquis"},this.state.respuesta2?this.state.respuesta2:"Respuesta 2"))))),i.a.createElement("div",{className:"triviaT-col-6 contendorDeBotonesRespuesta"},i.a.createElement("div",null,i.a.createElement("div",{style:"rojo"===t||"azul"===t||"verde"===t?jt.botonInactivo:{},id:"circulo",className:"trivia-student-button naranja",onClick:this.state.eligio?function(){}:Object(m.a)(g.a.mark((function t(){var o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=D()(e.props.socketUrl,{query:{pin:e.props.id_access}}),clearInterval(e.interval2),t.next=4,e.setState({preguntaElegida:"naranja",eligio:!0});case 4:e.state.preguntaElegida===e.state.preguntaCorrecta&&o.emit("enviando elegida",{alumno:e.props.fullname,puntaje:e.state.puntaje});case 5:case"end":return t.stop()}}),t)})))},i.a.createElement("div",{className:"triviaStudentSimbol"},i.a.createElement("img",{src:o(455),alt:""})),i.a.createElement("div",{className:"triviaStudentText"},i.a.createElement("p",{id:"answerCirculo"},this.state.respuesta3?this.state.respuesta3:"Respuesta 3")))),i.a.createElement("div",null,i.a.createElement("div",{style:"rojo"===t||"azul"===t||"naranja"===t?jt.botonInactivo:{},id:"cuadrado",className:"trivia-student-button verde",onClick:this.state.eligio?function(){}:Object(m.a)(g.a.mark((function t(){var o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=D()(e.props.socketUrl,{query:{pin:e.props.id_access}}),clearInterval(e.interval2),t.next=4,e.setState({preguntaElegida:"verde",eligio:!0});case 4:e.state.preguntaElegida===e.state.preguntaCorrecta&&o.emit("enviando elegida",{alumno:e.props.fullname,puntaje:e.state.puntaje});case 5:case"end":return t.stop()}}),t)})))},i.a.createElement("div",{className:"triviaStudentSimbol"},i.a.createElement("img",{src:o(456),alt:""})),i.a.createElement("div",{className:"triviaStudentText"},i.a.createElement("p",{id:"answerCuadrado"},this.state.respuesta4?this.state.respuesta4:"Respuesta 4"))))))))))}}]),t}(i.a.Component);function zt(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Yt,{socketUrl:e.socketUrl,id_access:e.id_access,fullname:e.fullname}))}o(457);var Kt=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e,t,n,i="",s=[{element:me()("#hour"),input_element:me()("#id_dt_1"),value:36e5},{element:me()("#minute"),input_element:me()("#id_dt_2"),value:6e4},{element:me()("#second"),input_element:me()("#id_dt_3"),value:1e3}],a=me()("#alarm"),r=me()("#button-start-stop"),l=me()("#button-reset"),c=me()("#button-set"),u=me()("#button-establecer"),h=me()(".unit_value:visible"),p=function(){for(var t=e,o=0;o<s.length;++o){var n=s[o],i=Math.abs(Math.floor(t/n.value));t%=n.value,i=10>i?"0"+i:i,n.element.html("&#8201;"+i+"&#8201;")}},d=function(){if(0<=(e=n-Date.now()))p();else{clearInterval(i);try{a.get(0).play()}catch(t){}e=0,p(),h.css("color","red"),_(!0)}},_=function(e){e?r.text("INICIAR"):r.text("PAUSAR"),l.prop("disabled",!e),c.prop("disabled",!e),u.prop("disabled",!e);for(var t=0;t<s.length;++t)s[t].input_element.prop("disabled",!e)},g=function(){for(var o=t=0;o<s.length;++o){var n=s[o];t+=n.value*parseInt(n.input_element.val())}e=t,p(),h.css("color","#1a73e8")},m=function(){clearInterval(i),g(),_(!0)},E=function(){"INICIAR"===r.text()?T():(console.log("Pausa"),clearInterval(i),t=n-Date.now(),_(!0))},T=function(){console.log("Empieza"),clearInterval(i),n=Date.now()+t,h.css("color","#1a73e8"),_(!1),d(),i=window.setInterval(d,50)};window.timer=function(e){g(),c.click(g),l.click(m),r.click(E),e&&T()},window.timer(!1);var v=D()(o.props.socketUrl,{query:{pin:o.props.id_access}});console.log(o.props.id_access),v.on("set",(function(e){if(console.log("Se asigna"),e.pin===o.props.id_access.toUpperCase()){var t=e.data.time;me()("#id_dt_1").val(t[0]),me()("#id_dt_2").val(t[1]),me()("#id_dt_3").val(t[2]),c.click()}})),v.on("temp",(function(e){e.pin===o.props.id_access.toUpperCase()&&r.click()})),v.on("stop",(function(e){e.pin===o.props.id_access.toUpperCase()&&r.click()}))},o.state={store:"",valH:"0",valM:"0",valS:"0"},o.onChangeInputH=o.onChangeInputH.bind(Object(j.a)(o)),o.onChangeInputM=o.onChangeInputM.bind(Object(j.a)(o)),o.onChangeInputS=o.onChangeInputS.bind(Object(j.a)(o)),o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onChangeInputH",value:function(e){this.setState({valH:e.target.value})}},{key:"onChangeInputM",value:function(e){this.setState({valM:e.target.value})}},{key:"onChangeInputS",value:function(e){this.setState({valS:e.target.value})}},{key:"render",value:function(){return i.a.createElement("div",{className:"temporizador"},i.a.createElement("div",{className:"tamano"},i.a.createElement("div",{className:"counter_part",id:"hour_wrapper"},i.a.createElement("div",{className:"unit_value",id:"hour"},"."),i.a.createElement("div",{className:"unit_name"},"HORAS")),i.a.createElement("div",{className:"counter_part colon",id:"colon_hour"},i.a.createElement("div",{className:"unit_value"},":"),i.a.createElement("div",{className:"unit_name"},"\xa0")),i.a.createElement("div",{className:"counter_part",id:"minute_wrapper"},i.a.createElement("div",{className:"unit_value",id:"minute"},"."),i.a.createElement("div",{className:"unit_name"},"MINUTOS")),i.a.createElement("div",{className:"counter_part colon",id:"colon_minute"},i.a.createElement("div",{className:"unit_value"},":"),i.a.createElement("div",{className:"unit_name"},"\xa0")),i.a.createElement("div",{className:"counter_part",id:"second_wrapper"},i.a.createElement("div",{className:"unit_value",id:"second"},"."),i.a.createElement("div",{className:"unit_name"},"SEGUNDOS")),i.a.createElement("audio",{id:"alarm",hidden:!0,controls:!0},i.a.createElement("source",{src:"http://www.peter-weinberg.com/files/1014/8073/6015/BeepSound.wav",type:"audio/wav"}),i.a.createElement("source",{src:"/images/clock.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element.")),i.a.createElement("div",{hidden:!0},i.a.createElement("input",{className:"pure-input-1",type:"number",id:"id_dt_1",value:this.state.valH,min:"0",onChange:this.onChangeInputH}),i.a.createElement("input",{className:"pure-input-1",type:"number",id:"id_dt_2",value:this.state.valM,min:"0",onChange:this.onChangeInputM}),i.a.createElement("input",{className:"pure-input-1",type:"number",id:"id_dt_3",value:this.state.valS,min:"0",onChange:this.onChangeInputS}),i.a.createElement("button",{type:"button",id:"button-set"},"Establecer Tiempo"),i.a.createElement("button",{type:"button",id:"button-start-stop"},"INICIAR"),i.a.createElement("button",{type:"button",id:"button-reset"},"REINICIAR"),i.a.createElement("audio",{id:"alarm",hidden:!0,controls:!0},i.a.createElement("source",{src:"http://www.peter-weinberg.com/files/1014/8073/6015/BeepSound.wav",type:"audio/wav"}),i.a.createElement("source",{src:"/images/clock.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element.")))}}]),t}(i.a.Component);function qt(e){return i.a.createElement("div",{className:"fondoAlumno"},i.a.createElement(Kt,{socketUrl:e.socketUrl,id_access:e.id_access}))}var Qt=function(e){function t(){var e,o;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(o=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={x1:0,y1:0,x2:0,y2:0,x3:0,y3:0,d:0,color:"black",size:6,trazo:[],pageinit:!1,circle:!1,triangle:!1,rect:!1,line:!1},o.draw=function(e){o.state.clear&&(e.clear(),o.setState({clear:!1})),e.fill("#be525200"),e.stroke(o.state.color),e.strokeWeight(o.state.size),o.state.trazo.map((function(t){e.line(t.x,t.y,t.x1,t.y1)})),o.state.circle?(e.circle(o.state.x1,o.state.y1,o.state.d),o.setState({circle:!1})):o.state.rect?(e.rect(o.state.x1,o.state.y1,o.state.x2,o.state.y2),o.setState({rect:!1})):o.state.triangle?(e.triangle(o.state.x1,o.state.y1,o.state.x2,o.state.y2,o.state.x3,o.state.y3),o.setState({triangle:!1})):o.state.line&&(e.line(o.state.x1,o.state.y1,o.state.x2,o.state.y2),o.setState({line:!1}))},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({pageinit:!0})}),1e3);var t=D()(this.props.socketUrl,{query:{pin:this.props.id_access}});t.on("DrawPencil",(function(t){t.pin===e.props.id_access.toUpperCase()&&(console.log(t.data),console.log("------------------"),e.setState({trazo:t.data}))})),t.on("DrawCircle",(function(t){t.pin===e.props.id_access.toUpperCase()&&(console.log(t.data),console.log("------------------"),e.setState({x1:t.data.x1,y1:t.data.y1,d:t.data.d,circle:!0}))})),t.on("DrawRect",(function(t){t.pin===e.props.id_access.toUpperCase()&&(console.log(t.data),console.log("------------------"),e.setState({x1:t.data.x1,y1:t.data.y1,x2:t.data.x2,y2:t.data.y2,rect:!0}))})),t.on("DrawTriangle",(function(t){t.pin===e.props.id_access.toUpperCase()&&(console.log(t.data),console.log("------------------"),e.setState({x1:t.data.x1,y1:t.data.y1,x2:t.data.x2,y2:t.data.y2,x3:t.data.x3,y3:t.data.y3,triangle:!0}))})),t.on("DrawLine",(function(t){t.pin===e.props.id_access.toUpperCase()&&(console.log(t.data),console.log("------------------"),e.setState({x1:t.data.x1,y1:t.data.y1,x2:t.data.x2,y2:t.data.y2,line:!0}))})),t.on("startPencil",(function(t){t.pin===e.props.id_access.toUpperCase()&&e.setState({color:t.data.color,size:t.data.size})})),t.on("clearBoard",(function(t){t.pin===e.props.id_access.toUpperCase()&&e.setState({clear:!0})}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"divSketch"},this.state.pageinit?i.a.createElement(Se.a,{onclick:!0,className:"canvasBoard",setup:function(e,t){e.createCanvas(1e3,500).parent(t)},draw:function(t){return e.draw(t)}}):null)}}]),t}(i.a.Component);function Jt(e){return i.a.createElement("div",{className:"fondoAlumno"},i.a.createElement(Qt,{socketUrl:e.socketUrl,id_access:e.id_access}))}var Zt=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).socket=D()(o.props.socketUrl,{query:{pin:o.props.id_access}}),o.handleChange=function(e){var t=e.target.value;o.setState({textMessage:t})},o.handleSubmit=function(){var e={message:o.state.textMessage,name:o.props.name,lastName:o.props.lastName};o.socket.emit("studentSendMessage",e),o.state.message.push(e),o.refs.input.clear()},o.state={socket:null,message:[],respuestaRecibida:!1,textMessage:""},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.socket.on("TeachWriting",(function(t){t.pin,e.props.id_access.toUpperCase()})),this.socket.on("TeachSendMessage",(function(t){t.pin===e.props.id_access.toUpperCase()&&(e.state.message.push(t.data),e.setState({respuestaRecibida:!0}))})),this.socket.on("otherStudSendMessage",(function(t){t.pin===e.props.id_access.toUpperCase()&&(e.state.message.push(t.data),e.setState({respuestaRecibida:!0}))}))}},{key:"render",value:function(){return i.a.createElement("div",null,this.state.message.map((function(e){return 1==e.sendByTeacher?i.a.createElement(Nt.ChatItem,{avatar:"https://image.flaticon.com/icons/svg/1089/1089129.svg",alt:"Reactjs",title:e.name+" "+e.lastName,subtitle:e.message,date:new Date,statusColor:"green"}):i.a.createElement(Nt.ChatItem,{avatar:"https://image.flaticon.com/icons/svg/1651/1651639.svg",alt:"Reactjs",title:e.name+" "+e.lastName,subtitle:e.message,date:Date.now()})})),i.a.createElement(Nt.Input,{placeholder:"Type here...",multiline:!1,onChange:this.handleChange,autofocus:!0,ref:"input",rightButtons:i.a.createElement(Nt.Button,{color:"white",backgroundColor:"black",text:"Send",onClick:this.handleSubmit})}))}}]),t}(n.Component);function $t(e){return i.a.createElement("div",null,i.a.createElement(Zt,{socketUrl:e.socketUrl,id_access:e.id_access,name:e.name,lastName:e.lastName}))}var eo=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).initSocket=function(){D()(o.state.socketUrl).on("connect",(function(){console.log("Student Connected")}))},o.state={id_access:"",socketUrl:"https://socket.playtecedu.com/student",id_student:"",name:"",lastName:""},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=Object(m.a)(g.a.mark((function e(){var t,o,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),o=this.props.match.params,this.setState({id_student:o.id_student,id_access:o.id_access}),console.log("id estudent: "+o.id_student+" id Acceso: "+o.id_access),e.next=6,T()({url:"".concat(this.props.apiUrl,"/v1/api/admin/student/").concat(o.id_student),method:"GET",headers:{"x-access-token":"".concat(t)}});case 6:n=e.sent,this.setState({name:n.data.name_stu,lastName:n.data.lastName_stu});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement(p.a,null,i.a.createElement(d.d,null,i.a.createElement(d.b,{exact:!0,path:"/",component:function(){return i.a.createElement(qo,null)}}),i.a.createElement(Gt,{apiUrl:this.props.apiUrl,socketUrl:this.state.socketUrl,id_access:this.state.id_access,id_student:this.state.id_student,name:this.state.name,lastName:this.state.lastName},i.a.createElement(d.b,{exact:!0,path:"/student/:id/:cod/test",component:function(){return i.a.createElement($t,{socketUrl:e.state.socketUrl,id_access:e.state.id_access,id_student:e.state.id_student,name:e.state.name,lastName:e.state.lastName})}}),i.a.createElement(d.b,{exact:!0,path:"/student/:id/:cod",component:function(){return i.a.createElement(Vt,{socketUrl:e.state.socketUrl,id_access:e.state.id_access,id_student:e.state.id_student})}}),i.a.createElement(d.b,{exact:!0,path:"/student/:id/:cod/trivia",component:function(){return i.a.createElement(zt,{socketUrl:e.state.socketUrl,id_access:e.state.id_access,id_student:e.state.id_student,fullname:"".concat(e.state.name," ").concat(e.state.lastName)})}}),i.a.createElement(d.b,{exact:!0,path:"/student/:id/:cod/temporizador",component:function(){return i.a.createElement(qt,{socketUrl:e.state.socketUrl,id_access:e.state.id_access,id_student:e.state.id_student})}}),i.a.createElement(d.b,{exact:!0,path:"/student/:id/:cod/pizarra",component:function(){return i.a.createElement(Jt,{socketUrl:e.state.socketUrl,id_access:e.state.id_access,id_student:e.state.id_student})}}))))}}]),t}(n.Component),to=(o(175),o(483)),oo=o(484),no=(o(458),function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(){var e=Object(m.a)(g.a.mark((function e(t){var n,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.name,i=t.target.value,o.setState({message:""}),"primaria"===t.target.value&&o.setState({nivelPrimaria:!0,escogerNivelAcademico:1,level:"primaria"}),"secundaria"===t.target.value&&o.setState({nivelPrimaria:!1,escogerNivelAcademico:1,level:"secundaria"}),""===t.target.value&&o.setState({escogerNivelAcademico:2,level:"",grade:"",section:""}),e.next=8,o.setState(Object(X.a)({},n,i));case 8:console.log(o.state);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.handleChangeInputsText=function(){var e=Object(m.a)(g.a.mark((function e(t){var n,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.name,i=t.target.value,e.next=4,o.setState(Object(X.a)({},n,i));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.handleSubmit=function(e){o.setState({bloquearBoton:!0});var t=localStorage.getItem("token");e.preventDefault();var n=o.state,i={level:n.level,grade:n.grade,section:n.section,course_name:n.course_name,description:n.description};T()({url:"".concat(o.props.apiUrl,"/v1/api/siagie/").concat(o.props.idteacher,"/new-course"),data:i,method:"post",headers:{"x-access-token":"".concat(t)}}).then((function(e){console.log(e.data),o.setState({bloquearBoton:!1,message:"Elija una opci\xf3n",level:"primaria",grade:"primero",section:"A",course_name:"Arte y cultura",description:"",escogerNivelAcademico:0,nivelPrimaria:!0}),o.props.menuToggleNavbar(),o.props.handleClose()})).catch((function(e){"Request failed with status code 530"===e.message&&o.setState({message:"Has excedido el limite de cursos para tu cuenta"}),"Request failed with status code 500"===e.message&&o.setState({message:"Ha ocurrido un error, vuelva a intentarlo de nuevo o m\xe1s tarde."}),console.log(e.message),o.setState({bloquearBoton:!1})}))},o.state={bloquearBoton:!1,message:"Elija una opci\xf3n",level:" Primaria",grade:"1ro",section:"A",course_name:"Arte y cultura",description:"",escogerNivelAcademico:0,nivelPrimaria:!0,grados:[{name:"1er grado",value:"1ro"},{name:"2do grado",value:"2do"},{name:"3er grado",value:"3ro"},{name:"4to grado",value:"4to"},{name:"5to grado",value:"5to"},{name:"6to grado",value:"6to"}],secciones:["A","B","C","D","E","F","G","H","I","J","\xfanica"],nombresCursosPrimaria:["Arte y cultura","Castellano como segunda lengua","Ciencia y tecnolog\xeda","Comunicaci\xf3n","Educaci\xf3n f\xedsica","Educaci\xf3n religiosa","Ingl\xe9s","Matem\xe1tica","Personal social"],nombresCursosSecundaria:["Arte y cultura","Castellano como segunda lengua","Ciencia y tecnolog\xeda","Ciencias Sociales","Comunicaci\xf3n","Desarrollo personal, ciudadana y c\xedvica","Educaci\xf3n f\xedsica","Educaci\xf3n para el trabajo","Ingl\xe9s","Matem\xe1tica"]},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(to.a,{onSubmit:this.handleSubmit},i.a.createElement(to.a.Group,null,i.a.createElement(to.a.Label,{className:"modal-title__controlname"},"Detalles del curso"),i.a.createElement("div",{className:"CT-contenedorNivel"},i.a.createElement("input",{className:"CT-opcionNivel",type:"radio",name:"level",value:"primaria",id:"option-one",onChange:this.handleChange,required:!0}),i.a.createElement("label",{className:"CT-labelNivel",htmlFor:"option-one"},"Primaria"),i.a.createElement("input",{className:"CT-opcionNivel",type:"radio",name:"level",value:"secundaria",id:"option-two",onChange:this.handleChange}),i.a.createElement("label",{className:"CT-labelNivel",htmlFor:"option-two"},"Secundaria"),i.a.createElement("input",{className:"CT-opcionNivel",type:"radio",name:"level",value:"",id:"option-three",onChange:this.handleChange}),i.a.createElement("label",{className:"CT-labelNivel",htmlFor:"option-three"},"Ninguno")),0===this.state.escogerNivelAcademico?null:1===this.state.escogerNivelAcademico?i.a.createElement("div",{className:"CT-detallesCurso"},i.a.createElement("div",{className:"select002"},i.a.createElement("label",null,"Grado: "),i.a.createElement("select",{name:"grade",className:"list-grade",onChange:this.handleChange},this.state.nivelPrimaria?this.state.grados.map((function(e,t){return i.a.createElement("option",{key:t,value:e.value},e.name)})):this.state.grados.slice(0,5).map((function(e,t){return i.a.createElement("option",{key:t,value:e.value},e.name)})))),i.a.createElement("div",{className:"select002"},i.a.createElement("label",null,"Secci\xf3n: "),i.a.createElement("select",{name:"section",className:"list-seccion",onChange:this.handleChange},this.state.secciones.map((function(e,t){return i.a.createElement("option",{key:t,value:e},e)}))))):null),0===this.state.escogerNivelAcademico?null:i.a.createElement(i.a.Fragment,null,i.a.createElement(to.a.Group,null,i.a.createElement(to.a.Label,{className:"modal-title__controlname"},"Nombre del curso"),1===this.state.escogerNivelAcademico?i.a.createElement("div",null,i.a.createElement("select",{name:"course_name",className:"list-course",onChange:this.handleChange},this.state.nivelPrimaria?this.state.nombresCursosPrimaria.map((function(e,t){return i.a.createElement("option",{key:t,value:e},e)})):this.state.nombresCursosSecundaria.map((function(e,t){return i.a.createElement("option",{key:t,value:e},e)})))):2===this.state.escogerNivelAcademico?i.a.createElement(to.a.Control,{className:"modal-teacher__general-controlname",type:"text",name:"course_name",onChange:this.handleChangeInputsText,placeholder:"Ingrese el nombre del curso",required:!0}):null),i.a.createElement(to.a.Group,{controlId:"exampleForm.ControlTextarea1"},i.a.createElement(to.a.Label,{className:"modal-title__controlname"},"Descripci\xf3n del curso"),i.a.createElement(to.a.Control,{className:"modal-teacher__general-controldescription",name:"description",onChange:this.handleChangeInputsText,placeholder:"Ingrese la descripci\xf3n del curso",as:"textarea",rows:"2",required:!0,value:this.state.description})),this.state.bloquearBoton?i.a.createElement(oo.a,{className:"modal-body__button cursos",style:{background:"#515A5A"},type:"submit",disabled:!0},i.a.createElement("div",{className:"button-zoom"},"Cargando...")):i.a.createElement(oo.a,{className:"modal-body__button cursos",type:"submit"},i.a.createElement("div",{className:"button-zoom"},"Crear Curso"))),this.state.message?i.a.createElement("h4",{className:"CT-message-error"},this.state.message):null))}}]),t}(n.Component)),io=o(192),so=o.n(io),ao=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={hightlight:!1,inputValue:""},o.fileInputRef=i.a.createRef(),o.openFileDialog=o.openFileDialog.bind(Object(j.a)(o)),o.onFilesAdded=o.onFilesAdded.bind(Object(j.a)(o)),o.onDragOver=o.onDragOver.bind(Object(j.a)(o)),o.onDragLeave=o.onDragLeave.bind(Object(j.a)(o)),o.onDrop=o.onDrop.bind(Object(j.a)(o)),o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"openFileDialog",value:function(){this.props.disabled||this.fileInputRef.current.click()}},{key:"onFilesAdded",value:function(e){if(this.props.limpiarInputFile)return this.setState({inputValue:""});if(!this.props.disabled){var t=e.target.files;if(this.props.onFilesAdded){var o=this.fileListToArray(t);this.props.onFilesAdded(o)}}}},{key:"onDragOver",value:function(e){e.preventDefault(),this.props.disabed||this.setState({hightlight:!0})}},{key:"onDragLeave",value:function(e){this.setState({hightlight:!1})}},{key:"onDrop",value:function(e){if(e.preventDefault(),!this.props.disabed){var t=e.dataTransfer.files;if(this.props.onFilesAdded){var o=this.fileListToArray(t);this.props.onFilesAdded(o)}this.setState({hightlight:!1})}}},{key:"fileListToArray",value:function(e){for(var t=[],o=0;o<e.length;o++)t.push(e.item(o));return t}},{key:"render",value:function(){return i.a.createElement("div",{className:"Dropzone ".concat(this.state.hightlight?"Highlight":""),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onClick:this.openFileDialog,style:{cursor:this.props.disabled?"default":"pointer"}},i.a.createElement("input",{ref:this.fileInputRef,className:"FileInput",type:"file",accept:"application/vnd.ms-powerpoint, .pptx,",onChange:this.onFilesAdded,value:this.state.inputValue}),i.a.createElement("img",{alt:"diapositiva",className:"Icon",src:so.a}),this.props.slideOn?null:i.a.createElement("span",{className:"sube"},"Sube aqu\xed tu diapositiva"))}}]),t}(n.Component),ro=(o(461),function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={files:[],uploading:!1,uploadProgress:{},successfullUploaded:!1,errorUploaded:!1,slideOn:!1,NoData:!1,UploadDone:!1,limpiarInputFile:!1,DisableDropZone:{},fileEditOn:!1},o.onFilesAdded=o.onFilesAdded.bind(Object(j.a)(o)),o.uploadFiles=o.uploadFiles.bind(Object(j.a)(o)),o.sendRequest=o.sendRequest.bind(Object(j.a)(o)),o.renderActions=o.renderActions.bind(Object(j.a)(o)),o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.EditDiapo&&setTimeout((function(){e.getFile()}),1e3)}},{key:"getFile",value:function(){this.setState({files:this.props.fileActual,slideOn:!0,DisableDropZone:{pointerEvents:"none"},fileEditOn:!1})}},{key:"onFilesAdded",value:function(e){this.setState({files:[]}),this.setState({slideOn:!0}),this.setState((function(t){return{files:t.files.concat(e)}})),console.log(e)}},{key:"uploadFiles",value:function(){var e=Object(m.a)(g.a.mark((function e(){var t,o,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.EditDiapo){e.next=20;break}if(0!==Object.keys(this.state.files).length){e.next=5;break}this.setState({NoData:!0}),e.next=18;break;case 5:return document.addEventListener("keydown",(function(e){if(27===e.which)return!1})),this.setState({uploadProgress:{},uploading:!0}),t=[],this.state.files.forEach((function(e){t.push(n.sendRequest(e))})),e.prev=9,e.next=12,Promise.all(t);case 12:this.setState({successfullUploaded:!0,uploading:!0,limpiarInputFile:!0}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),this.setState({successfullUploaded:!0,uploading:!0});case 18:e.next=38;break;case 20:if(""!==this.props.class_name&&""!==this.props.desc&&0!==Object.keys(this.state.files).length){e.next=24;break}this.setState({NoData:!0}),e.next=38;break;case 24:return this.props.handleDisableX(),document.addEventListener("keydown",(function(e){if(27===e.which)return!1})),this.setState({uploadProgress:{},uploading:!0}),o=[],this.state.files.forEach((function(e){o.push(n.sendRequest(e))})),e.prev=29,e.next=32,Promise.all(o);case 32:this.setState({successfullUploaded:!0,uploading:!0,limpiarInputFile:!0}),e.next=38;break;case 35:e.prev=35,e.t1=e.catch(29),this.setState({successfullUploaded:!0,uploading:!0});case 38:case"end":return e.stop()}}),e,this,[[9,15],[29,35]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendRequest",value:function(e){var t=this;return new Promise((function(o,n){var i=new XMLHttpRequest;i.upload.addEventListener("progress",(function(o){if(o.lengthComputable){var n=Object(Le.a)({},t.state.uploadProgress);n[e.name]={state:"pending",percentage:o.loaded/o.total*100},t.setState({uploadProgress:n})}})),i.upload.addEventListener("load",(function(n){var s=Object(Le.a)({},t.state.uploadProgress);s[e.name]={state:"done",percentage:100},t.setState({uploadProgress:s,UploadDone:!0,uploading:!1}),o(i.response)})),i.upload.addEventListener("error",(function(o){var s=Object(Le.a)({},t.state.uploadProgress);s[e.name]={state:"error",percentage:0},t.setState({uploadProgress:s}),n(i.response)}));var s=localStorage.getItem("token"),a=new FormData;a.append("file",e,e.name),t.props.EditDiapo?(console.log(e),i.open("PUT","http://3.16.110.136:4200/v1/api/teacher/presentation/".concat(t.props.id_class)),i.setRequestHeader("x-access-token","".concat(s)),i.send(a),console.log("asdmasd"),i.onload=function(){i.readyState===i.DONE&&(200===i.status?(console.log(i.response),console.log("bien"),t.getFile(),t.setState({uploading:!1,uploadProgress:{},successfullUploaded:!1,errorUploaded:!1,NoData:!1,UploadDone:!1,limpiarInputFile:!1,fileEditOn:!1})):(console.log(i.response),console.log("mal"),t.setState({successfullUploaded:!1,errorUploaded:!0,uploading:!1,uploadProgress:{},slideOn:!1,NoData:!1,UploadDone:!1,limpiarInputFile:!1})))}):(a.append("class_name",t.props.class_name),a.append("desc",t.props.desc),console.log(e),i.open("POST","".concat(t.props.apiUrl,"/v1/api/teacher/").concat(t.props.idteacher,"/course/").concat(t.props.idcourse,"/class")),i.setRequestHeader("x-access-token","".concat(s)),i.send(a),console.log("asdmasd"),i.onload=function(){i.readyState===i.DONE&&(200===i.status?(console.log(i.response),console.log("bien"),t.props.handleClose(),t.props.cleanInputs(),t.props.handleEnableX(),t.setState({files:[],uploading:!1,uploadProgress:{},successfullUploaded:!1,errorUploaded:!1,slideOn:!1,NoData:!1,UploadDone:!1,limpiarInputFile:!1})):(console.log(i.response),console.log("mal"),t.setState({errorUploaded:!0}),t.props.handleEnableX(),t.setState({successfullUploaded:!1,errorUploaded:!0,uploading:!1,uploadProgress:{},slideOn:!1,NoData:!1,UploadDone:!1,limpiarInputFile:!1})))})}))}},{key:"renderActions",value:function(){var e=this;return!0===this.state.errorUploaded?i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"modal-body__button backCursos",onClick:function(){e.props.cleanInputs(),e.setState({files:[],uploading:!1,errorUploaded:!1,slideOn:!1})}},i.a.createElement("div",{className:"button-zoom"},"LIMPIAR")),i.a.createElement("p",{className:"mensageAction negative"},"OCURRIO UN ERROR, LIMPIE Y SUBA OTRA DIAPOSITIVA")):!0===this.state.uploading&!1===this.state.UploadDone?i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"mensageAction pocitive"},"Procesando diapositiva...")):!0===this.state.uploading&!0===this.state.UploadDone?i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"mensageAction pocitive"},"Subiendo diapositiva...")):i.a.createElement(i.a.Fragment,null,this.props.EditDiapo?this.state.fileEditOn?i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{id:"modal-body__button-cursos",type:"submit",className:"modal-body__button yes",hidden:this.state.files.length<0||this.state.uploading,onClick:this.uploadFiles},i.a.createElement("div",{className:"button-zoom"},"GUARDAR")),i.a.createElement("button",{id:"modal-body__button-cursos",type:"submit",className:"modal-body__button no",hidden:this.state.files.length<0||this.state.uploading,onClick:function(){return e.getFile()}},i.a.createElement("div",{className:"button-zoom"},"CANCELAR"))):null:i.a.createElement("button",{id:"modal-body__button-cursos",type:"submit",className:"modal-body__button yes",hidden:this.state.files.length<0||this.state.uploading,onClick:this.uploadFiles},i.a.createElement("div",{className:"button-zoom"},"CREAR CLASE")),this.state.files.length>0?this.props.EditDiapo?this.state.fileEditOn?null:i.a.createElement("button",{className:"modal-body__button backCursos",onClick:function(){e.setState({files:[],DisableDropZone:{},fileEditOn:!0,uploading:!1,errorUploaded:!1,slideOn:!1,NoData:!1})}},i.a.createElement("div",{className:"button-zoom"},"CAMBIAR DIAPOSITIVA")):i.a.createElement("button",{className:"modal-body__button backCursos",onClick:function(){e.props.cleanInputs(),e.setState({files:[],uploading:!1,errorUploaded:!1,slideOn:!1,NoData:!1})}},i.a.createElement("div",{className:"button-zoom"},"LIMPIAR")):null,this.state.NoData&&(""===this.props.class_name||""===this.props.desc||0===Object.keys(this.state.files).length)?i.a.createElement("p",{className:"mensageAction negative"},"RELLENA TODOS LOS CAMPOS"):null)}},{key:"render",value:function(){return i.a.createElement("div",{className:"Upload"},i.a.createElement("div",{className:"Content",style:this.state.DisableDropZone},i.a.createElement("div",null,i.a.createElement(ao,{limpiarInputFile:this.state.limpiarInputFile,slideOn:this.state.slideOn,onFilesAdded:this.onFilesAdded,disabled:this.state.uploading||this.state.files.length>0})),i.a.createElement("div",{className:"Files"},this.state.files.map((function(e,t){return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{key:t},e.name))})))),i.a.createElement("div",{className:"Actions"},this.renderActions()))}}]),t}(n.Component)),lo=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,i=t.value;o.setState(Object(X.a)({},n,i))},o.handleCleanInput=function(){o.setState({class_name:"",desc:""})},o.state={class_name:"",desc:""},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.class_name,o=e.desc;return i.a.createElement(i.a.Fragment,null,i.a.createElement(to.a.Group,null,i.a.createElement(to.a.Label,{className:"modal-title__controlname"},"Nombre de la Clase"),i.a.createElement(to.a.Control,{className:"modal-teacher__general-controlname",type:"text",name:"class_name",onChange:this.handleChange,value:t,placeholder:"Ingrese el nombre de la clase",required:!0})),i.a.createElement(to.a.Group,{controlId:"exampleForm.ControlTextarea1"},i.a.createElement(to.a.Label,{className:"modal-title__controlname"},"Descripci\xf3n de la Clase"),i.a.createElement(to.a.Control,{className:"modal-teacher__general-controldescription",name:"desc",onChange:this.handleChange,value:o,as:"textarea",rows:"2",required:!0,placeholder:"Ingrese la descripci\xf3n de la clase"}),i.a.createElement(ro,{EditDiapo:!1,handleClose:this.props.handleClose,handleEnableX:this.props.handleEnableX,handleDisableX:this.props.handleDisableX,cleanInputs:this.handleCleanInput,idteacher:this.props.idteacher,idcourse:this.props.idcourse,class_name:this.state.class_name,desc:this.state.desc,apiUrl:this.props.apiUrl})))}}]),t}(n.Component),co=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(){var e=Object(m.a)(g.a.mark((function e(t){var n,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.name,i=t.target.value,o.setState({message:""}),"manual"===t.target.value&&o.setState({escogerOption:1}),"excel"===t.target.value&&o.setState({escogerOption:2}),e.next=7,o.setState(Object(X.a)({},n,i));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.handleChangeInputsText=function(e){var t=e.target,n=t.name,i=t.value;o.setState(Object(X.a)({},n,i))},o.handleFileChange=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,i=t.name,s=Object(j.a)(o);o.setState(Object(X.a)({},i,n));var a=[];if("file"===i){var r=new FileReader;r.readAsArrayBuffer(t.files[0]),r.onloadend=function(e){var o=new Uint8Array(e.target.result),n=z.read(o,{type:"array"});n.SheetNames.forEach((function(e){var t=z.utils.sheet_to_row_object_array(n.Sheets[e]);a.push({data:t,sheetName:e})})),console.log(a),s.setState({selectedFileDocument:t.files[0],hojas:a})}}},o.handleSubmit=function(e){if(1===o.state.escogerOption){o.setState({bloquearBoton:!0});var t=localStorage.getItem("token");e.preventDefault();var n={name_stu:o.state.name_stu,lastName_stu:o.state.lastName_stu,id_teach:o.props.idteacher,id_course:o.props.idcourse};T()({url:"".concat(o.props.apiUrl,"/v1/api/student"),data:n,method:"post",headers:{"x-access-token":"".concat(t)}}).then((function(e){console.log(e),o.setState({bloquearBoton:!1,name_stu:"",lastName_stu:""}),o.props.handleClose(),o.props.getdata()})).catch((function(e){console.log(e),o.setState({bloquearBoton:!1})}))}else e.preventDefault()},o.onChangeHandler=function(e){o.setState({selectedFile:e.target.files[0],nomArch:e.target.files[0].name,loaded:0}),console.log(e.target.files[0].name)},o.onClickHandler=function(){var e=new FormData;e.append("file",o.state.selectedFile),T()({url:"".concat(o.props.apiUrl,"/v1/api/teacher/").concat(o.props.idteacher,"/excel_students/").concat(o.props.idcourse),method:"POST",data:e}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},o.state={bloquearBoton:!1,name_stu:"",lastName_stu:"",id_course:"",id_teacher:"",signup:!1,login:!0,message:"Elija una opci\xf3n",escogerOption:0,selectedFile:null,nomArch:""},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.idteacher),console.log(this.props.idcourse)}},{key:"render",value:function(){var e=this.state,t=e.name_stu,o=e.lastName_stu;return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("label",{className:"modal-title__controlname"},"Metodo al Agregar"),i.a.createElement("div",{className:"CT-contenedorNivel"},i.a.createElement("input",{className:"CT-opcionNivel",type:"radio",name:"option",value:"manual",id:"option-one",onChange:this.handleChange,required:!0}),i.a.createElement("label",{className:"CT-labelNivel",htmlFor:"option-one",style:{width:"50%"}},"Manual"),i.a.createElement("input",{className:"CT-opcionNivel",type:"radio",name:"option",value:"excel",id:"option-two",onChange:this.handleChange}),i.a.createElement("label",{className:"CT-labelNivel",htmlFor:"option-two",style:{width:"50%"}},"Cargar Excel")),0===this.state.escogerOption?null:1===this.state.escogerOption?i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{className:"modal-title__controlname"},"Nombres del alumno"),i.a.createElement("input",{className:"modal-teacher__general-controlname",type:"text",name:"name_stu",onChange:this.handleChangeInputsText,value:t,placeholder:"Ingresar nombres completos de los estudiantes",required:!0}),i.a.createElement("label",{className:"modal-title__controlname"},"Apellidos del alumno"),i.a.createElement("input",{className:"modal-teacher__general-controlname",type:"text",name:"lastName_stu",onChange:this.handleChangeInputsText,value:o,placeholder:"Ingresar apellidos completos de los estudiantes",required:!0}),i.a.createElement("br",null),i.a.createElement("br",null),this.state.bloquearBoton?i.a.createElement("button",{className:"modal-body__button cursos",type:"button"},i.a.createElement("div",{className:"button-zoom"},"Cargando ...")):i.a.createElement("button",{className:"modal-body__button cursos",type:"submit"},i.a.createElement("div",{className:"button-zoom"},"Agregar Alumno"))):i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"file",name:"file",onChange:this.onChangeHandler}),i.a.createElement("button",{type:"button",className:"modal-body__button yes",onClick:this.onClickHandler},"Subir alumnos")),this.state.message?i.a.createElement("h4",{className:"CT-message-error"},this.state.message):null))}}]),t}(n.Component);function uo(e){var t=Object(n.useState)(0),o=Object(O.a)(t,2),s=o[0],a=o[1],r=Object(n.useState)(!1),l=Object(O.a)(r,2),c=l[0],u=l[1],h=function(){return a(2)+e.getdata()};return i.a.createElement(i.a.Fragment,null,c?i.a.createElement(pe,null):null,i.a.createElement("div",{className:"teacherCourses__main-menu__returnCourse",onClick:function(){return a(1)}},"Agregar ",e.agregarX),i.a.createElement("div",{id:"modal-general_container",className:0===s?"":1===s?"six":2===s?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:function(){return a(2)}},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},"curso"===e.agregarX?i.a.createElement(no,{apiUrl:e.apiUrl,handleClose:h,idteacher:e.idteacher,idcourse:e.idcourse,menuToggleNavbar:e.menuToggleNavbar}):"Alumno"===e.agregarX?i.a.createElement(co,{handleClose:h,apiUrl:e.apiUrl,idcourse:e.idcourse,idteacher:e.idteacher}):i.a.createElement(lo,{handleEnableX:function(){return u(!1)},handleDisableX:function(){return u(!0)},apiUrl:e.apiUrl,handleClose:h,idteacher:e.idteacher,idcourse:e.idcourse,menuToggleNavbar:e.menuToggleNavbar})),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))))}function ho(e){var t=Object(n.useState)(0),o=Object(O.a)(t,2),s=o[0],a=o[1],r=function(){return a(2)};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"teacherCourses__main-menu__LogOut",onClick:function(){return a(1)}},"Cerrar sesi\xf3n"),i.a.createElement("div",{id:"modal-general_container",className:0===s?"":1===s?"six":2===s?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:r},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title__controlname"},"\xbfDESEA CERRAR SESI\xd3N?")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement(p.b,{style:{textDecoration:"none"},to:"/"},i.a.createElement("button",{className:"modal-body__button yes",onClick:e.cerrarSesion,variant:"primary"},i.a.createElement("div",{className:"button-zoom"},"SI"))),i.a.createElement("button",{className:"modal-body__button no",onClick:r},i.a.createElement("div",{className:"button-zoom"},"NO")))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))))}var po=function(e){function t(){var e,o;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(o=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={token:!1},o.UNSAFE_componentWillMount=Object(m.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,o.setState({token:t});case 3:case"end":return e.stop()}}),e)}))),o.cerrarSesion=function(){localStorage.clear(),o.setState({token:null})},o.AbriryCerrar=function(){document.getElementById("main-nav").classList.toggle("show")},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,this.state.token?null:i.a.createElement(d.a,{to:"/"}),i.a.createElement("header",{className:"teacherCourses__main-header"},i.a.createElement("div",{className:"teacherCourses__l-container teacherCourses__main-header__block"},i.a.createElement("h3",null,"Bienvenido(a)"," ",this.props.nombreProfesor.replace(/\w\S*/g,(function(e){return e.replace(/^\w/,(function(e){return e.toUpperCase()}))}))," "),i.a.createElement("div",{className:"teacherCourses__main-menu-toggle",id:"main-menu-toggle",onClick:this.AbriryCerrar}),i.a.createElement("nav",{className:"teacherCourses__main-nav",id:"main-nav"},i.a.createElement("ul",{className:"teacherCourses__main-menu"},i.a.createElement("li",{className:"teacherCourses__main-menu__item"},i.a.createElement(uo,{apiUrl:this.props.apiUrl,idteacher:this.props.idteacher,idcourse:this.props.idcourse,agregarX:this.props.agregarX,getdata:this.props.getdata,menuToggleNavbar:this.AbriryCerrar})),"clase"===this.props.agregarX?i.a.createElement(i.a.Fragment,null,i.a.createElement("li",{className:"teacherCourses__main-menu__item"},i.a.createElement(p.b,{to:"/CoursesTeacher/".concat(this.props.idteacher),style:{textDecoration:"none"}},i.a.createElement("div",{className:"teacherCourses__main-menu__addCourse"},"Regresar a cursos")))):null,i.a.createElement("li",{className:"teacherCourses__main-menu__item"},i.a.createElement(ho,{cerrarSesion:this.cerrarSesion})))))))}}]),t}(n.Component),_o=(o(176),function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=localStorage.getItem("token");T()({url:"".concat(o.props.apiUrl,"/v1/api/student/").concat(o.props.idteacher,"/").concat(o.props.id,"/students"),method:"GET",headers:{"x-access-token":"".concat(e)}}).then((function(e){var t=e.data;console.log(t),t.length?o.setState({cursoConAlumnos:!0}):o.setState({cursoConAlumnos:!1})})).catch((function(e){return console.log(e)}))},o.state={cursoConAlumnos:!0,hola:"holamunod"},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"classTeacher-container"},i.a.createElement("div",{className:"classTeacher-card"},i.a.createElement("div",{className:"classTeacher-card__image-container"},i.a.createElement("button",{onClick:function(){return e.props.onClick(e.props.id)+e.props.setShow("show",1)},className:"courseTeacher__button-delette"},i.a.createElement("i",{className:"courseTeacher__img fas fa-trash"})),i.a.createElement("div",{className:this.state.cursoConAlumnos?"courseTeacher__containerButton-Edit":"courseTeacher__containerButton-Edit courseTeacher__animationEdit"},i.a.createElement(p.b,{onClick:function(){localStorage.setItem("name_course",e.props.name_course)},to:{pathname:"/".concat(this.props.idteacher,"/course_detail/").concat(this.props.id),state:this.props.competencias},className:"courseTeacher__button-Edit"},i.a.createElement("i",{className:"algodemargin courseTeacher__img fas fa-user-plus"}))),i.a.createElement("img",{className:"classTeacher-card__image",src:this.props.imageURL||"https://images.unsplash.com/photo-1519999482648-25049ddd37b1?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2126&q=80",alt:""})),i.a.createElement("svg",{className:"classTeacher-card__svg",viewBox:"0 0 800 500"},i.a.createElement("path",{d:"M 0 100 Q 50 200 100 250 Q 250 400 350 300 C 400 250 550 150 650 300 Q 750 450 800 400 L 800 500 L 0 500",stroke:"transparent",fill:"#333"}),i.a.createElement("path",{className:"classTeacher-card__line",d:"M 0 100 Q 50 200 100 250 Q 250 400 350 300 C 400 250 550 150 650 300 Q 750 450 800 400",stroke:"pink",strokeWidth:"3",fill:"transparent"})),i.a.createElement("div",{className:"classTeacher-card__content"},i.a.createElement("p",{className:"classTeacher-card__grade"},this.props.grade),"\xa0\xa0",i.a.createElement("p",{className:"classTeacher-card__section"},this.props.section),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",i.a.createElement("p",{className:"classTeacher-card__level"},this.props.level?this.props.level:"particular"),i.a.createElement("h1",{className:"classTeacher-card__title"},this.props.name_course),i.a.createElement("p",null,this.props.description)),i.a.createElement(p.b,{onClick:function(){localStorage.setItem("competencias",JSON.stringify(e.props.competencias)),localStorage.setItem("name_course",e.props.name_course)},to:"/".concat(this.props.idteacher,"/ClassTeacher/").concat(this.props.id),className:"courseTeacher__buttonEntry"},i.a.createElement("div",{className:"button-zoom"},"VER CLASES")))))}}]),t}(n.Component)),go=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).getCursos=function(){console.log("listar cursos");var e=o.props.match.params,t=localStorage.getItem("token");T()({url:"".concat(o.props.apiUrl,"/v1/api/teacher/").concat(e.id,"/course_detail"),method:"GET",headers:{"x-access-token":"".concat(t)}}).then((function(e){var t=e.data;console.log(t),t===[]?o.setState({courses:[]}):o.setState({courses:t})})).catch((function(e){return console.log(e)}))},o.deleteCurso=Object(m.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,T()({url:"".concat(o.props.apiUrl,"/v1/api/teacher/").concat(o.state._id,"/").concat(o.state.id_curso),method:"put",headers:{"x-access-token":"".concat(t)}});case 3:o.getCursos();case 4:case"end":return e.stop()}}),e)}))),o.onClick=function(e){o.setState({id_curso:e}),console.log(e)},o.setShow=function(e,t){o.setState(Object(X.a)({},e,t))},o.state={nombreProfesor:"",_id:"",show:0,id_curso:"",courses:[],competencias:[]},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token"),o=this.props.match.params;this.setState({_id:o.id}),this.getCursos(),T()({url:"".concat(this.props.apiUrl,"/v1/api/admin/user/").concat(o.id),method:"GET",headers:{"x-access-token":"".concat(t)}}).then((function(t){var o=t.data;console.log(o),e.setState({nombreProfesor:"".concat(o.user_name," ").concat(o.user_lastName)})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(po,{apiUrl:this.props.apiUrl,idcourse:this.state.id_curso,idteacher:this.state._id,agregarX:"curso",nombreProfesor:this.state.nombreProfesor,getdata:this.getCursos}),i.a.createElement("div",{className:"CourseTeacher-main"},i.a.createElement("h1",{className:"courseTeacher-title"},"SECCION DE CURSOS"),i.a.createElement("ul",{className:"courseTeacher-container"},this.state.courses.length>0?this.state.courses.map((function(t,o){return i.a.createElement("li",{className:"courseTeacher-cards",key:o},i.a.createElement(_o,{apiUrl:e.props.apiUrl,level:t.level,grade:t.grade,section:t.section,name_course:t.course_name,description:t.description,imageURL:t.imageURL,id:t._id,idteacher:e.state._id,onClick:e.onClick,setShow:e.setShow,competencias:t.competences}))})):i.a.createElement("h3",{className:"courseTeacher-cards__nullCourses"},"Cargando cursos... Si no tiene, puede crear uno."))),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.show?"":1===this.state.show?"six":2===this.state.show?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:function(){return e.setShow("show",2)}},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title__controlname"},"\xbfDESEA ELIMINAR EL CURSO?")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement("button",{className:"modal-body__button yes",onClick:function(){return e.deleteCurso()+e.setShow("show",2)},type:"button"},i.a.createElement("div",{className:"button-zoom"},"SI")),i.a.createElement("button",{className:"modal-body__button no",onClick:function(){return e.setShow("show",2)},type:"button"},i.a.createElement("div",{className:"button-zoom"},"NO")))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))))}}]),t}(n.Component),mo=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).obtenerCodigo=function(){for(var e=localStorage.getItem("token"),t="",n="ABCDEFGHIJKLMN\xd1OPQRSTUVWXYZ",i=0;i<5;i++)t+=n.charAt(Math.floor(Math.random()*n.length));o.setState({id_access:t});var s={id_access:t,id_class:o.props.id};T()({url:o.props.apiUrl+"/v1/api/access/",data:s,method:"post",headers:{"x-access-token":"".concat(e)}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),o.setState({redirect:!0})},o.renderRedirect=function(){if(o.state.redirect)return i.a.createElement(d.a,{to:"/teacher/".concat(o.props.id,"/").concat(o.state.id_access)})},o.state={id_access:"",redirect:!1},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"classTeacher-container"},i.a.createElement("div",{className:"classTeacher-card"},i.a.createElement("div",{className:"classTeacher-card__image-container"},i.a.createElement("button",{onClick:function(){return e.props.onClick(e.props.id)+e.props.setShow("show",1)},className:"courseTeacher__button-delette"},i.a.createElement("i",{className:"courseTeacher__img fas fa-trash"})),i.a.createElement("img",{className:"classTeacher-card__image",src:"https://images.unsplash.com/photo-1519999482648-25049ddd37b1?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2126&q=80",alt:""})),i.a.createElement("svg",{className:"classTeacher-card__svg",viewBox:"0 0 800 500"},i.a.createElement("path",{d:"M 0 100 Q 50 200 100 250 Q 250 400 350 300 C 400 250 550 150 650 300 Q 750 450 800 400 L 800 500 L 0 500",stroke:"transparent",fill:"#333"}),i.a.createElement("path",{className:"classTeacher-card__line",d:"M 0 100 Q 50 200 100 250 Q 250 400 350 300 C 400 250 550 150 650 300 Q 750 450 800 400",stroke:"pink",strokeWidth:"3",fill:"transparent"})),i.a.createElement("div",{className:"classTeacher-card__content"},i.a.createElement("h1",{className:"classTeacher-card__title"},this.props.name_class),i.a.createElement("p",{className:"courseTeacher-card-intro"},this.props.desc)),this.renderRedirect(),i.a.createElement("div",{className:"courseTeacher__buttonEntry",onClick:this.obtenerCodigo},i.a.createElement("div",{className:"button-zoom"},"ACTIVAR CLASE"))))}}]),t}(n.Component),Eo=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).getClass=function(){var e=localStorage.getItem("token"),t=o.props.match.params;localStorage.setItem("id_teacher",t.id_teacher),localStorage.setItem("id_course",t._id),T()({url:"".concat(o.props.apiUrl,"/v1/api/teacher/").concat(t.id_teacher,"/course_detail/").concat(t._id),method:"GET",headers:{"x-access-token":"".concat(e)}}).then((function(e){var t=e.data;console.log(t),t===[]?o.setState({classes:[]}):o.setState({classes:t})})).catch((function(e){return console.log(e)}))},o.deleteClass=Object(m.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("delete clase_ "+o.state.id_class),t=localStorage.getItem("token"),e.next=4,T()({url:"".concat(o.props.apiUrl,"/v1/api/teacher/change_lesson_state/").concat(o.state.id_class),method:"get",headers:{"x-access-token":"".concat(t)}});case 4:o.getClass();case 5:case"end":return e.stop()}}),e)}))),o.onClick=function(e){o.setState({id_class:e}),console.log(e)},o.setShow=function(e,t){o.setState(Object(X.a)({},e,t))},o.state={nombreProfesor:"",_id:"",idcourse:"",idteacher:"",id_class:"",show:0,classes:[]},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(g.a.mark((function e(){var t,o,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),o=this.props.match.params,e.next=4,this.setState({idteacher:o.id_teacher,idcourse:o._id});case 4:this.getClass(),T()({url:"".concat(this.props.apiUrl,"/v1/api/admin/user/").concat(o.id_teacher),method:"GET",headers:{"x-access-token":"".concat(t)}}).then((function(e){var t=e.data;n.setState({nombreProfesor:t.user_name+" "+t.user_lastName}),localStorage.setItem("name_teacher",t.user_name),localStorage.setItem("lastName_teacher",t.user_lastName)}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(po,{apiUrl:this.props.apiUrl,idteacher:this.state.idteacher,idcourse:this.state.idcourse,agregarX:"clase",nombreProfesor:this.state.nombreProfesor,getdata:this.getClass}),i.a.createElement("div",{className:"ClassTeacher-main"},i.a.createElement("h1",{className:"courseTeacher-title--class"},"SECCION DE CLASES"),i.a.createElement("ul",{className:"courseTeacher-container class"},this.state.classes.length>0?this.state.classes.map((function(t,o){return i.a.createElement("li",{className:"courseTeacher-cards",key:o},i.a.createElement(mo,{apiUrl:e.props.apiUrl,name_class:t.class_name,desc:t.desc,id:t._id,onClick:e.onClick,setShow:e.setShow}))})):i.a.createElement("h3",{className:"courseTeacher-cards__nullCourses"},"Cargando cursos... Si no tiene, puede crear uno."))),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.show?"":1===this.state.show?"six":2===this.state.show?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:function(){return e.setShow("show",2)}},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title__controlname"},"\xbfDESEA ELIMINAR LA CLASE?")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement("button",{className:"modal-body__button yes",onClick:function(){return e.deleteClass()+e.setShow("show",2)},type:"button"},i.a.createElement("div",{className:"button-zoom"},"SI")),i.a.createElement("button",{className:"modal-body__button no",onClick:function(){return e.setShow("show",2)},type:"button"},i.a.createElement("div",{className:"button-zoom"},"NO")))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))))}}]),t}(n.Component),To=o(81),vo=o.n(To);function fo(e){var t=Object(n.useState)(0),o=Object(O.a)(t,2),s=o[0],a=o[1],r=function(){return a(2)};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"teacherCourses__main-menu__LogOut",onClick:function(){return a(1)}},"Cerrar sesi\xf3n"),i.a.createElement("div",{id:"modal-general_container",className:0===s?"":1===s?"six":2===s?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:r},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title__controlname"},"\xbfDESEA CERRAR SESI\xd3N?")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement(p.b,{style:{textDecoration:"none"},to:"/"},i.a.createElement("button",{className:"modal-body__button yes",onClick:e.cerrarSesion,variant:"primary"},i.a.createElement("div",{className:"button-zoom"},"SI"))),i.a.createElement("button",{className:"modal-body__button no",onClick:r},i.a.createElement("div",{className:"button-zoom"},"NO")))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))))}var bo=function(e){function t(){var e,o;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(o=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={idCource:"",idTeacher:""},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("id_course"),t=localStorage.getItem("id_teacher");this.setState({idCource:e,idTeacher:t})}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"teacherCourses__floatingActionButton teacherCourses_addStudent",onClick:this.props.handleAddStudent},i.a.createElement("i",{className:"fas fa-plus"})),i.a.createElement("header",{className:"teacherCourses__main-header"},i.a.createElement("div",{className:"teacherCourses__l-container teacherCourses__main-header__block"},i.a.createElement(p.b,{to:"/".concat(this.state.idTeacher,"/ClassTeacher/").concat(this.state.idCource),style:{textDecoration:"none"}},i.a.createElement("img",{src:vo.a,alt:"imgagen de volver atras"})),i.a.createElement("h3",null,"Bienvenido(a) "),i.a.createElement("div",{className:"teacherCourses__main-menu-toggle",id:"main-menu-toggle",onClick:this.Abrir}),i.a.createElement("nav",{className:"teacherCourses__main-nav",id:"main-nav"},i.a.createElement("ul",{className:"teacherCourses__main-menu"},i.a.createElement("li",{className:"teacherCourses__main-menu__item"}),i.a.createElement("li",{className:"teacherCourses__main-menu__item"},i.a.createElement(fo,{cerrarSesion:this.cerrarSesion})))))))}}]),t}(n.Component),So=(o(462),function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).setShow=function(){o.setState({newQuestionModal:1})},o.setClose=function(){o.setState({newQuestionModal:2})},o.bancoPreguntas=function(){var e=localStorage.getItem("token"),t=o.state.id_class,n={question:o.state.pregunta,answer1:o.state.respuestauno,answer2:o.state.respuestados,answer3:o.state.respuestatres,answer4:o.state.respuestacuatro,correctAnswer:o.state.respuestacorrecta};if(""===o.state.pregunta||""===o.state.respuestauno||""===o.state.respuestados||""===o.state.respuestatres||""===o.state.respuestacuatro)return alert("debe completar todos los campos");T()({url:"http://192.168.1.66:4200/v1/api/question/new_question/".concat(t),method:"POST",data:n,headers:{"x-access-token":"".concat(e)}}),o.setState({newQuestionModal:2})},o.changeQuestion=function(e){o.setState({pregunta:e.target.value})},o.changeAnswer1=function(e){o.setState({respuestauno:e.target.value})},o.changeAnswer2=function(e){o.setState({respuestados:e.target.value})},o.changeAnswer3=function(e){o.setState({respuestatres:e.target.value})},o.changeAnswer4=function(e){o.setState({respuestacuatro:e.target.value})},o.handleCorrectAnswer=function(e){o.setState({respuestacorrecta:e.target.value})},o.state={id_class:"",fileActual:"",newQuestionModal:0,pregunta:"",respuestauno:"",respuestados:"",respuestatres:"",respuestacuatro:"",respuestacorrecta:"rojo"},o.changeQuestion=o.changeQuestion.bind(Object(j.a)(o)),o.changeAnswer1=o.changeAnswer1.bind(Object(j.a)(o)),o.changeAnswer2=o.changeAnswer2.bind(Object(j.a)(o)),o.changeAnswer3=o.changeAnswer3.bind(Object(j.a)(o)),o.changeAnswer4=o.changeAnswer4.bind(Object(j.a)(o)),o.handleCorrectAnswer=o.handleCorrectAnswer.bind(Object(j.a)(o)),o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token"),o=this.props.match.params;this.setState({id_class:o.id}),console.log(o.id),T()({url:"http://192.168.1.66:4200/v1/api/teacher/presentation_detail/".concat(o.id),method:"GET",headers:{"x-access-token":"".concat(t)}}).then((function(t){var o=t.data;console.log(o.name),e.setState({fileActual:o.name})}))}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(bo,{apiUrl:this.props.apiUrl}),i.a.createElement("div",{className:"contenedor-Items"},i.a.createElement("ul",{className:"Item-cards"},i.a.createElement("li",{className:"Item-cards__item"},i.a.createElement("div",{className:"Item-card"},i.a.createElement("div",{className:"Item-card__content"},i.a.createElement("div",{className:"Item-card__title"},"Diapositivas"),i.a.createElement("br",null),i.a.createElement("div",{className:"Item-card__text"},i.a.createElement(ro,{EditDiapo:!0,id_class:this.state.id_class,fileActual:[{name:this.state.fileActual,lastModified:1568327872965,webkitRelativePath:"",size:3195833,type:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}]}))))),i.a.createElement("li",{className:"Item-cards__item"},i.a.createElement("div",{className:"Item-card"},i.a.createElement("div",{className:"Item-card__content"},i.a.createElement("div",{className:"Item-card__title"},"Formularios"),i.a.createElement("br",null),i.a.createElement("div",{className:"Item-card__text"})))),i.a.createElement("li",{className:"Item-cards__item"},i.a.createElement("div",{className:"Item-card"},i.a.createElement("div",{className:"Item-card__content"},i.a.createElement("div",{className:"Item-card__title"},"Trivia"),i.a.createElement("br",null),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.newQuestionModal?"":1===this.state.newQuestionModal?"six":2===this.state.newQuestionModal?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:this.setClose},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"Item-card_createquestion"},i.a.createElement("label",{className:"triviaPregunta"},"Pregunta"),i.a.createElement("input",{type:"text",id:"pregunta",className:"triviaT-input-pregunta",value:this.state.pregunta,onChange:this.changeQuestion,autoComplete:"off"}),i.a.createElement("label",{className:"triviaRepuestas"},"Respuesta 1"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("div",{className:"triviaT-contenedor-respuesta custom-radios"},i.a.createElement("input",{type:"text",id:"res1",className:"triviaT-input-respuestas",value:this.state.respuestauno,onChange:this.changeAnswer1,autoComplete:"off"}),i.a.createElement("input",{type:"radio",id:"color-1",name:"color",value:"rojo",checked:"rojo"===this.state.respuestacorrecta,onChange:this.handleCorrectAnswer}),i.a.createElement("label",{htmlFor:"color-1"},i.a.createElement("span",null,i.a.createElement("img",{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/242518/check-icn.svg",alt:"Checked Icon"})))),i.a.createElement("label",{className:"triviaRepuestas"},"Respuesta 2"),i.a.createElement("br",null),i.a.createElement("div",{className:"triviaT-contenedor-respuesta custom-radios"},i.a.createElement("input",{type:"text",id:"res3",className:"triviaT-input-respuestas",value:this.state.respuestados,onChange:this.changeAnswer2,autoComplete:"off"}),i.a.createElement("input",{type:"radio",id:"color-2",name:"color",value:"naranja",checked:"naranja"===this.state.respuestacorrecta,onChange:this.handleCorrectAnswer}),i.a.createElement("label",{htmlFor:"color-2"},i.a.createElement("span",null,i.a.createElement("img",{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/242518/check-icn.svg",alt:"Checked Icon"})))),i.a.createElement("label",{className:"triviaRepuestas"},"Respuesta 3"),i.a.createElement("br",null),i.a.createElement("div",{className:"triviaT-contenedor-respuesta custom-radios"},i.a.createElement("input",{type:"text",id:"res2",className:"triviaT-input-respuestas",value:this.state.respuestatres,onChange:this.changeAnswer3,autoComplete:"off"}),i.a.createElement("input",{type:"radio",id:"color-3",name:"color",value:"azul",checked:"azul"===this.state.respuestacorrecta,onChange:this.handleCorrectAnswer}),i.a.createElement("label",{htmlFor:"color-3"},i.a.createElement("span",null,i.a.createElement("img",{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/242518/check-icn.svg",alt:"Checked Icon"})))),i.a.createElement("label",{className:"triviaRepuestas"},"Respuesta 4"),i.a.createElement("br",null),i.a.createElement("div",{className:"triviaT-contenedor-respuesta custom-radios"},i.a.createElement("input",{type:"text",id:"res4",className:"triviaT-input-respuestas",value:this.state.respuestacuatro,onChange:this.changeAnswer4,autoComplete:"off"}),i.a.createElement("input",{type:"radio",id:"color-4",name:"color",value:"verde",checked:"verde"===this.state.respuestacorrecta,onChange:this.handleCorrectAnswer}),i.a.createElement("label",{htmlFor:"color-4"},i.a.createElement("span",null,i.a.createElement("img",{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/242518/check-icn.svg",alt:"Checked Icon"})))),i.a.createElement("div",{className:"footerTriviaClass"},i.a.createElement("button",{className:"modal-body__button yes",onClick:this.bancoPreguntas},i.a.createElement("div",{className:"button-zoom"},"AGREGAR"))))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))),i.a.createElement("div",{className:"Item-card__text"},i.a.createElement("div",{className:"footerTriviaClass"},i.a.createElement("button",{className:"modal-body__button backCursos",onClick:this.setShow},i.a.createElement("div",{className:"button-zoom"},"AGREGAR PREGUNTA"))),i.a.createElement("div",{className:"triviaQuestionsBody"},i.a.createElement("ul",{className:"QuestionsListClass"},i.a.createElement("li",{className:"QuestionsClass"},"\xbfEsta es una pregunta?",i.a.createElement("button",{className:"classTrivia__button-delette"},i.a.createElement("i",{className:"courseTeacher__img fas fa-trash"})),i.a.createElement("button",{className:"classTrivia__button-Edit"},i.a.createElement("i",{className:"courseTeacher__img fas fa-edit"}))))))))))))}}]),t}(n.Component)),Ao=(o(463),o(193)),Io=o.n(Ao),Co=function(e){var t=e.status;return t?i.a.createElement(Io.a,{className:"center",type:"bars",color:"#52BE7F",height:64,width:64}):i.a.createElement("div",null,t)},yo=o(120),Oo=o.n(yo);o(466);Oo.a.initializeApp({apiKey:"AIzaSyAWOjwnakelzb4sXiZ00Jgz3IltnuGbjn4",authDomain:"playtec-academy.firebaseapp.com",databaseURL:"https://playtec-academy.firebaseio.com",projectId:"playtec-academy",storageBucket:"playtec-academy.appspot.com",messagingSenderId:"600207428850",appId:"1:600207428850:web:de87371f18ee0d5b9e146b",measurementId:"G-71WTH3JR21"});var Ro=Oo.a,ko=o(121),No=o.n(ko),Mo=o(122),Lo=o.n(Mo);function Do(e){var t=Object(n.useState)(!0),o=Object(O.a)(t,2),s=o[0],a=o[1],r=Object(n.useState)(!0),l=Object(O.a)(r,2),c=l[0],u=l[1],h=Object(n.useState)({email:"",pass:""}),_=Object(O.a)(h,2),E=_[0],v=_[1],f=Object(n.useState)({email:"",photoURL:"",username:"",lastname:"",pass:"",rpass:""}),b=Object(O.a)(f,2),S=b[0],A=b[1],I=Object(n.useState)({userState:!1,message:""}),C=Object(O.a)(I,2),y=C[0],R=y.userState,k=y.message,N=C[1],M=Object(n.useState)(!1),L=Object(O.a)(M,2),D=L[0],w=L[1],B=Object(n.useState)(!1),P=Object(O.a)(B,2),x=P[0],U=P[1],F=Object(n.useState)({loading:!1}),H=Object(O.a)(F,2),G=H[0].loading,V=H[1],W=function(){a(!s),u(!c)},j=function(){N({message:""}),w(!D)},Y=function(e){N({message:""}),v(Object(Le.a)({},E,Object(X.a)({},e.target.name,e.target.value)))},z=function(e){N({message:""}),A(Object(Le.a)({},S,Object(X.a)({},e.target.name,e.target.value)))},K=function(){var t=Object(m.a)(g.a.mark((function t(o){var n,i,s,a,r,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.preventDefault(),n=S.email,i=S.photoURL,s=S.username,a=S.lastname,r=S.pass,l=S.rpass,r===l){t.next=5;break}return A({pass:"",rpass:""}),t.abrupt("return",alert("las contrase\xf1as no coinciden. Ingreselas nuevamente"));case 5:Ro.auth().createUserWithEmailAndPassword(n,r).then((function(t){t.user.updateProfile({displayName:"".concat(s," ").concat(a)});t.user.sendEmailVerification({url:"http://www.app.playtecedu.com"}).catch((function(e){console.log(e)})),Ro.auth().signOut(),console.log(n,r,s,a),T.a.post("".concat(e.apiUrl,"/signup"),{email:n,pass:r,photoURL:i,user_name:s,user_lastName:a}).then((function(e){N({message:"Cuenta creada correctamente."})})).catch((function(e){return console.log(e)})),w(!1),U(!0)})).catch((function(e){console.log(e),N({message:"El correo ya existe. Intente crear uno diferente."})})),console.log(S);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return i.a.createElement("div",{className:"loginTeacher"},R?i.a.createElement(d.a,{to:"/CoursesTeacher/"+R._id}):null,i.a.createElement("div",{className:"loginTeacherHeader"},i.a.createElement(p.b,{to:"/"},i.a.createElement("div",{className:"logoAcademy"}))),i.a.createElement("div",{className:D?"loginTeacher-container log-in":"loginTeacher-container"},i.a.createElement("div",{className:"loginTeacher-box"}),i.a.createElement("div",{className:"loginTeacher-container-forms"},i.a.createElement("div",{className:"loginTeacher-container-info"},i.a.createElement("div",{className:"loginTeacher-info-item"},i.a.createElement("div",{className:"loginTeacher-table"},i.a.createElement("div",{className:"loginTeacher-table-cell"},i.a.createElement("p",null,"\xbfYa tienes una cuenta?"),i.a.createElement("div",{className:"loginTeacher-btn",onClick:j},"Inicia Sesi\xf3n")))),i.a.createElement("div",{className:"loginTeacher-info-item"},i.a.createElement("div",{className:"loginTeacher-table"},i.a.createElement("div",{className:"loginTeacher-table-cell"},i.a.createElement("p",null,x?"Verifique su cuenta a trav\xe9s del enlace enviado a su correo":"\xbfA\xfan no tienes una cuenta?"),x?null:i.a.createElement("div",{className:"loginTeacher-btn",onClick:j},"Reg\xedstrate"))))),i.a.createElement("div",{className:"loginTeacher-container-form"},i.a.createElement("form",{className:"loginTeacher-form-item log-in",onSubmit:function(t){t.preventDefault();var o=E.email,n=E.pass;console.log(o),N({message:""}),V({loading:!0}),Ro.auth().signInWithEmailAndPassword(o,n).then(function(){var t=Object(m.a)(g.a.mark((function t(i){var s,a,r,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i.user.emailVerified){t.next=19;break}return t.prev=1,t.next=4,T.a.post("".concat(e.apiUrl,"/signin"),{fuente:"manual",email:o,pass:n});case 4:s=t.sent,a=s.data,r=a.user,l=a.token,localStorage.setItem("token",l),N({userState:r,message:"Logeado como ".concat(r.email)}),V({loading:!1}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),console.log(t.t0),N({userState:null,message:"Error de red, vuelva a intentarlo nuevamente o m\xe1s tarde."}),V({loading:!1});case 17:t.next=22;break;case 19:return Ro.auth().signOut(),V({loading:!1}),t.abrupt("return",N({message:"Debe verificar su cuenta en su correo para poder acceder"}));case 22:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e),V({loading:!1}),"auth/wrong-password"===e.code&&N({message:"La contrase\xf1a es invalida o el usuario a\xfan no ha creado una contrase\xf1a"}),"auth/user-not-found"===e.code&&N({message:"No se ha podido identificar al usuario, verifique las credenciales e intentelo de nuevo."})}))}},i.a.createElement("div",{className:"loginTeacher-table"},i.a.createElement("div",{className:"loginTeacher-table-cell"},i.a.createElement("h2",{className:"loginTeacher-subtitle"},"Iniciar Sesi\xf3n"),i.a.createElement("input",{name:"email",placeholder:"Correo",type:"text",onChange:Y,required:!0,autoComplete:"true"}),i.a.createElement("div",{className:"input-group"},i.a.createElement("input",{className:"form-control",name:"pass",placeholder:"Contrase\xf1a",type:c?"password":"text",onChange:Y,required:!0,autoComplete:"true"}),i.a.createElement("div",{onClick:W,className:"input-group-addon"},s?i.a.createElement("img",{src:No.a,alt:"imgen"}):i.a.createElement("img",{src:Lo.a,alt:"imgen"}))),i.a.createElement("input",{className:"loginTeacher-btn",type:"submit",value:"Inicia Sesi\xf3n"}),i.a.createElement("div",{style:{width:"210px",margin:"10px auto"}},i.a.createElement("div",{className:"linea"},"\xa0"),i.a.createElement("div",{className:"leyenda"},"\xa0\xa0o accede con Google\xa0\xa0"),i.a.createElement("div",{className:"linea"},"\xa0")),i.a.createElement("a",{className:"loginTeacher-button-google",onClick:function(){N({message:""}),V({loading:!0});var t=new Ro.auth.GoogleAuthProvider;Ro.auth().signInWithPopup(t).then(function(){var t=Object(m.a)(g.a.mark((function t(o){var n,i,s,a,r,l,c,u,h;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return V({loading:!1}),n=o.user.email,i=o.user.photoURL,s=o.user.displayName,a="".concat(s.split(" ")[0]," ").concat(s.split(" ")[1]),r="".concat(s.split(" ")[2]," ").concat(s.split(" ")[3]),t.next=8,T.a.post("".concat(e.apiUrl,"/signin"),{fuente:"google",username:a,lastname:r,email:n});case 8:if(l=t.sent,"usuario no existe"!==(c=l.data).message){t.next=15;break}return Ro.auth().currentUser.delete().then((function(){console.log("como es la primera vez que se logea y  con Google, se borra por conflictos.")})).catch((function(e){console.log("si algo pasa, el error es: "+e)})),w(!0),A({email:n,username:a,lastname:r,photoURL:i}),t.abrupt("return",N({message:"Por favor, registrese primero para acceder con Google."}));case 15:u=c.user,h=c.token,localStorage.setItem("token",h),N({userState:u,message:"Logeado como ".concat(u.email)}),V({loading:!1}),console.log(o);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){V({loading:!1}),N({message:"Error al acceder con Google, intentelo de nuevo o m\xe1s tarde."}),console.log(e)}))},href:"#!"},i.a.createElement("img",{className:"loginTeacher-google-icon",src:"https://img.icons8.com/color/48/000000/google-logo.png",alt:""}),"Iniciar Sesi\xf3n con Google"),i.a.createElement("br",null),i.a.createElement("div",{style:{width:"210px",margin:"10px auto",padding:"8px 0"}},i.a.createElement(p.b,{to:"/",className:"resetPassword"},"\xbfHas olvidado la contrase\xf1a?")),i.a.createElement("a",{className:"loginTeacher-login-register",onClick:j,href:"#!"},"registrese ahora")))),i.a.createElement("form",{className:"loginTeacher-form-item sign-up",onSubmit:K},i.a.createElement("div",{className:"loginTeacher-table"},i.a.createElement("div",{className:"loginTeacher-table-cell"},i.a.createElement("h2",{className:"loginTeacher-subtitle"},"Registrarse"),i.a.createElement("input",{name:"email",placeholder:"Correo",type:"email",onChange:z,value:S.email,required:!0}),i.a.createElement("input",{name:"username",placeholder:"Nombres",type:"text",onChange:z,value:S.username,required:!0}),i.a.createElement("input",{name:"lastname",placeholder:"Apellidos",type:"text",onChange:z,value:S.lastname,required:!0}),i.a.createElement("div",{className:"input-group"},i.a.createElement("input",{className:"form-control",name:"pass",placeholder:"Contrase\xf1a",type:c?"password":"text",value:S.pass,onChange:z,minLength:"6",required:!0,autoComplete:"false"}),i.a.createElement("div",{onClick:W,className:"input-group-addon"},s?i.a.createElement("img",{src:No.a,alt:"imgen"}):i.a.createElement("img",{src:Lo.a,alt:"imgen"}))),i.a.createElement("input",{name:"rpass",placeholder:"Repita su contrase\xf1a",type:c?"password":"text",value:S.rpass,onChange:z,minLength:"6",required:!0,autoComplete:"false"}),i.a.createElement("input",{className:"loginTeacher-btn",type:"submit",value:"Reg\xedstrate"}),i.a.createElement("a",{className:"loginTeacher-login-register",onClick:j,href:"#!"},"Iniciar sesi\xf3n")))))),i.a.createElement("div",{className:"login-loading"},i.a.createElement(Co,{status:G})),""===k?null:i.a.createElement("h5",{className:"Cuenta creada correctamente."===k?"loginTeacher-message-succefull":"loginTeacher-message"},k)))}o(468);var wo=o(194),Bo=o.n(wo),Po=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(){var e=Object(m.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({value:t.target.value.toUpperCase()});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.ValidateCode=function(e){e.preventDefault(),console.log(o.state.value);var t=o.state.value.toUpperCase(),n={id_access:t};T.a.post(o.props.apiUrl+"/verify_access",n).then((function(e){console.log(e),!0===e.data.school?(o.setState({id_access:t,data:{id_teacher:e.data.id_teacher,id_course:e.data.id_course,hasStudents:e.data.hasStudents},acceso:!0,colegio:"School"}),console.log(e.data.id_teacher),console.log("se envio la data",o.state.data)):(console.log(e),o.setState({id_access:t,acceso:!0,colegio:"Private"}),console.log("este curso es un profe privadito  pe"))})).catch((function(e){console.log(e),alert("CODIGO INCORRECTO O SOLICITUD INCORRECTA")}))},o.state={value:"",acceso:!1,colegio:"tipo",data:{}},o.id_access="",o.handleSubmit=o.handleSubmit.bind(Object(j.a)(o)),o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){alert("A name was submitted: "+this.state.value),e.preventDefault()}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"enter-code__contenedor"},this.state.acceso?i.a.createElement(d.a,{to:{pathname:"/loginStudent".concat(this.state.colegio,"/").concat(this.state.id_access),state:this.state.data}}):null,i.a.createElement("ul",{className:"enter-code__header"},i.a.createElement("li",{className:"enter-code__academy"},i.a.createElement(p.b,{to:"/"},i.a.createElement("img",{className:"enter-code__academy-a",src:Bo.a,alt:"este logo es academy"}))),i.a.createElement("li",{className:""}),i.a.createElement("li",{className:"enter-code__changeStudent"},i.a.createElement(p.b,{className:"enter-code__academy-a",to:"/loginTeacher"},"CAMBIAR A PROFESOR"))),i.a.createElement("div",{className:"enter-code__body"},i.a.createElement("div",{className:"enter-code__formulario"},i.a.createElement("h1",{className:"enter-code__tittle-body"},"Ingresa el PIN para unirte a una clase como ALUMNO"),i.a.createElement("form",{className:"enter-code__body-body",onSubmit:this.ValidateCode},i.a.createElement("span",{className:"enter-code__input input--kozakura"},i.a.createElement("input",{className:"input__field input__field--kozakura",value:this.state.value,onChange:this.handleChange,id:"inputCode",type:"text",maxLength:"5",minLength:"5",autoComplete:"off","data-inputmask":"'mask':'AAAAAA'","im-insert":"true",required:!0}),i.a.createElement("label",{className:"input__label input__label--kozakura",htmlFor:"inputCode"},i.a.createElement("span",{className:"input__label-content input__label-content--kozakura","data-content":"C\xf3digo"},this.state.value||"C\xd3DIGO...")),i.a.createElement("svg",{className:"graphic graphic--kozakura",width:"300%",height:"100%",viewBox:"0 0 1200 60",preserveAspectRatio:"none"},i.a.createElement("path",{d:"M1200,9c0,0-305.005,0-401.001,0C733,9,675.327,4.969,598,4.969C514.994,4.969,449.336,9,400.333,9C299.666,9,0,9,0,9v43c0,0,299.666,0,400.333,0c49.002,0,114.66,3.484,197.667,3.484c77.327,0,135-3.484,200.999-3.484C894.995,52,1200,52,1200,52V9z"}))),i.a.createElement("button",{className:"enter-code__button"},"INGRESAR")))))}}]),t}(n.Component),xo=(o(469),o(55)),Uo=o.n(xo),Fo=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"===e.key&&o.SaveStudent()},o.state={value1:"",value2:"",id_access:"",idStu:""},o.handleChange1=o.handleChange1.bind(Object(j.a)(o)),o.handleChange2=o.handleChange2.bind(Object(j.a)(o)),o.handleSubmit=o.handleSubmit.bind(Object(j.a)(o)),o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id_access;this.setState({id_access:e})}},{key:"handleChange1",value:function(e){this.setState({value1:e.target.value})}},{key:"handleChange2",value:function(e){this.setState({value2:e.target.value})}},{key:"handleSubmit",value:function(e){alert("A name was submitted: "+this.state.value),e.preventDefault()}},{key:"SaveStudent",value:function(){var e=Object(m.a)(g.a.mark((function e(){var t,o,n,i,s,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.getElementById("inputName"),o=document.getElementById("inputLastName"),""!==t.value&&""!==o.value){e.next=6;break}alert("Nombre y Apellidos son requeridos"),e.next=17;break;case 6:return n={name_stu:t.value,lastName_stu:o.value,id_access:this.state.id_access},localStorage.setItem("alumno",JSON.stringify(n)),e.next=10,T.a.post(this.props.apiUrl+"/signin_student",n);case 10:i=e.sent,s=i.data.idStu,a=i.data.token,localStorage.setItem("token",a),localStorage.setItem("alumId",s),this.setState({idStu:s}),document.getElementById("link_form").click();case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(p.b,{id:"link_form",to:"/student/".concat(this.state.idStu,"/").concat(this.state.id_access)}),i.a.createElement("div",{className:"limiter"},i.a.createElement("div",{className:"container-login100"},i.a.createElement("div",{className:"wrap-login100"},i.a.createElement("span",{className:"login100-form-title p-b-26"},"INGRESO A LA CLASE"),i.a.createElement("span",{className:"login100-form-title"},i.a.createElement("img",{src:Uo.a,alt:"robot",className:"login-imagen-robot-student"})),i.a.createElement("div",{className:"wrap-input100 validate-input"},i.a.createElement("input",{id:"inputName",className:"input100",autoComplete:"off",placeholder:"Nombres",type:"text",onKeyPress:this.handleKeyPress,value:this.state.value1,onChange:this.handleChange1}),i.a.createElement("span",{className:"focus-input100"})),i.a.createElement("div",{className:"wrap-input100 validate-input"},i.a.createElement("input",{id:"inputLastName",className:"input100",autoComplete:"off",placeholder:"Apellidos",type:"text",onKeyPress:this.handleKeyPress,value:this.state.value2,onChange:this.handleChange2}),i.a.createElement("span",{className:"focus-input100"})),i.a.createElement("div",{className:"container-login100-form-btn"},i.a.createElement("div",{className:"wrap-login100-form-btn"},i.a.createElement("div",{className:"login100-form-bgbtn"}),i.a.createElement("button",{onClick:function(){return e.SaveStudent()},className:"login100-form-btn"},"Ingresar")))))))}}]),t}(n.Component);o(470);var Ho=function(){return i.a.createElement("div",{className:"login-contenedor"},i.a.createElement("div",{className:"loginTeacherHeader"},i.a.createElement(p.b,{to:"/"},i.a.createElement("div",{className:"logoAcademy"}))),i.a.createElement("div",{className:"login-general"},i.a.createElement("div",{className:"login-cabecera"},i.a.createElement("div",{className:"login-imagen-robot"},i.a.createElement("img",{src:o(471),className:"login-robot",alt:"robot"})),i.a.createElement("div",{className:"login-iniciar-sesion"},i.a.createElement("h1",{className:"login-iniciar"},"Iniciar sesi\xf3n en PlayTec Academy"))),i.a.createElement("div",{className:"login-cuerpo"},i.a.createElement(p.b,{to:"/Login"},i.a.createElement("div",{className:"login-izquierda"},i.a.createElement("img",{src:o(472),className:"login-alumno",alt:""}),i.a.createElement("h1",{className:"login-students"},"Alumno"))),i.a.createElement(p.b,{to:"/loginTeacher"},i.a.createElement("div",{className:"login-centro"},i.a.createElement("img",{src:o(473),className:"login-teacher",alt:""}),i.a.createElement("h1",{className:"login-profesora"},"Docente"))),i.a.createElement(p.b,{to:"#"},i.a.createElement("div",{className:"login-derecha"},i.a.createElement("img",{src:o(474),className:"login-house",alt:""}),i.a.createElement("h1",{className:"login-parents"},"Padre/Madre"))))))},Go=(o(475),function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).onChangeHandler=function(e){o.setState({selectedFile:e.target.files[0],nomArch:e.target.files[0].name,loaded:0}),console.log(e.target.files[0].name)},o.onClickHandler=function(){var e=new FormData;e.append("file",o.state.selectedFile),T()({url:"".concat(o.props.apiUrl,"/v1/api/teacher/").concat(o.props.idteacher,"/upload_excel/").concat(o.props.idcourse),method:"POST",responseType:"blob",Accept:"application/vnd.ms-excel",data:e}).then((function(e){console.log(e);var t=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=t,n.setAttribute("download","".concat(o.state.nomArch)),document.body.appendChild(n),n.click()})).catch((function(e){console.log(e)}))},o.state={selectedFile:null,estudiantes:[],nomArch:""},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"file",name:"file",onChange:this.onChangeHandler}),i.a.createElement("button",{type:"button",className:"modal-body__button yes",onClick:this.onClickHandler},"Descargar"))}}]),t}(n.Component));function Vo(e){var t=Object(n.useState)(0),o=Object(O.a)(t,2),s=o[0],a=o[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"teacherCourses__main-menu__addCourse",onClick:function(){return a(1)}},"SIAGIE"),i.a.createElement("div",{id:"modal-general_container",className:0===s?"":1===s?"six":2===s?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:function(){return a(2)}},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement(Go,{students:e.students,apiUrl:e.apiUrl,idteacher:e.idteacher,idcourse:e.idcourse,name_course:e.name_course})),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))))}function Wo(e){var t=Object(n.useState)(0),o=Object(O.a)(t,2),s=o[0],a=o[1],r=function(){return a(2)};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"teacherCourses__main-menu__LogOut",onClick:function(){return a(1)}},"Cerrar sesi\xf3n"),i.a.createElement("div",{id:"modal-general_container",className:0===s?"":1===s?"six":2===s?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:r},i.a.createElement("img",{className:"button-zoom",src:k.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title__controlname"},"\xbfDESEA CERRAR SESI\xd3N?")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement(p.b,{style:{textDecoration:"none"},to:"/"},i.a.createElement("button",{className:"modal-body__button yes",onClick:e.cerrarSesion,variant:"primary"},i.a.createElement("div",{className:"button-zoom"},"SI"))),i.a.createElement("button",{className:"modal-body__button no",onClick:r},i.a.createElement("div",{className:"button-zoom"},"NO")))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))))}var Xo=function(e){function t(){var e,o;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(o=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={token:!1,inputValue:""},o.UNSAFE_componentWillMount=Object(m.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,o.setState({token:t});case 3:case"end":return e.stop()}}),e)}))),o.cerrarSesion=function(){localStorage.clear(),o.setState({token:null})},o.Abrir=function(){document.getElementById("main-nav").classList.toggle("show")},o.onFilesAdded=function(e){o.setState({inputValue:e.value}),o.sendRequest(e.value)},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"sendRequest",value:function(e){var t=this;return new Promise((function(o,n){var i=new XMLHttpRequest;i.upload.addEventListener("progress",(function(o){if(o.lengthComputable){var n=Object(Le.a)({},t.state.uploadProgress);n[e.name]={state:"pending",percentage:o.loaded/o.total*100},t.setState({uploadProgress:n})}})),i.upload.addEventListener("load",(function(n){var s=Object(Le.a)({},t.state.uploadProgress);s[e.name]={state:"done",percentage:100},t.setState({uploadProgress:s,UploadDone:!0,uploading:!1}),o(i.response)})),i.upload.addEventListener("error",(function(o){var s=Object(Le.a)({},t.state.uploadProgress);s[e.name]={state:"error",percentage:0},t.setState({uploadProgress:s}),n(i.response)}));var s=new FormData;s.append("file",e,e.name),s.append("class_name",t.props.class_name),s.append("desc",t.props.desc),console.log(e);var a=localStorage.getItem("token");i.open("POST","".concat(t.props.apiUrl,"/v1/api/teacher/").concat(t.props.idteacher,"/upload_excel/").concat(t.props.idcourse)),i.setRequestHeader("x-access-token","".concat(a)),i.send(s),console.log("asdmasd"),i.onload=function(){i.readyState===i.DONE&&(200===i.status?(console.log(i.response),console.log("bien"),t.props.handleClose(),t.props.cleanInputs(),t.props.handleEnableX(),t.setState({files:[],uploading:!1,uploadProgress:{},successfullUploaded:!1,errorUploaded:!1,slideOn:!1,NoData:!1,UploadDone:!1,limpiarInputFile:!1})):(console.log(i.response),console.log("mal"),t.setState({errorUploaded:!0}),t.props.handleEnableX(),t.setState({successfullUploaded:!1,errorUploaded:!0,uploading:!1,uploadProgress:{},slideOn:!1,NoData:!1,UploadDone:!1,limpiarInputFile:!1})))}}))}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,this.state.token?null:i.a.createElement(d.a,{to:"/"}),this.props.editarTodos?i.a.createElement("div",{className:"teacherCourses__floatingActionButton teacherCourses_editStudent",onClick:this.props.handleEditAllStudentDisable,style:{background:"#52BE7F"}},i.a.createElement("i",{className:"fas fa-save"})):i.a.createElement("div",{className:"teacherCourses__floatingActionButton teacherCourses_editStudent",onClick:this.props.handleEditAllStudentEnable},i.a.createElement("i",{className:"fas fa-edit"})),i.a.createElement("div",{className:"teacherCourses__floatingActionButton teacherCourses_addStudent",onClick:this.props.handleAddStudent},i.a.createElement("i",{className:"fas fa-plus"})),i.a.createElement("header",{className:"teacherCourses__main-header"},i.a.createElement("div",{className:"teacherCourses__l-container teacherCourses__main-header__block"},i.a.createElement(p.b,{to:"/CoursesTeacher/".concat(this.props.idteacher),style:{textDecoration:"none"}},i.a.createElement("img",{src:vo.a,alt:"imgagen de volver atras"})),i.a.createElement("h3",null,"Bienvenido(a) "),i.a.createElement("div",{className:"teacherCourses__main-menu-toggle",id:"main-menu-toggle",onClick:this.Abrir}),i.a.createElement("nav",{className:"teacherCourses__main-nav",id:"main-nav"},i.a.createElement("ul",{className:"teacherCourses__main-menu"},i.a.createElement("li",{className:"teacherCourses__main-menu__item"},i.a.createElement(Vo,{apiUrl:this.props.apiUrl,idteacher:this.props.idteacher,idcourse:this.props.idcourse,students:this.props.students,name_course:this.props.name_course})),i.a.createElement("li",{className:"teacherCourses__main-menu__item"},i.a.createElement(uo,{apiUrl:this.props.apiUrl,idteacher:this.props.idteacher,idcourse:this.props.idcourse,agregarX:"Alumno",getdata:this.props.getdata})),i.a.createElement("li",{className:"teacherCourses__main-menu__item"},i.a.createElement(Wo,{cerrarSesion:this.cerrarSesion})))))))}}]),t}(n.Component),jo=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).UNSAFE_componentWillMount=Object(m.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,o.setState({token:t});case 3:case"end":return e.stop()}}),e)}))),o.handleChange=function(e){console.log("Seleccionaste ".concat(e.target.value))},o.handleChangeInputs=function(e){var t=e.target.name,n=e.target.value;o.setState(Object(X.a)({},t,n)),console.log([t],n)},o.handleSaveStudent=function(e){var t=localStorage.getItem("token");o.setState({editar:!o.state.editar,idMapAlumno:e});var n={name_stu:o.state.name_stu,lastName_stu:o.state.lastName_stu};T()({url:"".concat(o.props.apiUrl,"/v1/api/student/").concat(e,"/"),method:"PUT",headers:{"x-access-token":"".concat(t)},data:n}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),o.getAlumnos()},o.getAlumnos=function(){var e=o.props.match.params,t=localStorage.getItem("token");T()({url:"".concat(o.props.apiUrl,"/v1/api/student/").concat(e.id,"/").concat(e.id_course,"/students"),method:"GET",headers:{"x-access-token":"".concat(t)}}).then((function(e){var t=e.data;console.log(t),t===[]?o.setState({students:[]}):(o.setState({students:t,competenciasAlumnos:t.competences}),console.log(t[0].competences))})).catch((function(e){return console.log(e)}))},o.Abrir=function(){document.getElementById("main-nav").classList.toggle("show")},o.Cerrar=function(){console.log("se tiene que cerrar"),document.getElementById("main-nav").classList.remove("show")},o.setShow=function(){o.setState({showdelete:1})},o.setClose=function(){o.setState({showdelete:2})},o.onClick=function(e){o.setState({idAlumno:e})},o.setDeleteStudent=function(){var e=localStorage.getItem("token");T()({url:"".concat(o.props.apiUrl,"/v1/api/student/").concat(o.state.idAlumno),method:"DELETE",headers:{"x-access-token":"".concat(e)}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),o.getAlumnos(),o.setClose()},o.state={token:!1,id_course:"",id_teacher:"",notaCompe:"",students:[],editar:!1,compentencias:[],competenciasAlumnos:[],showdelete:0,name_stu:"",lastName_stu:"",idAlumno:""},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props,this.props.location.state);var t=this.props.match.params;this.setState({id_course:t.id_course,id_teacher:t.id,compentencias:this.props.location.state}),setTimeout((function(){return console.log("id del curso",e.state.id_course,"id del teacher:",e.state.id_teacher,"listado de als compentencias",e.state.compentencias)}),2e3),this.getAlumnos()}},{key:"handleEditStudent",value:function(){this.setState({editar:!this.state.editar})}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Xo,{apiUrl:this.props.apiUrl,idcourse:this.state.id_course,idteacher:this.state.id_teacher,nombreProfesor:this.state.nombreProfesor,getdata:this.getAlumnos,students:this.state.students,name_course:localStorage.getItem("name_course")}),i.a.createElement("div",{className:"CourseDetail__Container",onClick:this.Cerrar},i.a.createElement("div",null,i.a.createElement("h1",{className:"CourseDetail__title"},"Lista de alumnos")),i.a.createElement("table",{className:"CourseDetail__table"},i.a.createElement("thead",null,i.a.createElement("tr",{className:"CourseDetail__table-tr"},i.a.createElement("th",{className:"CourseDetail__table-th"},"Codigo"),i.a.createElement("th",{className:"CourseDetail__table-th"},"Apellidos"),i.a.createElement("th",{className:"CourseDetail__table-th"},"Nombres"),this.state.compentencias.map((function(e,t){return i.a.createElement("th",{key:t,className:"CourseDetail__table-th"},e)})),i.a.createElement("th",{className:"CourseDetail__table-th"},"Editar"),i.a.createElement("th",{className:"CourseDetail__table-th"},"Eliminar"))),i.a.createElement("tbody",{className:"CourseDetail__table-body"},this.state.students.map((function(t,o){return i.a.createElement("tr",{className:"CourseDetail__table-tr",key:t._id},i.a.createElement("td",{className:"CourseDetail__table-td","data-th":"Codigo"},t.randonCode),i.a.createElement("td",{className:"CourseDetail__table-td","data-th":"Apellidos"},e.state.editar?i.a.createElement("input",{type:"text",name:"lastName_stu",defaultValue:t.lastName_stu,onChange:e.handleChangeInputs}):t.lastName_stu),i.a.createElement("td",{className:"CourseDetail__table-td","data-th":"Nombres"},e.state.editar?i.a.createElement("input",{type:"text",name:"name_stu",defaultValue:t.name_stu,onChange:e.handleChangeInputs}):t.name_stu),t.competences.map((function(e,t){return i.a.createElement("td",{key:t,className:"CourseDetail__table-td","data-th":"Competencia d"},e.nota)})),i.a.createElement("td",{className:"CourseDetail__table-td","data-th":"Editar"},e.state.editar?i.a.createElement("button",{className:"courseTeacher__button-alumno",onClick:function(){return e.handleSaveStudent(t._id)}},i.a.createElement("i",{className:"courseTeacher__img fas fa-save"})):i.a.createElement("button",{className:"courseTeacher__button-alumno",onClick:function(){return e.handleEditStudent()}},i.a.createElement("i",{className:"courseTeacher__img fas fa-edit"}))),i.a.createElement("td",{className:"CourseDetail__table-td","data-th":"Eliminar"},i.a.createElement("button",{className:"courseTeacher__button-delette",onClick:function(){return e.onClick(t._id)+e.setShow("show")}},i.a.createElement("i",{className:"courseTeacher__img fas fa-trash"}))))}))))),i.a.createElement("div",{id:"modal-general_container",className:0===this.state.showdelete?"":1===this.state.showdelete?"six":2===this.state.showdelete?"six out":""},i.a.createElement("div",{className:"modal-general_background"},i.a.createElement("div",{className:"modal-general_bg_content"},i.a.createElement("button",{className:"modal-general_close",onClick:this.setClose},i.a.createElement("img",{className:"button-zoom",src:oe.a,alt:"imagen de cerrar modal"})),i.a.createElement("div",{className:"modal-general_container"},i.a.createElement("div",{className:"modal-general_container_header"},i.a.createElement("span",{className:"modal-title"},"\xbfDESEA ELIMINAR AL ALUMNO?")),i.a.createElement("div",{className:"modal-general_container_body"},i.a.createElement("button",{className:"modal-body__button yes",onClick:this.setDeleteStudent,type:"button"},i.a.createElement("div",{className:"button-zoom"},"SI")),i.a.createElement("button",{className:"modal-body__button no",onClick:this.setClose,type:"button"},i.a.createElement("div",{className:"button-zoom"},"NO")))),i.a.createElement("svg",{className:"modal-general_svg",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},i.a.createElement("rect",{x:"0",y:"0",fill:"none",rx:"3",ry:"3"}))))))}}]),t}(n.Component),Yo=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,i=t.value;o.setState(Object(X.a)({},n,i))},o.handleSubmit=function(e){e.preventDefault(),console.log("apiURl: "+o.props.apiUrl);var t={name_stu:o.state.name_student,lastName_stu:o.state.last_student,id_teach:o.state.id_teacher,id_course:o.state.id_course},n={name_stu:o.state.name_student,lastName_stu:o.state.last_student,randonCode:o.state.codigoSecreto};!0===o.state.hasStudents?(console.log(n),T()({url:"".concat(o.props.apiUrl,"/verify_student_code"),data:n,method:"post"}).then((function(e){if(console.log(e),!0===e.data.exist){var t={state:"active",id_stud:e.data.id_stud};T()({url:"".concat(o.props.apiUrl,"/v1/api/student/change_state"),data:t,method:"post"}).then((function(t){console.log(t),o.setState({redirection:!0,idStudent:e.data.id_stud})})).catch((function(e){return console.log(e)})),localStorage.setItem("token",e.data.token),localStorage.setItem("alumId",e.data.id_stud)}else console.log("fallo la verificacion de alumno")})).catch((function(e){return console.log(e)}))):T()({url:"".concat(o.props.apiUrl,"/v1/api/student"),data:t,method:"post"}).then((function(e){console.log(e);var t={state:"active",id_stud:e.data.idStu};T()({url:"".concat(o.props.apiUrl,"/v1/api/student/change_state"),data:t,method:"post"}).then((function(t){console.log(t),o.setState({redirection:!0,idStudent:e.data.idStu})})).catch((function(e){return console.log(e)})),localStorage.setItem("token",e.data.token),localStorage.setItem("alumId",e.data.idStu)})).catch((function(e){return console.log(e)}))},o.state={name_student:"",last_student:"",id_access:"",redirection:!1,idStudent:"",id_teacher:"",id_course:"",codigoSecreto:"",hasStudents:!1},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.location.state),console.log(this.props.apiUrl);var e=this.props.match.params.id_access;this.setState({id_access:e,id_teacher:this.props.location.state.id_teacher,id_course:this.props.location.state.id_course,hasStudents:this.props.location.state.hasStudents})}},{key:"render",value:function(){var e=this.state,t=e.name_student,o=e.last_student,n=e.codigoSecreto,s=e.hasStudents;return i.a.createElement("div",{className:"limiter"},this.state.redirection?i.a.createElement(d.a,{to:"/student/".concat(this.state.idStudent,"/").concat(this.state.id_access)}):null,i.a.createElement("div",{className:"container-login100"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"wrap-login100"},i.a.createElement("span",{className:"login100-form-title p-b-26"},"INGRESO A LA CLASE"),i.a.createElement("span",{className:"login100-form-title"},i.a.createElement("img",{src:Uo.a,alt:"robot",className:"login-imagen-robot-student"})),i.a.createElement("div",{className:"wrap-input100 validate-input"},i.a.createElement("input",{className:"input100",autoComplete:"off",placeholder:"Nombres",type:"text",onChange:this.handleChange,name:"name_student",value:t,required:!0}),i.a.createElement("span",{className:"focus-input100"})),i.a.createElement("div",{className:"wrap-input100 validate-input"},i.a.createElement("input",{className:"input100",autoComplete:"off",placeholder:"Apellidos",type:"text",onChange:this.handleChange,name:"last_student",value:o,required:!0}),i.a.createElement("span",{className:"focus-input100"})),s?i.a.createElement("div",{className:"wrap-input100 validate-input"},i.a.createElement("input",{className:"input100",autoComplete:"off",placeholder:"Codigo Secreto",type:"password",onChange:this.handleChange,name:"codigoSecreto",value:n,required:!0}),i.a.createElement("span",{className:"focus-input100"})):null,i.a.createElement("div",{className:"container-login100-form-btn"},i.a.createElement("div",{className:"wrap-login100-form-btn"},i.a.createElement("div",{className:"login100-form-bgbtn"}),i.a.createElement("button",{type:"submit",className:"login100-form-btn"},"Ingresar")))))))}}]),t}(n.Component),zo=function(e){function t(e){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,i=t.value;console.log(i),o.setState(Object(X.a)({},n,i))},o.handleSubmit=function(e){console.log(o.props.apiUrl);var t=localStorage.getItem("token");e.preventDefault();var n={name_stu:o.state.name_student,lastName_stu:o.state.last_student,id_access:o.state.id_access};T()({url:"".concat(o.props.apiUrl,"/signin_student"),data:n,method:"post",headers:{"x-access-token":"".concat(t)}}).then((function(e){console.log(e);var t={state:"active",id_stud:e.data.idStu};T()({url:"".concat(o.props.apiUrl,"/v1/api/student/change_state"),data:t,method:"post"}).then((function(t){console.log(t),o.setState({redirection:!0,idStudent:e.data.idStu})})).catch((function(e){return console.log(e)})),localStorage.setItem("token",e.data.token),localStorage.setItem("alumId",e.data.idStu)})).catch((function(e){return console.log(e)}))},o.state={name_student:"",last_student:"",id_access:"",redirection:!1,idStudent:""},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.apiUrl);var e=this.props.match.params.id_access;this.setState({id_access:e})}},{key:"render",value:function(){var e=this.state,t=e.name_student,o=e.last_student;return i.a.createElement("div",{className:"limiter"},this.state.redirection?i.a.createElement(d.a,{to:"/student/".concat(this.state.idStudent,"/").concat(this.state.id_access)}):null,i.a.createElement("div",{className:"container-login100"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"wrap-login100"},i.a.createElement("span",{className:"login100-form-title p-b-26"},"INGRESO A LA CLASE"),i.a.createElement("span",{className:"login100-form-title"},i.a.createElement("img",{src:Uo.a,alt:"robot",className:"login-imagen-robot-student"})),i.a.createElement("div",{className:"wrap-input100 validate-input"},i.a.createElement("input",{className:"input100",autoComplete:"off",placeholder:"Nombres",type:"text",onChange:this.handleChange,name:"name_student",value:t,required:!0}),i.a.createElement("span",{className:"focus-input100"})),i.a.createElement("div",{className:"wrap-input100 validate-input"},i.a.createElement("input",{className:"input100",autoComplete:"off",placeholder:"Apellidos",type:"text",onChange:this.handleChange,name:"last_student",value:o,required:!0}),i.a.createElement("span",{className:"focus-input100"})),i.a.createElement("div",{className:"container-login100-form-btn"},i.a.createElement("div",{className:"wrap-login100-form-btn"},i.a.createElement("div",{className:"login100-form-bgbtn"}),i.a.createElement("button",{type:"submit",className:"login100-form-btn"},"Ingresar")))))))}}]),t}(n.Component),Ko=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,"terminos y condiciones")}}]),t}(n.Component),qo=function(e){function t(){var e,o;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(o=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={apiUrl:"https://back.playtecedu.com"},o}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(p.a,null,i.a.createElement(d.d,null,i.a.createElement(d.b,{exact:!0,path:"/",component:Ho}),i.a.createElement(d.b,{exact:!0,path:"/terminos-condiciones",component:Ko}),i.a.createElement(d.b,{exact:!0,path:"/Login",component:function(){return i.a.createElement(Po,{apiUrl:e.state.apiUrl})}}),i.a.createElement(d.b,{exact:!0,path:"/:id/course_detail/:id_course",component:function(t){return i.a.createElement(jo,Object.assign({},t,{apiUrl:e.state.apiUrl}))}}),i.a.createElement(d.b,{exact:!0,path:"/loginTeacher",component:function(){return i.a.createElement(Do,{apiUrl:e.state.apiUrl})}}),i.a.createElement(d.b,{exact:!0,path:"/CoursesTeacher/:id",component:function(t){return i.a.createElement(go,Object.assign({},t,{apiUrl:e.state.apiUrl}))}}),i.a.createElement(d.b,{exact:!0,path:"/:id_teacher/ClassTeacher/:_id",component:function(t){return i.a.createElement(Eo,Object.assign({},t,{apiUrl:e.state.apiUrl}))}}),i.a.createElement(d.b,{exact:!0,path:"/ClassDetailTeacher/:id",component:function(t){return i.a.createElement(So,Object.assign({},t,{apiUrl:e.state.apiUrl}))}}),i.a.createElement(d.b,{path:"/teacher/:id_class/:id_access",component:function(t){return i.a.createElement(Lt,Object.assign({},t,{apiUrl:e.state.apiUrl}))}}),i.a.createElement(d.b,{path:"/student/:id_student/:id_access",component:function(t){return i.a.createElement(eo,Object.assign({},t,{apiUrl:e.state.apiUrl}))}}),i.a.createElement(d.b,{exact:!0,path:"/notfound",component:Ce}),i.a.createElement(d.b,{exact:!0,path:"/loginStudent/:id_access",component:function(t){return i.a.createElement(Fo,Object.assign({},t,{apiUrl:e.state.apiUrl}))}}),i.a.createElement(d.b,{exact:!0,path:"/loginStudentSchool/:id_access",component:function(t){return i.a.createElement(Yo,Object.assign({},t,{apiUrl:e.state.apiUrl}))}}),i.a.createElement(d.b,{exact:!0,path:"/loginStudentPrivate/:id_access",component:function(t){return i.a.createElement(zo,Object.assign({},t,{apiUrl:e.state.apiUrl}))}}),i.a.createElement(d.b,{component:Ce})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(i.a.createElement(qo,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,o){e.exports=o.p+"static/media/playtecrobot.08f6d471.gif"},71:function(e,t,o){var n,i,s;i=[o(17)],void 0===(s="function"===typeof(n=function(e){"use strict";return e.Arduino=new e.Generator("Arduino"),e.Arduino.addReservedWords("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan"),e.Arduino.ORDER_ATOMIC=0,e.Arduino.ORDER_NEW=1.1,e.Arduino.ORDER_MEMBER=1.2,e.Arduino.ORDER_FUNCTION_CALL=2,e.Arduino.ORDER_INCREMENT=3,e.Arduino.ORDER_DECREMENT=3,e.Arduino.ORDER_BITWISE_NOT=4.1,e.Arduino.ORDER_UNARY_PLUS=4.2,e.Arduino.ORDER_UNARY_NEGATION=4.3,e.Arduino.ORDER_LOGICAL_NOT=4.4,e.Arduino.ORDER_TYPEOF=4.5,e.Arduino.ORDER_VOID=4.6,e.Arduino.ORDER_DELETE=4.7,e.Arduino.ORDER_AWAIT=4.8,e.Arduino.ORDER_EXPONENTIATION=5,e.Arduino.ORDER_MULTIPLICATION=5.1,e.Arduino.ORDER_DIVISION=5.2,e.Arduino.ORDER_MODULUS=5.3,e.Arduino.ORDER_SUBTRACTION=6.1,e.Arduino.ORDER_ADDITION=6.2,e.Arduino.ORDER_BITWISE_SHIFT=7,e.Arduino.ORDER_RELATIONAL=8,e.Arduino.ORDER_IN=8,e.Arduino.ORDER_INSTANCEOF=8,e.Arduino.ORDER_EQUALITY=9,e.Arduino.ORDER_BITWISE_AND=10,e.Arduino.ORDER_BITWISE_XOR=11,e.Arduino.ORDER_BITWISE_OR=12,e.Arduino.ORDER_LOGICAL_AND=13,e.Arduino.ORDER_LOGICAL_OR=14,e.Arduino.ORDER_CONDITIONAL=15,e.Arduino.ORDER_ASSIGNMENT=16,e.Arduino.ORDER_YIELD=17,e.Arduino.ORDER_COMMA=18,e.Arduino.ORDER_NONE=99,e.Arduino.ORDER_OVERRIDES=[[e.Arduino.ORDER_FUNCTION_CALL,e.Arduino.ORDER_MEMBER],[e.Arduino.ORDER_FUNCTION_CALL,e.Arduino.ORDER_FUNCTION_CALL],[e.Arduino.ORDER_MEMBER,e.Arduino.ORDER_MEMBER],[e.Arduino.ORDER_MEMBER,e.Arduino.ORDER_FUNCTION_CALL],[e.Arduino.ORDER_LOGICAL_NOT,e.Arduino.ORDER_LOGICAL_NOT],[e.Arduino.ORDER_MULTIPLICATION,e.Arduino.ORDER_MULTIPLICATION],[e.Arduino.ORDER_ADDITION,e.Arduino.ORDER_ADDITION],[e.Arduino.ORDER_LOGICAL_AND,e.Arduino.ORDER_LOGICAL_AND],[e.Arduino.ORDER_LOGICAL_OR,e.Arduino.ORDER_LOGICAL_OR]],e.Arduino.init=function(t){e.Arduino.definitions_=Object.create(null),e.Arduino.functionNames_=Object.create(null),e.Arduino.variableDB_?e.Arduino.variableDB_.reset():e.Arduino.variableDB_=new e.Names(e.Arduino.RESERVED_WORDS_),e.Arduino.variableDB_.setVariableMap(t.getVariableMap());for(var o=[],n=e.Variables.allDeveloperVariables(t),i=0;i<n.length;i++)o.push(e.Arduino.variableDB_.getName(n[i],e.Names.DEVELOPER_VARIABLE_TYPE));for(t=e.Variables.allUsedVarModels(t),i=0;i<t.length;i++)o.push(e.Arduino.variableDB_.getName(t[i].getId(),e.Variables.NAME_TYPE));o.length&&(e.Arduino.definitions_.variables="var "+o.join(", ")+";")},e.Arduino.finish=function(t){t="void loop() \n{\n"+(t=(t="  "+t.replace(/\n/g,"\n")).replace(/\n\s+$/,"\n"))+"\n}";var o=[],n=[];for(s in e.Arduino.definitions_){var i=e.Arduino.definitions_[s];i.match(/^#include/)?o.push(i):n.push(i)}for(s in i=[],e.Arduino.setups_)i.push(e.Arduino.setups_[s]);var s=new Date((new Date).getTime());return"/*\n * C\xf3digo generado usando PlayTecDuino\n */\n\n"+(o=(o=o.join("\n")+"\n\n"+n.join("\n")+"\n\nvoid setup() \n{\n  "+i.join("\n  ")+"\n}\n\n").replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+t)},e.Arduino.scrubNakedValue=function(e){return e+";\n"},e.Arduino.quote_=function(e){return"'"+(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},e.Arduino.multiline_quote_=function(t){return t.split(/\n/g).map(e.Arduino.quote_).join(" + '\\n' +\n")},e.Arduino.scrub_=function(t,o,n){var i="";if(!t.outputConnection||!t.outputConnection.targetConnection){var s=t.getCommentText();s&&(s=e.utils.string.wrap(s,e.Arduino.COMMENT_WRAP-3),i+=e.Arduino.prefixLines(s+"\n","// "));for(var a=0;a<t.inputList.length;a++)t.inputList[a].type==e.INPUT_VALUE&&(s=t.inputList[a].connection.targetBlock())&&(s=e.Arduino.allNestedComments(s))&&(i+=e.Arduino.prefixLines(s,"// "))}return t=t.nextConnection&&t.nextConnection.targetBlock(),i+o+(n=n?"":e.Arduino.blockToCode(t))},e.Arduino.getAdjusted=function(t,o,n,i,s){n=n||0,s=s||e.Arduino.ORDER_NONE,t.workspace.options.oneBasedIndex&&n--;var a=t.workspace.options.oneBasedIndex?"1":"0";if(t=0<n?e.Arduino.valueToCode(t,o,e.Arduino.ORDER_ADDITION)||a:0>n?e.Arduino.valueToCode(t,o,e.Arduino.ORDER_SUBTRACTION)||a:i?e.Arduino.valueToCode(t,o,e.Arduino.ORDER_UNARY_NEGATION)||a:e.Arduino.valueToCode(t,o,s)||a,e.isNumber(t))t=Number(t)+n,i&&(t=-t);else{if(0<n){t=t+" + "+n;var r=e.Arduino.ORDER_ADDITION}else 0>n&&(t=t+" - "+-n,r=e.Arduino.ORDER_SUBTRACTION);i&&(t=n?"-("+t+")":"-"+t,r=e.Arduino.ORDER_UNARY_NEGATION),r=Math.floor(r),s=Math.floor(s),r&&s>=r&&(t="("+t+")")}return t},e.Arduino.colour={},e.Arduino.colour_picker=function(t){return[e.Arduino.quote_(t.getFieldValue("COLOUR")),e.Arduino.ORDER_ATOMIC]},e.Arduino.colour_random=function(t){return[e.Arduino.provideFunction_("colourRandom",["function "+e.Arduino.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",e.Arduino.ORDER_FUNCTION_CALL]},e.Arduino.colour_rgb=function(t){var o=e.Arduino.valueToCode(t,"RED",e.Arduino.ORDER_COMMA)||0,n=e.Arduino.valueToCode(t,"GREEN",e.Arduino.ORDER_COMMA)||0;return t=e.Arduino.valueToCode(t,"BLUE",e.Arduino.ORDER_COMMA)||0,[e.Arduino.provideFunction_("colourRgb",["function "+e.Arduino.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+o+", "+n+", "+t+")",e.Arduino.ORDER_FUNCTION_CALL]},e.Arduino.colour_blend=function(t){var o=e.Arduino.valueToCode(t,"COLOUR1",e.Arduino.ORDER_COMMA)||"'#000000'",n=e.Arduino.valueToCode(t,"COLOUR2",e.Arduino.ORDER_COMMA)||"'#000000'";return t=e.Arduino.valueToCode(t,"RATIO",e.Arduino.ORDER_COMMA)||.5,[e.Arduino.provideFunction_("colourBlend",["function "+e.Arduino.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+o+", "+n+", "+t+")",e.Arduino.ORDER_FUNCTION_CALL]},e.Arduino.logic={},e.Arduino.react_controls_if=function(t){var o=0,n="";e.Arduino.STATEMENT_PREFIX&&(n+=e.Arduino.injectId(e.Arduino.STATEMENT_PREFIX,t));do{var i=e.Arduino.valueToCode(t,"IF"+o,e.Arduino.ORDER_NONE)||"false",s=e.Arduino.statementToCode(t,"DO"+o);e.Arduino.STATEMENT_SUFFIX&&(s=e.Arduino.prefixLines(e.Arduino.injectId(e.Arduino.STATEMENT_SUFFIX,t),e.Arduino.INDENT)+s),n+=(0<o?" else ":"")+"if ("+i+") {\n"+s+"}",++o}while(t.getInput("IF"+o));return(t.getInput("ELSE")||e.Arduino.STATEMENT_SUFFIX)&&(s=e.Arduino.statementToCode(t,"ELSE"),e.Arduino.STATEMENT_SUFFIX&&(s=e.Arduino.prefixLines(e.Arduino.injectId(e.Arduino.STATEMENT_SUFFIX,t),e.Arduino.INDENT)+s),n+=" else {\n"+s+"}"),n+"\n"},e.Arduino.controls_ifelse=e.Arduino.controls_if,e.Arduino.react_logic_compare=function(t){var o={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[t.getFieldValue("OP")],n="=="==o||"!="==o?e.Arduino.ORDER_EQUALITY:e.Arduino.ORDER_RELATIONAL;return[(e.Arduino.valueToCode(t,"A",n)||"0")+" "+o+" "+(t=e.Arduino.valueToCode(t,"B",n)||"0"),n]},e.Arduino.react_logic_operation=function(t){var o="AND"==t.getFieldValue("OP")?"&&":"||",n="&&"==o?e.Arduino.ORDER_LOGICAL_AND:e.Arduino.ORDER_LOGICAL_OR,i=e.Arduino.valueToCode(t,"A",n);if(t=e.Arduino.valueToCode(t,"B",n),i||t){var s="&&"==o?"true":"false";i||(i=s),t||(t=s)}else t=i="false";return[i+" "+o+" "+t,n]},e.Arduino.react_logic_negate=function(t){var o=e.Arduino.ORDER_LOGICAL_NOT;return["!"+(e.Arduino.valueToCode(t,"BOOL",o)||"true"),o]},e.Arduino.react_logic_boolean=function(t){return["TRUE"==t.getFieldValue("BOOL")?"true":"false",e.Arduino.ORDER_ATOMIC]},e.Arduino.loops={},e.Arduino.react_controls_repeat=function(t){var o=t.getField("TIMES")?String(Number(t.getFieldValue("TIMES"))):e.Arduino.valueToCode(t,"TIMES",e.Arduino.ORDER_ASSIGNMENT)||"0",n=e.Arduino.statementToCode(t,"DO");n=e.Arduino.addLoopTrap(n,t),t="";var i=e.Arduino.variableDB_.getDistinctName("count",e.Variables.NAME_TYPE),s=o;return o.match(/^\w+$/)||e.isNumber(o)||(t+="var "+(s=e.Arduino.variableDB_.getDistinctName("repeat_end",e.Variables.NAME_TYPE))+" = "+o+";\n"),t+"for (var "+i+" = 0; "+i+" < "+s+"; "+i+"++) {\n"+n+"}\n"},e.Arduino.react_controls_while=function(t){var o=e.Arduino.valueToCode(t,"BOOL",e.Arduino.ORDER_NONE)||"false",n=e.Arduino.statementToCode(t,"DO");return"while ("+o+") {\n"+(n=e.Arduino.addLoopTrap(n,t.id))+"}\n"},e.Arduino.react_controls_for=function(){var t=e.Arduino.variableDB_.getName(this.getFieldValue("VAR"),e.Variables.NAME_TYPE),o=e.Arduino.valueToCode(this,"FROM",e.Arduino.ORDER_ASSIGNMENT)||"0",n=e.Arduino.valueToCode(this,"TO",e.Arduino.ORDER_ASSIGNMENT)||"0",i=e.Arduino.statementToCode(this,"DO");if(e.Arduino.INFINITE_LOOP_TRAP&&(i=e.Arduino.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+this.id+"'")+i),o.match(/^-?\d+(\.\d+)?$/)&&n.match(/^-?\d+(\.\d+)?$/)){var s=parseFloat(o)<=parseFloat(n);i="for ("+t+" = "+o+"; "+t+(s?" <= ":" >= ")+n+"; "+t+(s?"++":"--")+") {\n"+i+"}\n"}else i="",s=o,o.match(/^\w+$/)||o.match(/^-?\d+(\.\d+)?$/)||(i+="int "+(s=e.Arduino.variableDB_.getDistinctName(t+"_start",e.Variables.NAME_TYPE))+" = "+o+";\n"),o=n,n.match(/^\w+$/)||n.match(/^-?\d+(\.\d+)?$/)||(i+="int "+(o=e.Arduino.variableDB_.getDistinctName(t+"_end",e.Variables.NAME_TYPE))+" = "+n+";\n"),i+="for ("+t+" = "+s+";\n    ("+s+" <= "+o+") ? "+t+" <= "+o+" : "+t+" >= "+o+";\n    "+t+" += ("+s+" <= "+o+") ? 1 : -1) {\n"+branch0+"}\n";return i},e.Arduino.react_controls_flow_statements=function(e){switch(e.getFieldValue("FLOW")){case"BREAK":return"break;\n";case"CONTINUE":return"continue;\n"}throw"Unknown flow statement."},e.Arduino.math={},e.Arduino.react_math_number=function(t){return[t=Number(t.getFieldValue("NUM")),0<=t?e.Arduino.ORDER_ATOMIC:e.Arduino.ORDER_UNARY_NEGATION]},e.Arduino.react_cast_number=function(){return[this.getFieldValue("TYPE")+" "+(e.Arduino.valueToCode(this,"NUM",e.Arduino.ORDER_ATOMIC)||"0"),e.Arduino.ORDER_ATOMIC]},e.Arduino.react_math_arithmetic=function(t){var o={ADD:[" + ",e.Arduino.ORDER_ADDITION],MINUS:[" - ",e.Arduino.ORDER_SUBTRACTION],MULTIPLY:[" * ",e.Arduino.ORDER_MULTIPLICATION],DIVIDE:[" / ",e.Arduino.ORDER_DIVISION],POWER:[null,e.Arduino.ORDER_COMMA]}[t.getFieldValue("OP")],n=o[0];o=o[1];var i=e.Arduino.valueToCode(t,"A",o)||"0";return t=e.Arduino.valueToCode(t,"B",o)||"0",n?[i+n+t,o]:["Math.pow("+i+", "+t+")",e.Arduino.ORDER_FUNCTION_CALL]},e.Arduino.react_math_single=function(t){var o=t.getFieldValue("OP");if("NEG"==o)return"-"==(t=e.Arduino.valueToCode(t,"NUM",e.Arduino.ORDER_UNARY_NEGATION)||"0")[0]&&(t=" "+t),["-"+t,e.Arduino.ORDER_UNARY_NEGATION];switch(t="SIN"==o||"COS"==o||"TAN"==o?e.Arduino.valueToCode(t,"NUM",e.Arduino.ORDER_DIVISION)||"0":e.Arduino.valueToCode(t,"NUM",e.Arduino.ORDER_NONE)||"0",o){case"ABS":var n="Math.abs("+t+")";break;case"ROOT":n="Math.sqrt("+t+")";break;case"LN":n="Math.log("+t+")";break;case"EXP":n="Math.exp("+t+")";break;case"POW10":n="Math.pow(10,"+t+")";break;case"ROUND":n="Math.round("+t+")";break;case"ROUNDUP":n="Math.ceil("+t+")";break;case"ROUNDDOWN":n="Math.floor("+t+")";break;case"SIN":n="Math.sin("+t+" / 180 * Math.PI)";break;case"COS":n="Math.cos("+t+" / 180 * Math.PI)";break;case"TAN":n="Math.tan("+t+" / 180 * Math.PI)"}if(n)return[n,e.Arduino.ORDER_FUNCTION_CALL];switch(o){case"LOG10":n="Math.log("+t+") / Math.log(10)";break;case"ASIN":n="Math.asin("+t+") / Math.PI * 180";break;case"ACOS":n="Math.acos("+t+") / Math.PI * 180";break;case"ATAN":n="Math.atan("+t+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+o)}return[n,e.Arduino.ORDER_DIVISION]},e.Arduino.react_math_constrain=function(t){return["constrain("+(e.Arduino.valueToCode(t,"VALUE",e.Arduino.ORDER_NONE)||"0")+", "+(e.Arduino.valueToCode(t,"LOW",e.Arduino.ORDER_NONE)||"0")+","+(t=e.Arduino.valueToCode(t,"HIGH",e.Arduino.ORDER_NONE)||"255")+")",e.Arduino.ORDER_NONE]},e.Arduino.react_math_pow=function(t){return["pow("+(e.Arduino.valueToCode(t,"pow",e.Arduino.ORDER_NONE)||"0")+", "+(e.Arduino.valueToCode(t,"exp",e.Arduino.ORDER_NONE)||"0")+")",e.Arduino.ORDER_NONE]},e.Arduino.react_math_random_max_min=function(t){var o=e.Arduino.valueToCode(t,"MAX",e.Arduino.ORDER_ATOMIC)||"1";return[0<(t=e.Arduino.valueToCode(t,"MIN",e.Arduino.ORDER_ATOMIC)||"0")?"random("+t+", "+o+")":"random("+o+")",e.Arduino.ORDER_NONE]},e.Arduino.react_text={},e.Arduino.quote_=function(e){return"'"+(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},e.Arduino.quote2=function(e){return'"'+(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/\$/g,"\\$").replace(/'/g,"\\'"))+'"'},e.Arduino.react_text=function(){return[e.Arduino.quote2(this.getFieldValue("TEXT")),e.Arduino.ORDER_ATOMIC]},e.Arduino.react_textapos=function(){return[e.Arduino.quote_(this.getFieldValue("TEXT")),e.Arduino.ORDER_ATOMIC]},e.Arduino.react_comment_out=function(){return"/*\n"+e.Arduino.statementToCode(this,"CONTENT")+"\n*/\n"},e.Arduino.react_setup=function(){var t=e.Arduino.statementToCode(this,"CONTENT");return t=t.replace(/(^\s+)|(\s+$)/g,""),e.Arduino.setups_=t,""},e.Arduino.variablesDynamic={},e.Arduino.variables_get_dynamic=e.Arduino.variables_get,e.Arduino.variables_set_dynamic=e.Arduino.variables_set,e.Arduino})?n.apply(t,i):n)||(e.exports=s)},74:function(e,t,o){(function(o){var n,i,s;i=[],void 0===(s="function"===typeof(n=function(){"use strict";var e={};return e.Blocks=Object.create(null),e.utils={},e.utils.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof o?o:this}(),e.Msg={},e.utils.global.Blockly||(e.utils.global.Blockly={}),e.utils.global.Blockly.Msg||(e.utils.global.Blockly.Msg=e.Msg),e.utils.Coordinate=function(e,t){this.x=e,this.y=t},e.utils.Coordinate.equals=function(e,t){return e==t||!(!e||!t)&&e.x==t.x&&e.y==t.y},e.utils.Coordinate.distance=function(e,t){var o=e.x-t.x,n=e.y-t.y;return Math.sqrt(o*o+n*n)},e.utils.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.utils.Coordinate.difference=function(t,o){return new e.utils.Coordinate(t.x-o.x,t.y-o.y)},e.utils.Coordinate.sum=function(t,o){return new e.utils.Coordinate(t.x+o.x,t.y+o.y)},e.utils.Coordinate.prototype.scale=function(e){return this.x*=e,this.y*=e,this},e.utils.Coordinate.prototype.translate=function(e,t){return this.x+=e,this.y+=t,this},e.utils.string={},e.utils.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},e.utils.string.shortestStringLength=function(e){return e.length?e.reduce((function(e,t){return e.length<t.length?e:t})).length:0},e.utils.string.commonWordPrefix=function(t,o){if(!t.length)return 0;if(1==t.length)return t[0].length;for(var n=0,i=o||e.utils.string.shortestStringLength(t),s=0;s<i;s++){for(var a=t[0][s],r=1;r<t.length;r++)if(a!=t[r][s])return n;" "==a&&(n=s+1)}for(r=1;r<t.length;r++)if((a=t[r][s])&&" "!=a)return n;return i},e.utils.string.commonWordSuffix=function(t,o){if(!t.length)return 0;if(1==t.length)return t[0].length;for(var n=0,i=o||e.utils.string.shortestStringLength(t),s=0;s<i;s++){for(var a=t[0].substr(-s-1,1),r=1;r<t.length;r++)if(a!=t[r].substr(-s-1,1))return n;" "==a&&(n=s+1)}for(r=1;r<t.length;r++)if((a=t[r].charAt(t[r].length-s-1))&&" "!=a)return n;return i},e.utils.string.wrap=function(t,o){for(var n=t.split("\n"),i=0;i<n.length;i++)n[i]=e.utils.string.wrapLine_(n[i],o);return n.join("\n")},e.utils.string.wrapLine_=function(t,o){if(t.length<=o)return t;for(var n=t.trim().split(/\s+/),i=0;i<n.length;i++)n[i].length>o&&(o=n[i].length);i=-1/0;var s=1;do{var a=i,r=t,l=[],c=n.length/s,u=1;for(i=0;i<n.length-1;i++)u<(i+1.5)/c?(u++,l[i]=!0):l[i]=!1;l=e.utils.string.wrapMutate_(n,l,o),i=e.utils.string.wrapScore_(n,l,o),t=e.utils.string.wrapToText_(n,l),s++}while(i>a);return r},e.utils.string.wrapScore_=function(e,t,o){for(var n=[0],i=[],s=0;s<e.length;s++)n[n.length-1]+=e[s].length,!0===t[s]?(n.push(0),i.push(e[s].charAt(e[s].length-1))):!1===t[s]&&n[n.length-1]++;for(e=Math.max.apply(Math,n),s=t=0;s<n.length;s++)t-=2*Math.pow(Math.abs(o-n[s]),1.5),t-=Math.pow(e-n[s],1.5),-1!=".?!".indexOf(i[s])?t+=o/3:-1!=",;)]}".indexOf(i[s])&&(t+=o/4);return 1<n.length&&n[n.length-1]<=n[n.length-2]&&(t+=.5),t},e.utils.string.wrapMutate_=function(t,o,n){for(var i,s=e.utils.string.wrapScore_(t,o,n),a=0;a<o.length-1;a++)if(o[a]!=o[a+1]){var r=[].concat(o);r[a]=!r[a],r[a+1]=!r[a+1];var l=e.utils.string.wrapScore_(t,r,n);l>s&&(s=l,i=r)}return i?e.utils.string.wrapMutate_(t,i,n):o},e.utils.string.wrapToText_=function(e,t){for(var o=[],n=0;n<e.length;n++)o.push(e[n]),void 0!==t[n]&&o.push(t[n]?"\n":" ");return o.join("")},e.utils.Size=function(e,t){this.width=e,this.height=t},e.utils.Size.equals=function(e,t){return e==t||!(!e||!t)&&e.width==t.width&&e.height==t.height},e.utils.style={},e.utils.style.getSize=function(t){if("none"!=e.utils.style.getStyle_(t,"display"))return e.utils.style.getSizeWithDisplay_(t);var o=t.style,n=o.display,i=o.visibility,s=o.position;o.visibility="hidden",o.position="absolute",o.display="inline";var a=t.offsetWidth;return t=t.offsetHeight,o.display=n,o.position=s,o.visibility=i,new e.utils.Size(a,t)},e.utils.style.getSizeWithDisplay_=function(t){return new e.utils.Size(t.offsetWidth,t.offsetHeight)},e.utils.style.getStyle_=function(t,o){return e.utils.style.getComputedStyle(t,o)||e.utils.style.getCascadedStyle(t,o)||t.style&&t.style[o]},e.utils.style.getComputedStyle=function(e,t){if(document.defaultView&&document.defaultView.getComputedStyle){var o=document.defaultView.getComputedStyle(e,null);if(o)return o[t]||o.getPropertyValue(t)||""}return""},e.utils.style.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},e.utils.style.getPageOffset=function(t){var o=new e.utils.Coordinate(0,0);t=t.getBoundingClientRect();var n=document.documentElement;return n=new e.utils.Coordinate(window.pageXOffset||n.scrollLeft,window.pageYOffset||n.scrollTop),o.x=t.left+n.x,o.y=t.top+n.y,o},e.utils.style.getViewportPageOffset=function(){var t=document.body,o=document.documentElement;return new e.utils.Coordinate(t.scrollLeft||o.scrollLeft,t.scrollTop||o.scrollTop)},e.utils.style.setElementShown=function(e,t){e.style.display=t?"":"none"},e.utils.style.isRightToLeft=function(t){return"rtl"==e.utils.style.getStyle_(t,"direction")},e.utils.style.getBorderBox=function(t){var o=e.utils.style.getComputedStyle(t,"borderLeftWidth"),n=e.utils.style.getComputedStyle(t,"borderRightWidth"),i=e.utils.style.getComputedStyle(t,"borderTopWidth");return t=e.utils.style.getComputedStyle(t,"borderBottomWidth"),{top:parseFloat(i),right:parseFloat(n),bottom:parseFloat(t),left:parseFloat(o)}},e.utils.style.scrollIntoContainerView=function(t,o,n){t=e.utils.style.getContainerOffsetToScrollInto(t,o,n),o.scrollLeft=t.x,o.scrollTop=t.y},e.utils.style.getContainerOffsetToScrollInto=function(t,o,n){var i=e.utils.style.getPageOffset(t),s=e.utils.style.getPageOffset(o),a=e.utils.style.getBorderBox(o),r=i.x-s.x-a.left;return i=i.y-s.y-a.top,s=e.utils.style.getSizeWithDisplay_(t),t=o.clientWidth-s.width,s=o.clientHeight-s.height,a=o.scrollLeft,o=o.scrollTop,n?(a+=r-t/2,o+=i-s/2):(a+=Math.min(r,Math.max(r-t,0)),o+=Math.min(i,Math.max(i-s,0))),new e.utils.Coordinate(a,o)},e.utils.userAgent={},function(t){function o(e){return-1!=n.indexOf(e.toUpperCase())}e.utils.userAgent.raw=t;var n=e.utils.userAgent.raw.toUpperCase();e.utils.userAgent.IE=o("Trident")||o("MSIE"),e.utils.userAgent.EDGE=o("Edge"),e.utils.userAgent.JAVA_FX=o("JavaFX"),e.utils.userAgent.WEBKIT=o("WebKit")&&!e.utils.userAgent.EDGE,e.utils.userAgent.GECKO=o("Gecko")&&!e.utils.userAgent.WEBKIT&&!e.utils.userAgent.IE&&!e.utils.userAgent.EDGE,e.utils.userAgent.ANDROID=o("Android"),e.utils.userAgent.IPAD=o("iPad"),e.utils.userAgent.IPOD=o("iPod"),e.utils.userAgent.IPHONE=o("iPhone")&&!e.utils.userAgent.IPAD&&!e.utils.userAgent.IPOD,e.utils.userAgent.MAC=o("Macintosh"),e.utils.userAgent.TABLET=e.utils.userAgent.IPAD||e.utils.userAgent.ANDROID&&!o("Mobile")||o("Silk"),e.utils.userAgent.MOBILE=!e.utils.userAgent.TABLET&&(e.utils.userAgent.IPOD||e.utils.userAgent.IPHONE||e.utils.userAgent.ANDROID||o("IEMobile"))}(e.utils.global.navigator&&e.utils.global.navigator.userAgent||""),e.utils.noEvent=function(e){e.preventDefault(),e.stopPropagation()},e.utils.isTargetInput=function(e){return"textarea"==e.target.type||"text"==e.target.type||"number"==e.target.type||"email"==e.target.type||"password"==e.target.type||"search"==e.target.type||"tel"==e.target.type||"url"==e.target.type||e.target.isContentEditable},e.utils.getRelativeXY=function(t){var o=new e.utils.Coordinate(0,0),n=t.getAttribute("x");return n&&(o.x=parseInt(n,10)),(n=t.getAttribute("y"))&&(o.y=parseInt(n,10)),(n=(n=t.getAttribute("transform"))&&n.match(e.utils.getRelativeXY.XY_REGEX_))&&(o.x+=Number(n[1]),n[3]&&(o.y+=Number(n[3]))),(t=t.getAttribute("style"))&&-1<t.indexOf("translate")&&(t=t.match(e.utils.getRelativeXY.XY_STYLE_REGEX_))&&(o.x+=Number(t[1]),t[3]&&(o.y+=Number(t[3]))),o},e.utils.getInjectionDivXY_=function(t){for(var o=0,n=0;t;){var i=e.utils.getRelativeXY(t);if(o+=i.x,n+=i.y,-1!=(" "+(t.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;t=t.parentNode}return new e.utils.Coordinate(o,n)},e.utils.getRelativeXY.XY_REGEX_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,e.utils.getRelativeXY.XY_STYLE_REGEX_=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,e.utils.isRightButton=function(t){return!(!t.ctrlKey||!e.utils.userAgent.MAC)||2==t.button},e.utils.mouseToSvg=function(e,t,o){var n=t.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,o||(o=t.getScreenCTM().inverse()),n.matrixTransform(o)},e.utils.getScrollDeltaPixels=function(t){switch(t.deltaMode){case 0:return{x:t.deltaX,y:t.deltaY};case 1:return{x:t.deltaX*e.LINE_MODE_MULTIPLIER,y:t.deltaY*e.LINE_MODE_MULTIPLIER};case 2:return{x:t.deltaX*e.PAGE_MODE_MULTIPLIER,y:t.deltaY*e.PAGE_MODE_MULTIPLIER}}},e.utils.tokenizeInterpolation=function(t){return e.utils.tokenizeInterpolation_(t,!0)},e.utils.replaceMessageReferences=function(t){return"string"!=typeof t?t:(t=e.utils.tokenizeInterpolation_(t,!1)).length?t[0]:""},e.utils.checkMessageReferences=function(t){for(var o=!0,n=e.Msg,i=t.match(/%{BKY_[A-Z]\w*}/gi),s=0;s<i.length;s++)void 0==n[i[s].toUpperCase().slice(6,-1)]&&(console.log("WARNING: No message string for "+i[s]+" in "+t),o=!1);return o},e.utils.tokenizeInterpolation_=function(t,o){var n=[],i=t.split("");i.push("");for(var s=0,a=[],r=null,l=0;l<i.length;l++){var c=i[l];0==s?"%"==c?((c=a.join(""))&&n.push(c),a.length=0,s=1):a.push(c):1==s?"%"==c?(a.push(c),s=0):o&&"0"<=c&&"9">=c?(s=2,r=c,(c=a.join(""))&&n.push(c),a.length=0):"{"==c?s=3:(a.push("%",c),s=0):2==s?"0"<=c&&"9">=c?r+=c:(n.push(parseInt(r,10)),l--,s=0):3==s&&(""==c?(a.splice(0,0,"%{"),l--,s=0):"}"!=c?a.push(c):(s=a.join(""),/[A-Z]\w*/i.test(s)?(c=s.toUpperCase(),(c=e.utils.string.startsWith(c,"BKY_")?c.substring(4):null)&&c in e.Msg?"string"==typeof(s=e.Msg[c])?Array.prototype.push.apply(n,e.utils.tokenizeInterpolation_(s,o)):o?n.push(String(s)):n.push(s):n.push("%{"+s+"}")):n.push("%{"+s+"}"),s=a.length=0))}for((c=a.join(""))&&n.push(c),i=[],l=a.length=0;l<n.length;++l)"string"==typeof n[l]?a.push(n[l]):((c=a.join(""))&&i.push(c),a.length=0,i.push(n[l]));return(c=a.join(""))&&i.push(c),a.length=0,i},e.utils.genUid=function(){for(var t=e.utils.genUid.soup_.length,o=[],n=0;20>n;n++)o[n]=e.utils.genUid.soup_.charAt(Math.random()*t);return o.join("")},e.utils.genUid.soup_="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e.utils.is3dSupported=function(){if(void 0!==e.utils.is3dSupported.cached_)return e.utils.is3dSupported.cached_;if(!e.utils.global.getComputedStyle)return!1;var t=document.createElement("p"),o="none",n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var i in document.body.insertBefore(t,null),n)if(void 0!==t.style[i]){if(t.style[i]="translate3d(1px,1px,1px)",!(o=e.utils.global.getComputedStyle(t)))return document.body.removeChild(t),!1;o=o.getPropertyValue(n[i])}return document.body.removeChild(t),e.utils.is3dSupported.cached_="none"!==o,e.utils.is3dSupported.cached_},e.utils.runAfterPageLoad=function(e){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)e();else var t=setInterval((function(){"complete"==document.readyState&&(clearInterval(t),e())}),10)},e.utils.getViewportBBox=function(){var t=e.utils.style.getViewportPageOffset();return{right:document.documentElement.clientWidth+t.x,bottom:document.documentElement.clientHeight+t.y,top:t.y,left:t.x}},e.utils.arrayRemove=function(e,t){var o=e.indexOf(t);return-1!=o&&(e.splice(o,1),!0)},e.utils.getDocumentScroll=function(){var t=document.documentElement,o=window;return e.utils.userAgent.IE&&o.pageYOffset!=t.scrollTop?new e.utils.Coordinate(t.scrollLeft,t.scrollTop):new e.utils.Coordinate(o.pageXOffset||t.scrollLeft,o.pageYOffset||t.scrollTop)},e.utils.getBlockTypeCounts=function(e,t){var o,n=Object.create(null),i=e.getDescendants(!0);if(t){var s=e.getNextBlock();s&&(s=i.indexOf(s),i.splice(s,i.length-s))}for(s=0;o=i[s];s++)n[o.type]?n[o.type]++:n[o.type]=1;return n},e.utils.screenToWsCoordinates=function(t,o){var n=o.x,i=o.y,s=t.getInjectionDiv().getBoundingClientRect();return n=new e.utils.Coordinate(n-s.left,i-s.top),i=t.getOriginOffsetInPixels(),e.utils.Coordinate.difference(n,i).scale(1/t.scale)},e.Events={},e.Events.group_="",e.Events.recordUndo=!0,e.Events.disabled_=0,e.Events.CREATE="create",e.Events.BLOCK_CREATE=e.Events.CREATE,e.Events.DELETE="delete",e.Events.BLOCK_DELETE=e.Events.DELETE,e.Events.CHANGE="change",e.Events.BLOCK_CHANGE=e.Events.CHANGE,e.Events.MOVE="move",e.Events.BLOCK_MOVE=e.Events.MOVE,e.Events.VAR_CREATE="var_create",e.Events.VAR_DELETE="var_delete",e.Events.VAR_RENAME="var_rename",e.Events.UI="ui",e.Events.COMMENT_CREATE="comment_create",e.Events.COMMENT_DELETE="comment_delete",e.Events.COMMENT_CHANGE="comment_change",e.Events.COMMENT_MOVE="comment_move",e.Events.FINISHED_LOADING="finished_loading",e.Events.BUMP_EVENTS=[e.Events.BLOCK_CREATE,e.Events.BLOCK_MOVE,e.Events.COMMENT_CREATE,e.Events.COMMENT_MOVE],e.Events.FIRE_QUEUE_=[],e.Events.fire=function(t){e.Events.isEnabled()&&(e.Events.FIRE_QUEUE_.length||setTimeout(e.Events.fireNow_,0),e.Events.FIRE_QUEUE_.push(t))},e.Events.fireNow_=function(){for(var t,o=e.Events.filter(e.Events.FIRE_QUEUE_,!0),n=e.Events.FIRE_QUEUE_.length=0;t=o[n];n++)if(t.workspaceId){var i=e.Workspace.getById(t.workspaceId);i&&i.fireChangeListener(t)}},e.Events.filter=function(t,o){var n=t.slice();o||n.reverse();for(var i,s=[],a=Object.create(null),r=0;i=n[r];r++)if(!i.isNull()){var l=[i.type,i.blockId,i.workspaceId].join(" "),c=a[l],u=c?c.event:null;c?i.type==e.Events.MOVE&&c.index==r-1?(u.newParentId=i.newParentId,u.newInputName=i.newInputName,u.newCoordinate=i.newCoordinate,c.index=r):i.type==e.Events.CHANGE&&i.element==u.element&&i.name==u.name?u.newValue=i.newValue:(i.type!=e.Events.UI||"click"!=i.element||"commentOpen"!=u.element&&"mutatorOpen"!=u.element&&"warningOpen"!=u.element)&&(a[l]={event:i,index:1},s.push(i)):(a[l]={event:i,index:r},s.push(i))}for(n=s.filter((function(e){return!e.isNull()})),o||n.reverse(),r=1;i=n[r];r++)i.type==e.Events.CHANGE&&"mutation"==i.element&&n.unshift(n.splice(r,1)[0]);return n},e.Events.clearPendingUndo=function(){for(var t,o=0;t=e.Events.FIRE_QUEUE_[o];o++)t.recordUndo=!1},e.Events.disable=function(){e.Events.disabled_++},e.Events.enable=function(){e.Events.disabled_--},e.Events.isEnabled=function(){return 0==e.Events.disabled_},e.Events.getGroup=function(){return e.Events.group_},e.Events.setGroup=function(t){e.Events.group_="boolean"==typeof t?t?e.utils.genUid():"":t},e.Events.getDescendantIds=function(e){var t=[];e=e.getDescendants(!1);for(var o,n=0;o=e[n];n++)t[n]=o.id;return t},e.Events.fromJson=function(t,o){switch(t.type){case e.Events.CREATE:var n=new e.Events.Create(null);break;case e.Events.DELETE:n=new e.Events.Delete(null);break;case e.Events.CHANGE:n=new e.Events.Change(null,"","","","");break;case e.Events.MOVE:n=new e.Events.Move(null);break;case e.Events.VAR_CREATE:n=new e.Events.VarCreate(null);break;case e.Events.VAR_DELETE:n=new e.Events.VarDelete(null);break;case e.Events.VAR_RENAME:n=new e.Events.VarRename(null,"");break;case e.Events.UI:n=new e.Events.Ui(null,"","","");break;case e.Events.COMMENT_CREATE:n=new e.Events.CommentCreate(null);break;case e.Events.COMMENT_CHANGE:n=new e.Events.CommentChange(null,"","");break;case e.Events.COMMENT_MOVE:n=new e.Events.CommentMove(null);break;case e.Events.COMMENT_DELETE:n=new e.Events.CommentDelete(null);break;default:throw Error("Unknown event type.")}return n.fromJson(t),n.workspaceId=o.id,n},e.Events.disableOrphans=function(t){if((t.type==e.Events.MOVE||t.type==e.Events.CREATE)&&t.workspaceId){var o=e.Workspace.getById(t.workspaceId);if(t=o.getBlockById(t.blockId)){var n=t.getParent();if(n&&n.isEnabled())for(o=t.getDescendants(!1),t=0;n=o[t];t++)n.setEnabled(!0);else if((t.outputConnection||t.previousConnection)&&!o.isDragging())do{t.setEnabled(!1),t=t.getNextBlock()}while(t)}}},e.Events.Abstract=function(){this.workspaceId=void 0,this.group=e.Events.getGroup(),this.recordUndo=e.Events.recordUndo},e.Events.Abstract.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),e},e.Events.Abstract.prototype.fromJson=function(e){this.group=e.group},e.Events.Abstract.prototype.isNull=function(){return!1},e.Events.Abstract.prototype.run=function(e){},e.Events.Abstract.prototype.getEventWorkspace_=function(){if(this.workspaceId)var t=e.Workspace.getById(this.workspaceId);if(!t)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return t},e.utils.object={},e.utils.object.inherits=function(e,t){e.superClass_=t.prototype,e.prototype=Object.create(t.prototype),e.prototype.constructor=e},e.utils.object.mixin=function(e,t){for(var o in t)e[o]=t[o]},e.utils.object.values=function(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))},e.utils.xml={},e.utils.xml.NAME_SPACE="https://developers.google.com/blockly/xml",e.utils.xml.document=function(){return document},e.utils.xml.createElement=function(t){return e.utils.xml.document().createElementNS(e.utils.xml.NAME_SPACE,t)},e.utils.xml.createTextNode=function(t){return e.utils.xml.document().createTextNode(t)},e.utils.xml.textToDomDocument=function(e){return(new DOMParser).parseFromString(e,"text/xml")},e.utils.xml.domToText=function(e){return(new XMLSerializer).serializeToString(e)},e.Events.BlockBase=function(t){e.Events.BlockBase.superClass_.constructor.call(this),this.blockId=t.id,this.workspaceId=t.workspace.id},e.utils.object.inherits(e.Events.BlockBase,e.Events.Abstract),e.Events.BlockBase.prototype.toJson=function(){var t=e.Events.BlockBase.superClass_.toJson.call(this);return t.blockId=this.blockId,t},e.Events.BlockBase.prototype.fromJson=function(t){e.Events.BlockBase.superClass_.fromJson.call(this,t),this.blockId=t.blockId},e.Events.Change=function(t,o,n,i,s){t&&(e.Events.Change.superClass_.constructor.call(this,t),this.element=o,this.name=n,this.oldValue=i,this.newValue=s)},e.utils.object.inherits(e.Events.Change,e.Events.BlockBase),e.Events.BlockChange=e.Events.Change,e.Events.Change.prototype.type=e.Events.CHANGE,e.Events.Change.prototype.toJson=function(){var t=e.Events.Change.superClass_.toJson.call(this);return t.element=this.element,this.name&&(t.name=this.name),t.newValue=this.newValue,t},e.Events.Change.prototype.fromJson=function(t){e.Events.Change.superClass_.fromJson.call(this,t),this.element=t.element,this.name=t.name,this.newValue=t.newValue},e.Events.Change.prototype.isNull=function(){return this.oldValue==this.newValue},e.Events.Change.prototype.run=function(t){var o=this.getEventWorkspace_().getBlockById(this.blockId);if(o)switch(o.mutator&&o.mutator.setVisible(!1),t=t?this.newValue:this.oldValue,this.element){case"field":(o=o.getField(this.name))?o.setValue(t):console.warn("Can't set non-existent field: "+this.name);break;case"comment":o.setCommentText(t||null);break;case"collapsed":o.setCollapsed(!!t);break;case"disabled":o.setEnabled(!t);break;case"inline":o.setInputsInline(!!t);break;case"mutation":var n="";if(o.mutationToDom&&(n=(n=o.mutationToDom())&&e.Xml.domToText(n)),o.domToMutation){var i=e.Xml.textToDom(t||"<mutation/>");o.domToMutation(i)}e.Events.fire(new e.Events.Change(o,"mutation",null,n,t));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)},e.Events.Create=function(t){t&&(e.Events.Create.superClass_.constructor.call(this,t),this.xml=t.workspace.rendered?e.Xml.blockToDomWithXY(t):e.Xml.blockToDom(t),this.ids=e.Events.getDescendantIds(t))},e.utils.object.inherits(e.Events.Create,e.Events.BlockBase),e.Events.BlockCreate=e.Events.Create,e.Events.Create.prototype.type=e.Events.CREATE,e.Events.Create.prototype.toJson=function(){var t=e.Events.Create.superClass_.toJson.call(this);return t.xml=e.Xml.domToText(this.xml),t.ids=this.ids,t},e.Events.Create.prototype.fromJson=function(t){e.Events.Create.superClass_.fromJson.call(this,t),this.xml=e.Xml.textToDom(t.xml),this.ids=t.ids},e.Events.Create.prototype.run=function(t){var o=this.getEventWorkspace_();if(t)(t=e.utils.xml.createElement("xml")).appendChild(this.xml),e.Xml.domToWorkspace(t,o);else{t=0;for(var n;n=this.ids[t];t++){var i=o.getBlockById(n);i?i.dispose(!1):n==this.blockId&&console.warn("Can't uncreate non-existent block: "+n)}}},e.Events.Delete=function(t){if(t){if(t.getParent())throw Error("Connected blocks cannot be deleted.");e.Events.Delete.superClass_.constructor.call(this,t),this.oldXml=t.workspace.rendered?e.Xml.blockToDomWithXY(t):e.Xml.blockToDom(t),this.ids=e.Events.getDescendantIds(t)}},e.utils.object.inherits(e.Events.Delete,e.Events.BlockBase),e.Events.BlockDelete=e.Events.Delete,e.Events.Delete.prototype.type=e.Events.DELETE,e.Events.Delete.prototype.toJson=function(){var t=e.Events.Delete.superClass_.toJson.call(this);return t.ids=this.ids,t},e.Events.Delete.prototype.fromJson=function(t){e.Events.Delete.superClass_.fromJson.call(this,t),this.ids=t.ids},e.Events.Delete.prototype.run=function(t){var o=this.getEventWorkspace_();if(t){t=0;for(var n;n=this.ids[t];t++){var i=o.getBlockById(n);i?i.dispose(!1):n==this.blockId&&console.warn("Can't delete non-existent block: "+n)}}else(t=e.utils.xml.createElement("xml")).appendChild(this.oldXml),e.Xml.domToWorkspace(t,o)},e.Events.Move=function(t){t&&(e.Events.Move.superClass_.constructor.call(this,t),t=this.currentLocation_(),this.oldParentId=t.parentId,this.oldInputName=t.inputName,this.oldCoordinate=t.coordinate)},e.utils.object.inherits(e.Events.Move,e.Events.BlockBase),e.Events.BlockMove=e.Events.Move,e.Events.Move.prototype.type=e.Events.MOVE,e.Events.Move.prototype.toJson=function(){var t=e.Events.Move.superClass_.toJson.call(this);return this.newParentId&&(t.newParentId=this.newParentId),this.newInputName&&(t.newInputName=this.newInputName),this.newCoordinate&&(t.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),t},e.Events.Move.prototype.fromJson=function(t){e.Events.Move.superClass_.fromJson.call(this,t),this.newParentId=t.newParentId,this.newInputName=t.newInputName,t.newCoordinate&&(t=t.newCoordinate.split(","),this.newCoordinate=new e.utils.Coordinate(Number(t[0]),Number(t[1])))},e.Events.Move.prototype.recordNew=function(){var e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate},e.Events.Move.prototype.currentLocation_=function(){var e=this.getEventWorkspace_().getBlockById(this.blockId),t={},o=e.getParent();return o?(t.parentId=o.id,(e=o.getInputWithBlock(e))&&(t.inputName=e.name)):t.coordinate=e.getRelativeToSurfaceXY(),t},e.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&e.utils.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},e.Events.Move.prototype.run=function(t){var o=this.getEventWorkspace_(),n=o.getBlockById(this.blockId);if(n){var i=t?this.newParentId:this.oldParentId,s=t?this.newInputName:this.oldInputName;t=t?this.newCoordinate:this.oldCoordinate;var a=null;if(i&&!(a=o.getBlockById(i)))return void console.warn("Can't connect to non-existent block: "+i);if(n.getParent()&&n.unplug(),t)s=n.getRelativeToSurfaceXY(),n.moveBy(t.x-s.x,t.y-s.y);else{if(n=n.outputConnection||n.previousConnection,s){if(o=a.getInput(s))var r=o.connection}else n.type==e.PREVIOUS_STATEMENT&&(r=a.nextConnection);r?n.connect(r):console.warn("Can't connect to non-existent input: "+s)}}else console.warn("Can't move non-existent block: "+this.blockId)},e.Events.FinishedLoading=function(t){this.workspaceId=t.id,this.group=e.Events.getGroup(),this.recordUndo=!1},e.utils.object.inherits(e.Events.FinishedLoading,e.Events.Abstract),e.Events.FinishedLoading.prototype.type=e.Events.FINISHED_LOADING,e.Events.FinishedLoading.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),this.workspaceId&&(e.workspaceId=this.workspaceId),e},e.Events.FinishedLoading.prototype.fromJson=function(e){this.workspaceId=e.workspaceId,this.group=e.group},e.Events.VarBase=function(t){e.Events.VarBase.superClass_.constructor.call(this),this.varId=t.getId(),this.workspaceId=t.workspace.id},e.utils.object.inherits(e.Events.VarBase,e.Events.Abstract),e.Events.VarBase.prototype.toJson=function(){var t=e.Events.VarBase.superClass_.toJson.call(this);return t.varId=this.varId,t},e.Events.VarBase.prototype.fromJson=function(t){e.Events.VarBase.superClass_.toJson.call(this),this.varId=t.varId},e.Events.VarCreate=function(t){t&&(e.Events.VarCreate.superClass_.constructor.call(this,t),this.varType=t.type,this.varName=t.name)},e.utils.object.inherits(e.Events.VarCreate,e.Events.VarBase),e.Events.VarCreate.prototype.type=e.Events.VAR_CREATE,e.Events.VarCreate.prototype.toJson=function(){var t=e.Events.VarCreate.superClass_.toJson.call(this);return t.varType=this.varType,t.varName=this.varName,t},e.Events.VarCreate.prototype.fromJson=function(t){e.Events.VarCreate.superClass_.fromJson.call(this,t),this.varType=t.varType,this.varName=t.varName},e.Events.VarCreate.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.createVariable(this.varName,this.varType,this.varId):t.deleteVariableById(this.varId)},e.Events.VarDelete=function(t){t&&(e.Events.VarDelete.superClass_.constructor.call(this,t),this.varType=t.type,this.varName=t.name)},e.utils.object.inherits(e.Events.VarDelete,e.Events.VarBase),e.Events.VarDelete.prototype.type=e.Events.VAR_DELETE,e.Events.VarDelete.prototype.toJson=function(){var t=e.Events.VarDelete.superClass_.toJson.call(this);return t.varType=this.varType,t.varName=this.varName,t},e.Events.VarDelete.prototype.fromJson=function(t){e.Events.VarDelete.superClass_.fromJson.call(this,t),this.varType=t.varType,this.varName=t.varName},e.Events.VarDelete.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.deleteVariableById(this.varId):t.createVariable(this.varName,this.varType,this.varId)},e.Events.VarRename=function(t,o){t&&(e.Events.VarRename.superClass_.constructor.call(this,t),this.oldName=t.name,this.newName=o)},e.utils.object.inherits(e.Events.VarRename,e.Events.VarBase),e.Events.VarRename.prototype.type=e.Events.VAR_RENAME,e.Events.VarRename.prototype.toJson=function(){var t=e.Events.VarRename.superClass_.toJson.call(this);return t.oldName=this.oldName,t.newName=this.newName,t},e.Events.VarRename.prototype.fromJson=function(t){e.Events.VarRename.superClass_.fromJson.call(this,t),this.oldName=t.oldName,this.newName=t.newName},e.Events.VarRename.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.renameVariableById(this.varId,this.newName):t.renameVariableById(this.varId,this.oldName)},e.utils.dom={},e.utils.dom.SVG_NS="http://www.w3.org/2000/svg",e.utils.dom.HTML_NS="http://www.w3.org/1999/xhtml",e.utils.dom.XLINK_NS="http://www.w3.org/1999/xlink",e.utils.dom.Node={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16},e.utils.dom.cacheWidths_=null,e.utils.dom.cacheReference_=0,e.utils.dom.createSvgElement=function(t,o,n){for(var i in t=document.createElementNS(e.utils.dom.SVG_NS,t),o)t.setAttribute(i,o[i]);return document.body.runtimeStyle&&(t.runtimeStyle=t.currentStyle=t.style),n&&n.appendChild(t),t},e.utils.dom.addClass=function(e,t){var o=e.getAttribute("class")||"";return-1==(" "+o+" ").indexOf(" "+t+" ")&&(o&&(o+=" "),e.setAttribute("class",o+t),!0)},e.utils.dom.removeClass=function(e,t){var o=e.getAttribute("class");if(-1==(" "+o+" ").indexOf(" "+t+" "))return!1;o=o.split(/\s+/);for(var n=0;n<o.length;n++)o[n]&&o[n]!=t||(o.splice(n,1),n--);return o.length?e.setAttribute("class",o.join(" ")):e.removeAttribute("class"),!0},e.utils.dom.hasClass=function(e,t){return-1!=(" "+e.getAttribute("class")+" ").indexOf(" "+t+" ")},e.utils.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},e.utils.dom.insertAfter=function(e,t){var o=t.nextSibling,n=t.parentNode;if(!n)throw Error("Reference node has no parent.");o?n.insertBefore(e,o):n.appendChild(e)},e.utils.dom.containsNode=function(t,o){return!!(t.compareDocumentPosition(o)&e.utils.dom.Node.DOCUMENT_POSITION_CONTAINED_BY)},e.utils.dom.setCssTransform=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},e.utils.dom.startTextWidthCache=function(){e.utils.dom.cacheReference_++,e.utils.dom.cacheWidths_||(e.utils.dom.cacheWidths_={})},e.utils.dom.stopTextWidthCache=function(){e.utils.dom.cacheReference_--,e.utils.dom.cacheReference_||(e.utils.dom.cacheWidths_=null)},e.utils.dom.getTextWidth=function(t){var o,n=t.textContent+"\n"+t.className.baseVal;if(e.utils.dom.cacheWidths_&&(o=e.utils.dom.cacheWidths_[n]))return o;try{o=e.utils.userAgent.IE||e.utils.userAgent.EDGE?t.getBBox().width:t.getComputedTextLength()}catch(i){return 8*t.textContent.length}return e.utils.dom.cacheWidths_&&(e.utils.dom.cacheWidths_[n]=o),o},e.Xml={},e.Xml.workspaceToDom=function(t,o){var n=e.utils.xml.createElement("xml"),i=e.Xml.variablesToDom(e.Variables.allUsedVarModels(t));i.hasChildNodes()&&n.appendChild(i);var s,a=t.getTopComments(!0);for(i=0;s=a[i];i++)n.appendChild(s.toXmlWithXY(o));for(a=t.getTopBlocks(!0),i=0;s=a[i];i++)n.appendChild(e.Xml.blockToDomWithXY(s,o));return n},e.Xml.variablesToDom=function(t){for(var o,n=e.utils.xml.createElement("variables"),i=0;o=t[i];i++){var s=e.utils.xml.createElement("variable");s.appendChild(e.utils.xml.createTextNode(o.name)),o.type&&s.setAttribute("type",o.type),s.id=o.getId(),n.appendChild(s)}return n},e.Xml.blockToDomWithXY=function(t,o){var n;t.workspace.RTL&&(n=t.workspace.getWidth());var i=e.Xml.blockToDom(t,o),s=t.getRelativeToSurfaceXY();return i.setAttribute("x",Math.round(t.workspace.RTL?n-s.x:s.x)),i.setAttribute("y",Math.round(s.y)),i},e.Xml.fieldToDom_=function(t){if(t.isSerializable()){var o=e.utils.xml.createElement("field");return o.setAttribute("name",t.name),t.toXml(o)}return null},e.Xml.allFieldsToDom_=function(t,o){for(var n,i=0;n=t.inputList[i];i++)for(var s,a=0;s=n.fieldRow[a];a++)(s=e.Xml.fieldToDom_(s))&&o.appendChild(s)},e.Xml.blockToDom=function(t,o){var n=e.utils.xml.createElement(t.isShadow()?"shadow":"block");if(n.setAttribute("type",t.type),o||(n.id=t.id),t.mutationToDom){var i=t.mutationToDom();i&&(i.hasChildNodes()||i.hasAttributes())&&n.appendChild(i)}if(e.Xml.allFieldsToDom_(t,n),i=t.getCommentText()){var s=t.commentModel.size,a=t.commentModel.pinned,r=e.utils.xml.createElement("comment");r.appendChild(e.utils.xml.createTextNode(i)),r.setAttribute("pinned",a),r.setAttribute("h",s.height),r.setAttribute("w",s.width),n.appendChild(r)}for(t.data&&((i=e.utils.xml.createElement("data")).appendChild(e.utils.xml.createTextNode(t.data)),n.appendChild(i)),s=0;a=t.inputList[s];s++){var l;if(r=!0,a.type!=e.DUMMY_INPUT){var c=a.connection.targetBlock();a.type==e.INPUT_VALUE?l=e.utils.xml.createElement("value"):a.type==e.NEXT_STATEMENT&&(l=e.utils.xml.createElement("statement")),!(i=a.connection.getShadowDom())||c&&c.isShadow()||l.appendChild(e.Xml.cloneShadow_(i,o)),c&&(l.appendChild(e.Xml.blockToDom(c,o)),r=!1),l.setAttribute("name",a.name),r||n.appendChild(l)}}return void 0!=t.inputsInline&&t.inputsInline!=t.inputsInlineDefault&&n.setAttribute("inline",t.inputsInline),t.isCollapsed()&&n.setAttribute("collapsed",!0),t.isEnabled()||n.setAttribute("disabled",!0),t.isDeletable()||t.isShadow()||n.setAttribute("deletable",!1),t.isMovable()||t.isShadow()||n.setAttribute("movable",!1),t.isEditable()||n.setAttribute("editable",!1),(s=t.getNextBlock())&&((l=e.utils.xml.createElement("next")).appendChild(e.Xml.blockToDom(s,o)),n.appendChild(l)),!(i=t.nextConnection&&t.nextConnection.getShadowDom())||s&&s.isShadow()||l.appendChild(e.Xml.cloneShadow_(i,o)),n},e.Xml.cloneShadow_=function(t,o){for(var n,i=t=t.cloneNode(!0);i;)if(o&&"shadow"==i.nodeName&&i.removeAttribute("id"),i.firstChild)i=i.firstChild;else{for(;i&&!i.nextSibling;)n=i,i=i.parentNode,n.nodeType==e.utils.dom.Node.TEXT_NODE&&""==n.data.trim()&&i.firstChild!=n&&e.utils.dom.removeNode(n);i&&(n=i,i=i.nextSibling,n.nodeType==e.utils.dom.Node.TEXT_NODE&&""==n.data.trim()&&e.utils.dom.removeNode(n))}return t},e.Xml.domToText=function(t){t=e.utils.xml.domToText(t);var o=/(<[^/](?:[^>]*[^/])?>[^<]*)\n([^<]*<\/)/;do{var n=t;t=t.replace(o,"$1&#10;$2")}while(t!=n);return t},e.Xml.domToPrettyText=function(t){t=e.Xml.domToText(t).split("<");for(var o="",n=1;n<t.length;n++){var i=t[n];"/"==i[0]&&(o=o.substring(2)),t[n]=o+"<"+i,"/"!=i[0]&&"/>"!=i.slice(-2)&&(o+="  ")}return(t=(t=t.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},e.Xml.textToDom=function(t){var o=e.utils.xml.textToDomDocument(t);if(!o||!o.documentElement||o.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+t);return o.documentElement},e.Xml.clearWorkspaceAndLoadFromXml=function(t,o){o.setResizesEnabled(!1),o.clear();var n=e.Xml.domToWorkspace(t,o);return o.setResizesEnabled(!0),n},e.Xml.domToWorkspace=function(t,o){if(t instanceof e.Workspace){var n=t;t=o,o=n,console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var i;o.RTL&&(i=o.getWidth()),n=[],e.utils.dom.startTextWidthCache();var s=t.childNodes.length,a=e.Events.getGroup();a||e.Events.setGroup(!0),o.setResizesEnabled&&o.setResizesEnabled(!1);var r=!0;try{for(var l=0;l<s;l++){var c=t.childNodes[l],u=c.nodeName.toLowerCase();if("block"==u||"shadow"==u&&!e.Events.recordUndo){var h=e.Xml.domToBlock(c,o);n.push(h.id);var p=c.hasAttribute("x")?parseInt(c.getAttribute("x"),10):10,d=c.hasAttribute("y")?parseInt(c.getAttribute("y"),10):10;isNaN(p)||isNaN(d)||h.moveBy(o.RTL?i-p:p,d),r=!1}else{if("shadow"==u)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==u)o.rendered?e.WorkspaceCommentSvg?e.WorkspaceCommentSvg.fromXml(c,o,i):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):e.WorkspaceComment?e.WorkspaceComment.fromXml(c,o):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==u){if(!r)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");e.Xml.domToVariables(c,o),r=!1}}}}finally{a||e.Events.setGroup(!1),e.utils.dom.stopTextWidthCache()}return o.setResizesEnabled&&o.setResizesEnabled(!0),e.Events.fire(new e.Events.FinishedLoading(o)),n},e.Xml.appendDomToWorkspace=function(t,o){if(o.hasOwnProperty("scale")){var n=e.BlockSvg.TAB_WIDTH;try{e.BlockSvg.TAB_WIDTH=0;var i=o.getBlocksBoundingBox()}finally{e.BlockSvg.TAB_WIDTH=n}}if(n=e.Xml.domToWorkspace(t,o),i&&i.top!=i.bottom){var s,a=i.bottom,r=i.left,l=1/0,c=1/0;for(i=0;i<n.length;i++){var u=o.getBlockById(n[i]).getRelativeToSurfaceXY();u.y<c&&(c=u.y),u.x<l&&(l=u.x)}for(a=a-c+e.BlockSvg.SEP_SPACE_Y,r-=l,o.RTL&&(s=o.getWidth()),i=0;i<n.length;i++)o.getBlockById(n[i]).moveBy(o.RTL?s-r:r,a)}return n},e.Xml.domToBlock=function(t,o){if(t instanceof e.Workspace){var n=t;t=o,o=n,console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}e.Events.disable(),n=o.getAllVariables();try{var i=e.Xml.domToBlockHeadless_(t,o),s=i.getDescendants(!1);if(o.rendered){i.setConnectionsHidden(!0);for(var a=s.length-1;0<=a;a--)s[a].initSvg();for(a=s.length-1;0<=a;a--)s[a].render(!1);setTimeout((function(){i.workspace&&i.setConnectionsHidden(!1)}),1),i.updateDisabled(),o.resizeContents()}else for(a=s.length-1;0<=a;a--)s[a].initModel()}finally{e.Events.enable()}if(e.Events.isEnabled()){for(s=e.Variables.getAddedVariables(o,n),a=0;a<s.length;a++)e.Events.fire(new e.Events.VarCreate(s[a]));e.Events.fire(new e.Events.BlockCreate(i))}return i},e.Xml.domToVariables=function(t,o){for(var n,i=0;n=t.childNodes[i];i++)if(n.nodeType==e.utils.dom.Node.ELEMENT_NODE){var s=n.getAttribute("type"),a=n.getAttribute("id");o.createVariable(n.textContent,s,a)}},e.Xml.domToBlockHeadless_=function(t,o){var n=null,i=t.getAttribute("type");if(!i)throw TypeError("Block type unspecified: "+t.outerHTML);var s=t.getAttribute("id");n=o.newBlock(i,s);var a,r=null;for(s=0;a=t.childNodes[s];s++)if(a.nodeType!=e.utils.dom.Node.TEXT_NODE){for(var l,c=r=null,u=0;l=a.childNodes[u];u++)l.nodeType==e.utils.dom.Node.ELEMENT_NODE&&("block"==l.nodeName.toLowerCase()?r=l:"shadow"==l.nodeName.toLowerCase()&&(c=l));switch(!r&&c&&(r=c),u=a.getAttribute("name"),a.nodeName.toLowerCase()){case"mutation":n.domToMutation&&(n.domToMutation(a),n.initSvg&&n.initSvg());break;case"comment":if(!e.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}r=a.textContent,c="true"==a.getAttribute("pinned"),u=parseInt(a.getAttribute("w"),10),a=parseInt(a.getAttribute("h"),10),n.setCommentText(r),n.commentModel.pinned=c,isNaN(u)||isNaN(a)||(n.commentModel.size=new e.utils.Size(u,a)),c&&n.getCommentIcon&&!n.isInFlyout&&setTimeout((function(){n.getCommentIcon().setVisible(!0)}),1);break;case"data":n.data=a.textContent;break;case"title":case"field":e.Xml.domToField_(n,u,a);break;case"value":case"statement":if(!(a=n.getInput(u))){console.warn("Ignoring non-existent input "+u+" in block "+i);break}if(c&&a.connection.setShadowDom(c),r)if((r=e.Xml.domToBlockHeadless_(r,o)).outputConnection)a.connection.connect(r.outputConnection);else{if(!r.previousConnection)throw TypeError("Child block does not have output or previous statement.");a.connection.connect(r.previousConnection)}break;case"next":if(c&&n.nextConnection&&n.nextConnection.setShadowDom(c),r){if(!n.nextConnection)throw TypeError("Next statement does not exist.");if(n.nextConnection.isConnected())throw TypeError("Next statement is already connected.");if(!(r=e.Xml.domToBlockHeadless_(r,o)).previousConnection)throw TypeError("Next block does not have previous statement.");n.nextConnection.connect(r.previousConnection)}break;default:console.warn("Ignoring unknown tag: "+a.nodeName)}}if((s=t.getAttribute("inline"))&&n.setInputsInline("true"==s),(s=t.getAttribute("disabled"))&&n.setEnabled("true"!=s&&"disabled"!=s),(s=t.getAttribute("deletable"))&&n.setDeletable("true"==s),(s=t.getAttribute("movable"))&&n.setMovable("true"==s),(s=t.getAttribute("editable"))&&n.setEditable("true"==s),(s=t.getAttribute("collapsed"))&&n.setCollapsed("true"==s),"shadow"==t.nodeName.toLowerCase()){for(i=n.getChildren(!1),s=0;a=i[s];s++)if(!a.isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(n.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");n.setShadow(!0)}return n},e.Xml.domToField_=function(e,t,o){var n=e.getField(t);n?n.fromXml(o):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},e.Xml.deleteNext=function(e){for(var t,o=0;t=e.childNodes[o];o++)if("next"==t.nodeName.toLowerCase()){e.removeChild(t);break}},e.Connection=function(e,t){this.sourceBlock_=e,this.type=t},e.Connection.CAN_CONNECT=0,e.Connection.REASON_SELF_CONNECTION=1,e.Connection.REASON_WRONG_TYPE=2,e.Connection.REASON_TARGET_NULL=3,e.Connection.REASON_CHECKS_FAILED=4,e.Connection.REASON_DIFFERENT_WORKSPACES=5,e.Connection.REASON_SHADOW_PARENT=6,e.Connection.prototype.targetConnection=null,e.Connection.prototype.disposed=!1,e.Connection.prototype.check_=null,e.Connection.prototype.shadowDom_=null,e.Connection.prototype.x_=0,e.Connection.prototype.y_=0,e.Connection.prototype.connect_=function(t){var o,n=this,i=n.getSourceBlock(),s=t.getSourceBlock();if(t.isConnected()&&t.disconnect(),n.isConnected()){var a=n.targetBlock(),r=n.getShadowDom();if(n.setShadowDom(null),a.isShadow())r=e.Xml.blockToDom(a),a.dispose(),a=null;else if(n.type==e.INPUT_VALUE){if(!a.outputConnection)throw Error("Orphan block does not have an output connection.");var l=e.Connection.lastConnectionInRow_(s,a);l&&(a.outputConnection.connect(l),a=null)}else if(n.type==e.NEXT_STATEMENT){if(!a.previousConnection)throw Error("Orphan block does not have a previous connection.");for(l=s;l.nextConnection;){var c=l.getNextBlock();if(!c||c.isShadow()){a.previousConnection.checkType_(l.nextConnection)&&(l.nextConnection.connect(a.previousConnection),a=null);break}l=c}}if(a&&(n.disconnect(),e.Events.recordUndo)){var u=e.Events.getGroup();setTimeout((function(){a.workspace&&!a.getParent()&&(e.Events.setGroup(u),a.outputConnection?a.outputConnection.onFailedConnect(n):a.previousConnection&&a.previousConnection.onFailedConnect(n),e.Events.setGroup(!1))}),e.BUMP_DELAY)}n.setShadowDom(r)}e.Events.isEnabled()&&(o=new e.Events.BlockMove(s)),e.Connection.connectReciprocally_(n,t),s.setParent(i),o&&(o.recordNew(),e.Events.fire(o))},e.Connection.prototype.dispose=function(){if(this.isConnected()){this.setShadowDom(null);var e=this.targetBlock();e.isShadow()?e.dispose():e.unplug()}this.disposed=!0},e.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},e.Connection.prototype.isSuperior=function(){return this.type==e.INPUT_VALUE||this.type==e.NEXT_STATEMENT},e.Connection.prototype.isConnected=function(){return!!this.targetConnection},e.Connection.prototype.canConnectWithReason_=function(t){if(!t)return e.Connection.REASON_TARGET_NULL;if(this.isSuperior())var o=this.sourceBlock_,n=t.getSourceBlock();else n=this.sourceBlock_,o=t.getSourceBlock();return o&&o==n?e.Connection.REASON_SELF_CONNECTION:t.type!=e.OPPOSITE_TYPE[this.type]?e.Connection.REASON_WRONG_TYPE:o&&n&&o.workspace!==n.workspace?e.Connection.REASON_DIFFERENT_WORKSPACES:this.checkType_(t)?o.isShadow()&&!n.isShadow()?e.Connection.REASON_SHADOW_PARENT:e.Connection.CAN_CONNECT:e.Connection.REASON_CHECKS_FAILED},e.Connection.prototype.checkConnection_=function(t){switch(this.canConnectWithReason_(t)){case e.Connection.CAN_CONNECT:break;case e.Connection.REASON_SELF_CONNECTION:throw Error("Attempted to connect a block to itself.");case e.Connection.REASON_DIFFERENT_WORKSPACES:throw Error("Blocks not on same workspace.");case e.Connection.REASON_WRONG_TYPE:throw Error("Attempt to connect incompatible types.");case e.Connection.REASON_TARGET_NULL:throw Error("Target connection is null.");case e.Connection.REASON_CHECKS_FAILED:throw Error("Connection checks failed. "+this+" expected "+this.check_+", found "+t.check_);case e.Connection.REASON_SHADOW_PARENT:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!")}},e.Connection.prototype.canConnectToPrevious_=function(t){return!this.targetConnection&&-1==e.draggingConnections_.indexOf(t)&&(!t.targetConnection||!!(t=t.targetBlock()).isInsertionMarker()&&!t.getPreviousBlock())},e.Connection.prototype.isConnectionAllowed=function(t){if(t.sourceBlock_.isInsertionMarker()||this.canConnectWithReason_(t)!=e.Connection.CAN_CONNECT)return!1;switch(t.type){case e.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(t);case e.OUTPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isInsertionMarker()||this.isConnected())return!1;break;case e.INPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;case e.NEXT_STATEMENT:if(t.isConnected()&&!this.sourceBlock_.nextConnection&&!t.targetBlock().isShadow()&&t.targetBlock().nextConnection)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed")}return-1==e.draggingConnections_.indexOf(t)},e.Connection.prototype.onFailedConnect=function(e){},e.Connection.prototype.connect=function(t){if(this.targetConnection!=t){this.checkConnection_(t);var o=e.Events.getGroup();o||e.Events.setGroup(!0),this.isSuperior()?this.connect_(t):t.connect_(this),o||e.Events.setGroup(!1)}},e.Connection.connectReciprocally_=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},e.Connection.singleConnection_=function(t,o){for(var n=!1,i=0;i<t.inputList.length;i++){var s=t.inputList[i].connection;if(s&&s.type==e.INPUT_VALUE&&o.outputConnection.checkType_(s)){if(n)return null;n=s}}return n},e.Connection.lastConnectionInRow_=function(t,o){for(var n,i=t;n=e.Connection.singleConnection_(i,o);)if(!(i=n.targetBlock())||i.isShadow())return n;return null},e.Connection.prototype.disconnect=function(){var t=this.targetConnection;if(!t)throw Error("Source connection not connected.");if(t.targetConnection!=this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var o=this.sourceBlock_,n=t.getSourceBlock();t=this}else o=t.getSourceBlock(),n=this.sourceBlock_;var i=e.Events.getGroup();i||e.Events.setGroup(!0),this.disconnectInternal_(o,n),t.respawnShadow_(),i||e.Events.setGroup(!1)},e.Connection.prototype.disconnectInternal_=function(t,o){var n;e.Events.isEnabled()&&(n=new e.Events.BlockMove(o)),this.targetConnection=this.targetConnection.targetConnection=null,o.setParent(null),n&&(n.recordNew(),e.Events.fire(n))},e.Connection.prototype.respawnShadow_=function(){var t=this.getSourceBlock(),o=this.getShadowDom();if(t.workspace&&o&&e.Events.recordUndo)if((t=e.Xml.domToBlock(o,t.workspace)).outputConnection)this.connect(t.outputConnection);else{if(!t.previousConnection)throw Error("Child block does not have output or previous statement.");this.connect(t.previousConnection)}},e.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},e.Connection.prototype.checkType_=function(e){if(!this.check_||!e.check_)return!0;for(var t=0;t<this.check_.length;t++)if(-1!=e.check_.indexOf(this.check_[t]))return!0;return!1},e.Connection.prototype.onCheckChanged_=function(){this.isConnected()&&!this.checkType_(this.targetConnection)&&(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()},e.Connection.prototype.setCheck=function(e){return e?(Array.isArray(e)||(e=[e]),this.check_=e,this.onCheckChanged_()):this.check_=null,this},e.Connection.prototype.getCheck=function(){return this.check_},e.Connection.prototype.setShadowDom=function(e){this.shadowDom_=e},e.Connection.prototype.getShadowDom=function(){return this.shadowDom_},e.Connection.prototype.neighbours_=function(e){return[]},e.Connection.prototype.getParentInput=function(){for(var e=null,t=this.sourceBlock_,o=t.inputList,n=0;n<t.inputList.length;n++)if(o[n].connection===this){e=o[n];break}return e},e.Connection.prototype.toString=function(){var e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection==this)var t="Output Connection of ";else if(e.previousConnection==this)t="Previous Connection of ";else if(e.nextConnection==this)t="Next Connection of ";else{t=null;for(var o,n=0;o=e.inputList[n];n++)if(o.connection==this){t=o;break}if(!t)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";t='Input "'+t.name+'" connection on '}return t+e.toDevString()},e.Extensions={},e.Extensions.ALL_={},e.Extensions.register=function(t,o){if("string"!=typeof t||""==t.trim())throw Error('Error: Invalid extension name "'+t+'"');if(e.Extensions.ALL_[t])throw Error('Error: Extension "'+t+'" is already registered.');if("function"!=typeof o)throw Error('Error: Extension "'+t+'" must be a function');e.Extensions.ALL_[t]=o},e.Extensions.registerMixin=function(t,o){if(!o||"object"!=typeof o)throw Error('Error: Mixin "'+t+'" must be a object');e.Extensions.register(t,(function(){this.mixin(o)}))},e.Extensions.registerMutator=function(t,o,n,i){var s='Error when registering mutator "'+t+'": ';e.Extensions.checkHasFunction_(s,o.domToMutation,"domToMutation"),e.Extensions.checkHasFunction_(s,o.mutationToDom,"mutationToDom");var a=e.Extensions.checkMutatorDialog_(o,s);if(n&&"function"!=typeof n)throw Error('Extension "'+t+'" is not a function');e.Extensions.register(t,(function(){if(a){if(!e.Mutator)throw Error(s+"Missing require for Blockly.Mutator");this.setMutator(new e.Mutator(i))}this.mixin(o),n&&n.apply(this)}))},e.Extensions.unregister=function(t){e.Extensions.ALL_[t]?delete e.Extensions.ALL_[t]:console.warn('No extension mapping for name "'+t+'" found to unregister')},e.Extensions.apply=function(t,o,n){var i=e.Extensions.ALL_[t];if("function"!=typeof i)throw Error('Error: Extension "'+t+'" not found.');if(n)e.Extensions.checkNoMutatorProperties_(t,o);else var s=e.Extensions.getMutatorProperties_(o);if(i.apply(o),n)e.Extensions.checkBlockHasMutatorProperties_('Error after applying mutator "'+t+'": ',o);else if(!e.Extensions.mutatorPropertiesMatch_(s,o))throw Error('Error when applying extension "'+t+'": mutation properties changed when applying a non-mutator extension.')},e.Extensions.checkHasFunction_=function(e,t,o){if(!t)throw Error(e+'missing required property "'+o+'"');if("function"!=typeof t)throw Error(e+'" required property "'+o+'" must be a function')},e.Extensions.checkNoMutatorProperties_=function(t,o){if(e.Extensions.getMutatorProperties_(o).length)throw Error('Error: tried to apply mutation "'+t+'" to a block that already has mutator functions.  Block id: '+o.id)},e.Extensions.checkMutatorDialog_=function(e,t){var o=void 0!==e.compose,n=void 0!==e.decompose;if(o&&n){if("function"!=typeof e.compose)throw Error(t+"compose must be a function.");if("function"!=typeof e.decompose)throw Error(t+"decompose must be a function.");return!0}if(o||n)throw Error(t+'Must have both or neither of "compose" and "decompose"');return!1},e.Extensions.checkBlockHasMutatorProperties_=function(t,o){if("function"!=typeof o.domToMutation)throw Error(t+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof o.mutationToDom)throw Error(t+'Applying a mutator didn\'t add "mutationToDom"');e.Extensions.checkMutatorDialog_(o,t)},e.Extensions.getMutatorProperties_=function(e){var t=[];return void 0!==e.domToMutation&&t.push(e.domToMutation),void 0!==e.mutationToDom&&t.push(e.mutationToDom),void 0!==e.compose&&t.push(e.compose),void 0!==e.decompose&&t.push(e.decompose),t},e.Extensions.mutatorPropertiesMatch_=function(t,o){var n=e.Extensions.getMutatorProperties_(o);if(n.length!=t.length)return!1;for(var i=0;i<n.length;i++)if(t[i]!=n[i])return!1;return!0},e.Extensions.buildTooltipForDropdown=function(t,o){var n=[];return"object"==typeof document&&e.utils.runAfterPageLoad((function(){for(var t in o)e.utils.checkMessageReferences(o[t])})),function(){this.type&&-1==n.indexOf(this.type)&&(e.Extensions.checkDropdownOptionsInTable_(this,t,o),n.push(this.type)),this.setTooltip(function(){var i=this.getFieldValue(t),s=o[i];return null==s?-1==n.indexOf(this.type)&&(i="No tooltip mapping for value "+i+" of field "+t,null!=this.type&&(i+=" of block type "+this.type),console.warn(i+".")):s=e.utils.replaceMessageReferences(s),s}.bind(this))}},e.Extensions.checkDropdownOptionsInTable_=function(e,t,o){var n=e.getField(t);if(!n.isOptionListDynamic()){n=n.getOptions();for(var i=0;i<n.length;++i){var s=n[i][1];null==o[s]&&console.warn("No tooltip mapping for value "+s+" of field "+t+" of block type "+e.type)}}},e.Extensions.buildTooltipWithFieldText=function(t,o){return"object"==typeof document&&e.utils.runAfterPageLoad((function(){e.utils.checkMessageReferences(t)})),function(){this.setTooltip(function(){var n=this.getField(o);return e.utils.replaceMessageReferences(t).replace("%1",n?n.getText():"")}.bind(this))}},e.Extensions.extensionParentTooltip_=function(){this.tooltipWhenNotConnected_=this.tooltip,this.setTooltip(function(){var e=this.getParent();return e&&e.getInputsInline()&&e.tooltip||this.tooltipWhenNotConnected_}.bind(this))},e.Extensions.register("parent_tooltip_when_inline",e.Extensions.extensionParentTooltip_),e.blockAnimations={},e.blockAnimations.disconnectPid_=0,e.blockAnimations.disconnectGroup_=null,e.blockAnimations.disposeUiEffect=function(t){var o=t.workspace,n=t.getSvgRoot();o.getAudioManager().play("delete"),t=o.getSvgXY(n),(n=n.cloneNode(!0)).translateX_=t.x,n.translateY_=t.y,n.setAttribute("transform","translate("+t.x+","+t.y+")"),o.getParentSvg().appendChild(n),n.bBox_=n.getBBox(),e.blockAnimations.disposeUiStep_(n,o.RTL,new Date,o.scale)},e.blockAnimations.disposeUiStep_=function(t,o,n,i){var s=(new Date-n)/150;1<s?e.utils.dom.removeNode(t):(t.setAttribute("transform","translate("+(t.translateX_+(o?-1:1)*t.bBox_.width*i/2*s)+","+(t.translateY_+t.bBox_.height*i*s)+") scale("+(1-s)*i+")"),setTimeout(e.blockAnimations.disposeUiStep_,10,t,o,n,i))},e.blockAnimations.connectionUiEffect=function(t){var o=t.workspace,n=o.scale;if(o.getAudioManager().play("click"),!(1>n)){var i=o.getSvgXY(t.getSvgRoot());t.outputConnection?(i.x+=(t.RTL?3:-3)*n,i.y+=13*n):t.previousConnection&&(i.x+=(t.RTL?-23:23)*n,i.y+=3*n),t=e.utils.dom.createSvgElement("circle",{cx:i.x,cy:i.y,r:0,fill:"none",stroke:"#888","stroke-width":10},o.getParentSvg()),e.blockAnimations.connectionUiStep_(t,new Date,n)}},e.blockAnimations.connectionUiStep_=function(t,o,n){var i=(new Date-o)/150;1<i?e.utils.dom.removeNode(t):(t.setAttribute("r",25*i*n),t.style.opacity=1-i,e.blockAnimations.disconnectPid_=setTimeout(e.blockAnimations.connectionUiStep_,10,t,o,n))},e.blockAnimations.disconnectUiEffect=function(t){if(t.workspace.getAudioManager().play("disconnect"),!(1>t.workspace.scale)){var o=t.getHeightWidth().height;o=Math.atan(10/o)/Math.PI*180,t.RTL||(o*=-1),e.blockAnimations.disconnectUiStep_(t.getSvgRoot(),o,new Date)}},e.blockAnimations.disconnectUiStep_=function(t,o,n){var i=(new Date-n)/200;1<i?t.skew_="":(t.skew_="skewX("+Math.round(Math.sin(i*Math.PI*3)*(1-i)*o)+")",e.blockAnimations.disconnectGroup_=t,e.blockAnimations.disconnectPid_=setTimeout(e.blockAnimations.disconnectUiStep_,10,t,o,n)),t.setAttribute("transform",t.translate_+t.skew_)},e.blockAnimations.disconnectUiStop=function(){if(e.blockAnimations.disconnectGroup_){clearTimeout(e.blockAnimations.disconnectPid_);var t=e.blockAnimations.disconnectGroup_;t.skew_="",t.setAttribute("transform",t.translate_),e.blockAnimations.disconnectGroup_=null}},e.InsertionMarkerManager=function(t){this.topBlock_=e.selected=t,this.workspace_=t.workspace,this.lastMarker_=this.lastOnStack_=null,this.firstMarker_=this.createMarkerBlock_(this.topBlock_),this.localConnection_=this.closestConnection_=null,this.wouldDeleteBlock_=!1,this.markerConnection_=null,this.highlightingBlock_=!1,this.highlightedBlock_=null,this.availableConnections_=this.initAvailableConnections_()},e.InsertionMarkerManager.prototype.dispose=function(){this.workspace_=this.topBlock_=null,this.availableConnections_.length=0,this.localConnection_=this.closestConnection_=null,e.Events.disable();try{this.firstMarker_&&(this.firstMarker_.dispose(),this.firstMarker_=null),this.lastMarker_&&(this.lastMarker_.dispose(),this.lastMarker_=null)}finally{e.Events.enable()}this.highlightedBlock_=null},e.InsertionMarkerManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_},e.InsertionMarkerManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_},e.InsertionMarkerManager.prototype.applyConnections=function(){if(this.closestConnection_&&(e.Events.disable(),this.hidePreview_(),e.Events.enable(),this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered)){var t=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;e.blockAnimations.connectionUiEffect(t.getSourceBlock()),this.topBlock_.getRootBlock().bringToFront()}},e.InsertionMarkerManager.prototype.update=function(t,o){var n=this.getCandidate_(t);((this.wouldDeleteBlock_=this.shouldDelete_(n,o))||this.shouldUpdatePreviews_(n,t))&&(e.Events.disable(),this.maybeHidePreview_(n),this.maybeShowPreview_(n),e.Events.enable())},e.InsertionMarkerManager.prototype.createMarkerBlock_=function(t){var o=t.type;e.Events.disable();try{var n=this.workspace_.newBlock(o);if(n.setInsertionMarker(!0,t.width),n.setCollapsed(t.isCollapsed()),t.mutationToDom){var i=t.mutationToDom();i&&n.domToMutation(i)}for(o=0;o<t.inputList.length;o++){var s=t.inputList[o],a=n.inputList[o];for(i=0;i<s.fieldRow.length;i++)a.fieldRow[i].setValue(s.fieldRow[i].getValue())}n.initSvg(),n.getSvgRoot().setAttribute("visibility","hidden")}finally{e.Events.enable()}return n},e.InsertionMarkerManager.prototype.initAvailableConnections_=function(){var e=this.topBlock_.getConnections_(!1),t=this.topBlock_.lastConnectionInStack();return t&&t!=this.topBlock_.nextConnection&&(e.push(t),this.lastOnStack_=t,this.lastMarker_=this.createMarkerBlock_(t.sourceBlock_)),e},e.InsertionMarkerManager.prototype.shouldUpdatePreviews_=function(t,o){var n=t.local,i=t.closest,s=t.radius;if(!n||!i)return!(!this.localConnection_||!this.closestConnection_);if(this.localConnection_&&this.closestConnection_){if(this.closestConnection_==i&&this.localConnection_==n)return!1;n=this.localConnection_.x_+o.x-this.closestConnection_.x_;var a=this.localConnection_.y_+o.y-this.closestConnection_.y_;return n=Math.sqrt(n*n+a*a),!(i&&s>n-e.CURRENT_CONNECTION_PREFERENCE)}return!this.localConnection_&&!this.closestConnection_||(console.error("Only one of localConnection_ and closestConnection_ was set."),console.error("Returning true from shouldUpdatePreviews, but it's not clear why."),!0)},e.InsertionMarkerManager.prototype.getCandidate_=function(e){for(var t=this.getStartRadius_(),o=null,n=null,i=0;i<this.availableConnections_.length;i++){var s=this.availableConnections_[i],a=s.closest(t,e);a.connection&&(o=a.connection,n=s,t=a.radius)}return{closest:o,local:n,radius:t}},e.InsertionMarkerManager.prototype.getStartRadius_=function(){return this.closestConnection_&&this.localConnection_?e.CONNECTING_SNAP_RADIUS:e.SNAP_RADIUS},e.InsertionMarkerManager.prototype.shouldReplace_=function(){var t=this.closestConnection_,o=this.localConnection_;return o.type==e.OUTPUT_VALUE?!(!t.isConnected()||e.Connection.lastConnectionInRow_(this.topBlock_,t.targetConnection.getSourceBlock())):o!=o.sourceBlock_.getFirstStatementConnection()&&!(this.topBlock_.nextConnection||o.type!=e.PREVIOUS_STATEMENT||!t.isConnected())},e.InsertionMarkerManager.prototype.shouldDelete_=function(t,o){var n=t&&!!t.closest&&o!=e.DELETE_AREA_TOOLBOX;return!!o&&!this.topBlock_.getParent()&&this.topBlock_.isDeletable()&&!n},e.InsertionMarkerManager.prototype.maybeShowPreview_=function(e){if(!this.wouldDeleteBlock_){var t=e.closest;e=e.local,t&&(t==this.closestConnection_||t.sourceBlock_.isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.closestConnection_=t,this.localConnection_=e,this.showPreview_()))}},e.InsertionMarkerManager.prototype.showPreview_=function(){this.shouldReplace_()?this.highlightBlock_():this.connectMarker_(),this.closestConnection_&&this.closestConnection_.highlight()},e.InsertionMarkerManager.prototype.maybeHidePreview_=function(e){if(e.closest){var t=this.closestConnection_!=e.closest;e=this.localConnection_!=e.local,this.closestConnection_&&this.localConnection_&&(t||e||this.wouldDeleteBlock_)&&this.hidePreview_()}else this.hidePreview_();this.localConnection_=this.closestConnection_=this.markerConnection_=null},e.InsertionMarkerManager.prototype.hidePreview_=function(){this.closestConnection_&&this.closestConnection_.unhighlight(),this.highlightingBlock_?this.unhighlightBlock_():this.markerConnection_&&this.disconnectMarker_()},e.InsertionMarkerManager.prototype.highlightBlock_=function(){var t=this.closestConnection_,o=this.localConnection_;t.targetBlock()?(this.highlightedBlock_=t.targetBlock(),t.targetBlock().highlightForReplacement(!0)):o.type==e.OUTPUT_VALUE&&(this.highlightedBlock_=t.sourceBlock_,t.sourceBlock_.highlightShapeForInput(t,!0)),this.highlightingBlock_=!0},e.InsertionMarkerManager.prototype.unhighlightBlock_=function(){var t=this.closestConnection_;t.type!=e.INPUT_VALUE||t.isConnected()?this.highlightedBlock_.highlightForReplacement(!1):this.highlightedBlock_.highlightShapeForInput(t,!1),this.highlightedBlock_=null,this.highlightingBlock_=!1},e.InsertionMarkerManager.prototype.disconnectMarker_=function(){if(this.markerConnection_){var t=this.markerConnection_,o=t.sourceBlock_,n=o.nextConnection,i=o.previousConnection,s=o.outputConnection;if(s=t.type==e.INPUT_VALUE&&!(s&&s.targetConnection),!(t!=n||i&&i.targetConnection)||s?t.targetBlock().unplug(!1):t.type==e.NEXT_STATEMENT&&t!=n?((n=t.targetConnection).sourceBlock_.unplug(!1),i=i?i.targetConnection:null,o.unplug(!0),i&&i.connect(n)):o.unplug(!0),t.targetConnection)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");this.markerConnection_=null,o.getSvgRoot().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")},e.InsertionMarkerManager.prototype.connectMarker_=function(){var e=this.localConnection_,t=this.closestConnection_,o=this.lastOnStack_&&e==this.lastOnStack_?this.lastMarker_:this.firstMarker_;if((e=o.getMatchingConnection(e.sourceBlock_,e))==this.markerConnection_)throw Error("Made it to connectMarker_ even though the marker isn't changing");o.render(),o.rendered=!0,o.getSvgRoot().setAttribute("visibility","visible"),o.positionNewBlock(o,e,t),e.connect(t),this.markerConnection_=e},e.InsertionMarkerManager.prototype.getInsertionMarkers=function(){var e=[];return this.firstMarker_&&e.push(this.firstMarker_),this.lastMarker_&&e.push(this.lastMarker_),e},e.BlockDragger=function(t,o){this.draggingBlock_=t,this.workspace_=o,this.draggedConnectionManager_=new e.InsertionMarkerManager(this.draggingBlock_),this.deleteArea_=null,this.wouldDeleteBlock_=!1,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=e.BlockDragger.initIconData_(t)},e.BlockDragger.prototype.dispose=function(){this.startWorkspace_=this.workspace_=this.draggingBlock_=null,this.dragIconData_.length=0,this.draggedConnectionManager_&&(this.draggedConnectionManager_.dispose(),this.draggedConnectionManager_=null)},e.BlockDragger.initIconData_=function(e){var t=[];e=e.getDescendants(!1);for(var o,n=0;o=e[n];n++){o=o.getIcons();for(var i=0;i<o.length;i++){var s={location:o[i].getIconLocation(),icon:o[i]};t.push(s)}}return t},e.BlockDragger.prototype.startBlockDrag=function(t,o){if(e.Events.getGroup()||e.Events.setGroup(!0),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),e.utils.dom.startTextWidthCache(),this.workspace_.setResizesEnabled(!1),e.blockAnimations.disconnectUiStop(),this.draggingBlock_.getParent()||o&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock()){this.draggingBlock_.unplug(o);var n=this.pixelsToWorkspaceUnits_(t);n=e.utils.Coordinate.sum(this.startXY_,n),this.draggingBlock_.translate(n.x,n.y),e.blockAnimations.disconnectUiEffect(this.draggingBlock_)}if(this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface_(),n=this.workspace_.getToolbox()){var i=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";n.addStyle(i)}},e.BlockDragger.prototype.dragBlock=function(t,o){var n=this.pixelsToWorkspaceUnits_(o),i=e.utils.Coordinate.sum(this.startXY_,n);this.draggingBlock_.moveDuringDrag(i),this.dragIcons_(n),this.deleteArea_=this.workspace_.isDeleteArea(t),this.draggedConnectionManager_.update(n,this.deleteArea_),this.updateCursorDuringBlockDrag_()},e.BlockDragger.prototype.endBlockDrag=function(t,o){this.dragBlock(t,o),this.dragIconData_=[],e.utils.dom.stopTextWidthCache(),e.blockAnimations.disconnectUiStop();var n=this.pixelsToWorkspaceUnits_(o),i=e.utils.Coordinate.sum(this.startXY_,n);this.draggingBlock_.moveOffDragSurface_(i),this.maybeDeleteBlock_()||(this.draggingBlock_.moveConnections_(n.x,n.y),this.draggingBlock_.setDragging(!1),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()),this.workspace_.setResizesEnabled(!0),(n=this.workspace_.getToolbox())&&(i=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",n.removeStyle(i)),e.Events.setGroup(!1)},e.BlockDragger.prototype.fireMoveEvent_=function(){var t=new e.Events.BlockMove(this.draggingBlock_);t.oldCoordinate=this.startXY_,t.recordNew(),e.Events.fire(t)},e.BlockDragger.prototype.maybeDeleteBlock_=function(){var e=this.workspace_.trashcan;return this.wouldDeleteBlock_?(e&&setTimeout(e.close.bind(e),100),this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0)):e&&e.close(),this.wouldDeleteBlock_},e.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock();var t=this.workspace_.trashcan;this.wouldDeleteBlock_?(this.draggingBlock_.setDeleteStyle(!0),this.deleteArea_==e.DELETE_AREA_TRASH&&t&&t.setOpen_(!0)):(this.draggingBlock_.setDeleteStyle(!1),t&&t.setOpen_(!1))},e.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(t){return t=new e.utils.Coordinate(t.x/this.workspace_.scale,t.y/this.workspace_.scale),this.workspace_.isMutator&&t.scale(1/this.workspace_.options.parentWorkspace.scale),t},e.BlockDragger.prototype.dragIcons_=function(t){for(var o=0;o<this.dragIconData_.length;o++){var n=this.dragIconData_[o];n.icon.setIconLocation(e.utils.Coordinate.sum(n.location,t))}},e.BlockDragger.prototype.getInsertionMarkers=function(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]},e.Touch={},e.Touch.TOUCH_ENABLED="ontouchstart"in e.utils.global||!!(e.utils.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!e.utils.global.navigator||!e.utils.global.navigator.maxTouchPoints&&!e.utils.global.navigator.msMaxTouchPoints),e.Touch.touchIdentifier_=null,e.Touch.TOUCH_MAP={},e.utils.global.PointerEvent?e.Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:e.Touch.TOUCH_ENABLED&&(e.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]}),e.longPid_=0,e.longStart_=function(t,o){e.longStop_(),t.changedTouches&&1!=t.changedTouches.length||(e.longPid_=setTimeout((function(){t.changedTouches&&(t.button=2,t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),o&&o.handleRightClick(t)}),e.LONGPRESS))},e.longStop_=function(){e.longPid_&&(clearTimeout(e.longPid_),e.longPid_=0)},e.Touch.clearTouchIdentifier=function(){e.Touch.touchIdentifier_=null},e.Touch.shouldHandleEvent=function(t){return!e.Touch.isMouseOrTouchEvent(t)||e.Touch.checkTouchIdentifier(t)},e.Touch.getTouchIdentifierFromEvent=function(e){return void 0!=e.pointerId?e.pointerId:e.changedTouches&&e.changedTouches[0]&&void 0!==e.changedTouches[0].identifier&&null!==e.changedTouches[0].identifier?e.changedTouches[0].identifier:"mouse"},e.Touch.checkTouchIdentifier=function(t){var o=e.Touch.getTouchIdentifierFromEvent(t);return void 0!==e.Touch.touchIdentifier_&&null!==e.Touch.touchIdentifier_?e.Touch.touchIdentifier_==o:("mousedown"==t.type||"touchstart"==t.type||"pointerdown"==t.type)&&(e.Touch.touchIdentifier_=o,!0)},e.Touch.setClientFromTouch=function(t){if(e.utils.string.startsWith(t.type,"touch")){var o=t.changedTouches[0];t.clientX=o.clientX,t.clientY=o.clientY}},e.Touch.isMouseOrTouchEvent=function(t){return e.utils.string.startsWith(t.type,"touch")||e.utils.string.startsWith(t.type,"mouse")||e.utils.string.startsWith(t.type,"pointer")},e.Touch.isTouchEvent=function(t){return e.utils.string.startsWith(t.type,"touch")||e.utils.string.startsWith(t.type,"pointer")},e.Touch.splitEventByTouches=function(e){var t=[];if(e.changedTouches)for(var o=0;o<e.changedTouches.length;o++)t[o]={type:e.type,changedTouches:[e.changedTouches[o]],target:e.target,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()}};else t.push(e);return t},e.ScrollbarPair=function(t){this.workspace_=t,this.hScroll=new e.Scrollbar(t,!0,!0,"blocklyMainWorkspaceScrollbar"),this.vScroll=new e.Scrollbar(t,!1,!0,"blocklyMainWorkspaceScrollbar"),this.corner_=e.utils.dom.createSvgElement("rect",{height:e.Scrollbar.scrollbarThickness,width:e.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),e.utils.dom.insertAfter(this.corner_,t.getBubbleCanvas())},e.ScrollbarPair.prototype.oldHostMetrics_=null,e.ScrollbarPair.prototype.dispose=function(){e.utils.dom.removeNode(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll.dispose(),this.hScroll=null,this.vScroll.dispose(),this.vScroll=null},e.ScrollbarPair.prototype.resize=function(){var e=this.workspace_.getMetrics();if(e){var t=!1,o=!1;this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.contentWidth==e.contentWidth&&this.oldHostMetrics_.viewLeft==e.viewLeft&&this.oldHostMetrics_.contentLeft==e.contentLeft||(t=!0),this.oldHostMetrics_&&this.oldHostMetrics_.contentHeight==e.contentHeight&&this.oldHostMetrics_.viewTop==e.viewTop&&this.oldHostMetrics_.contentTop==e.contentTop||(o=!0)):o=t=!0,t&&this.hScroll.resize(e),o&&this.vScroll.resize(e),this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position_.x),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop||this.corner_.setAttribute("y",this.hScroll.position_.y),this.oldHostMetrics_=e}},e.ScrollbarPair.prototype.set=function(e,t){var o={},n=e*this.hScroll.ratio_,i=t*this.vScroll.ratio_,s=this.vScroll.scrollViewSize_;o.x=this.getRatio_(n,this.hScroll.scrollViewSize_),o.y=this.getRatio_(i,s),this.workspace_.setMetrics(o),this.hScroll.setHandlePosition(n),this.vScroll.setHandlePosition(i)},e.ScrollbarPair.prototype.getRatio_=function(e,t){var o=e/t;return isNaN(o)?0:o},e.Scrollbar=function(t,o,n,i){this.workspace_=t,this.pair_=n||!1,this.horizontal_=o,this.oldHostMetrics_=null,this.createDom_(i),this.position_=new e.utils.Coordinate(0,0),t=e.Scrollbar.scrollbarThickness,o?(this.svgBackground_.setAttribute("height",t),this.outerSvg_.setAttribute("height",t),this.svgHandle_.setAttribute("height",t-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",t),this.outerSvg_.setAttribute("width",t),this.svgHandle_.setAttribute("width",t-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=e.bindEventWithChecks_(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownHandleWrapper_=e.bindEventWithChecks_(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)},e.Scrollbar.prototype.origin_=new e.utils.Coordinate(0,0),e.Scrollbar.prototype.startDragMouse_=0,e.Scrollbar.prototype.scrollViewSize_=0,e.Scrollbar.prototype.handleLength_=0,e.Scrollbar.prototype.handlePosition_=0,e.Scrollbar.prototype.isVisible_=!0,e.Scrollbar.prototype.containerVisible_=!0,e.Scrollbar.scrollbarThickness=15,e.Touch.TOUCH_ENABLED&&(e.Scrollbar.scrollbarThickness=25),e.Scrollbar.metricsAreEquivalent_=function(e,t){return!(!e||!t||e.viewWidth!=t.viewWidth||e.viewHeight!=t.viewHeight||e.viewLeft!=t.viewLeft||e.viewTop!=t.viewTop||e.absoluteTop!=t.absoluteTop||e.absoluteLeft!=t.absoluteLeft||e.contentWidth!=t.contentWidth||e.contentHeight!=t.contentHeight||e.contentLeft!=t.contentLeft||e.contentTop!=t.contentTop)},e.Scrollbar.prototype.dispose=function(){this.cleanUp_(),e.unbindEvent_(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,e.unbindEvent_(this.onMouseDownHandleWrapper_),this.onMouseDownHandleWrapper_=null,e.utils.dom.removeNode(this.outerSvg_),this.svgBackground_=this.svgGroup_=this.outerSvg_=null,this.svgHandle_&&(this.workspace_.getThemeManager().unsubscribe(this.svgHandle_),this.svgHandle_=null),this.workspace_=null},e.Scrollbar.prototype.setHandleLength_=function(e){this.handleLength_=e,this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)},e.Scrollbar.prototype.setHandlePosition=function(e){this.handlePosition_=e,this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)},e.Scrollbar.prototype.setScrollViewSize_=function(e){this.scrollViewSize_=e,this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollViewSize_),this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollViewSize_)},e.ScrollbarPair.prototype.setContainerVisible=function(e){this.hScroll.setContainerVisible(e),this.vScroll.setContainerVisible(e)},e.Scrollbar.prototype.setPosition_=function(t,o){this.position_.x=t,this.position_.y=o,e.utils.dom.setCssTransform(this.outerSvg_,"translate("+(this.position_.x+this.origin_.x)+"px,"+(this.position_.y+this.origin_.y)+"px)")},e.Scrollbar.prototype.resize=function(t){(t||(t=this.workspace_.getMetrics()))&&(e.Scrollbar.metricsAreEquivalent_(t,this.oldHostMetrics_)||(this.oldHostMetrics_=t,this.horizontal_?this.resizeHorizontal_(t):this.resizeVertical_(t),this.onScroll_()))},e.Scrollbar.prototype.resizeHorizontal_=function(e){this.resizeViewHorizontal(e)},e.Scrollbar.prototype.resizeViewHorizontal=function(t){var o=t.viewWidth-1;this.pair_&&(o-=e.Scrollbar.scrollbarThickness),this.setScrollViewSize_(Math.max(0,o)),o=t.absoluteLeft+.5,this.pair_&&this.workspace_.RTL&&(o+=e.Scrollbar.scrollbarThickness),this.setPosition_(o,t.absoluteTop+t.viewHeight-e.Scrollbar.scrollbarThickness-.5),this.resizeContentHorizontal(t)},e.Scrollbar.prototype.resizeContentHorizontal=function(e){this.pair_||this.setVisible(this.scrollViewSize_<e.contentWidth),this.ratio_=this.scrollViewSize_/e.contentWidth,(-1/0==this.ratio_||1/0==this.ratio_||isNaN(this.ratio_))&&(this.ratio_=0),this.setHandleLength_(Math.max(0,e.viewWidth*this.ratio_)),this.setHandlePosition(this.constrainHandle_((e.viewLeft-e.contentLeft)*this.ratio_))},e.Scrollbar.prototype.resizeVertical_=function(e){this.resizeViewVertical(e)},e.Scrollbar.prototype.resizeViewVertical=function(t){var o=t.viewHeight-1;this.pair_&&(o-=e.Scrollbar.scrollbarThickness),this.setScrollViewSize_(Math.max(0,o)),o=t.absoluteLeft+.5,this.workspace_.RTL||(o+=t.viewWidth-e.Scrollbar.scrollbarThickness-1),this.setPosition_(o,t.absoluteTop+.5),this.resizeContentVertical(t)},e.Scrollbar.prototype.resizeContentVertical=function(e){this.pair_||this.setVisible(this.scrollViewSize_<e.contentHeight),this.ratio_=this.scrollViewSize_/e.contentHeight,(-1/0==this.ratio_||1/0==this.ratio_||isNaN(this.ratio_))&&(this.ratio_=0),this.setHandleLength_(Math.max(0,e.viewHeight*this.ratio_)),this.setHandlePosition(this.constrainHandle_((e.viewTop-e.contentTop)*this.ratio_))},e.Scrollbar.prototype.createDom_=function(t){var o="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");t&&(o+=" "+t),this.outerSvg_=e.utils.dom.createSvgElement("svg",{class:o},null),this.svgGroup_=e.utils.dom.createSvgElement("g",{},this.outerSvg_),this.svgBackground_=e.utils.dom.createSvgElement("rect",{class:"blocklyScrollbarBackground"},this.svgGroup_),t=Math.floor((e.Scrollbar.scrollbarThickness-5)/2),this.svgHandle_=e.utils.dom.createSvgElement("rect",{class:"blocklyScrollbarHandle",rx:t,ry:t},this.svgGroup_),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbar","fill"),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarOpacity","fill-opacity"),e.utils.dom.insertAfter(this.outerSvg_,this.workspace_.getParentSvg())},e.Scrollbar.prototype.isVisible=function(){return this.isVisible_},e.Scrollbar.prototype.setContainerVisible=function(e){var t=e!=this.containerVisible_;this.containerVisible_=e,t&&this.updateDisplay_()},e.Scrollbar.prototype.setVisible=function(e){var t=e!=this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=e,t&&this.updateDisplay_()},e.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")},e.Scrollbar.prototype.onMouseDownBar_=function(t){if(this.workspace_.markFocused(),e.Touch.clearTouchIdentifier(),this.cleanUp_(),e.utils.isRightButton(t))t.stopPropagation();else{var o=e.utils.mouseToSvg(t,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());o=this.horizontal_?o.x:o.y;var n=e.utils.getInjectionDivXY_(this.svgHandle_);n=this.horizontal_?n.x:n.y;var i=this.handlePosition_,s=.95*this.handleLength_;o<=n?i-=s:o>=n+this.handleLength_&&(i+=s),this.setHandlePosition(this.constrainHandle_(i)),this.onScroll_(),t.stopPropagation(),t.preventDefault()}},e.Scrollbar.prototype.onMouseDownHandle_=function(t){this.workspace_.markFocused(),this.cleanUp_(),e.utils.isRightButton(t)?t.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?t.clientX:t.clientY,e.Scrollbar.onMouseUpWrapper_=e.bindEventWithChecks_(document,"mouseup",this,this.onMouseUpHandle_),e.Scrollbar.onMouseMoveWrapper_=e.bindEventWithChecks_(document,"mousemove",this,this.onMouseMoveHandle_),t.stopPropagation(),t.preventDefault())},e.Scrollbar.prototype.onMouseMoveHandle_=function(e){this.setHandlePosition(this.constrainHandle_(this.startDragHandle+((this.horizontal_?e.clientX:e.clientY)-this.startDragMouse_))),this.onScroll_()},e.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface(),e.Touch.clearTouchIdentifier(),this.cleanUp_()},e.Scrollbar.prototype.cleanUp_=function(){e.hideChaff(!0),e.Scrollbar.onMouseUpWrapper_&&(e.unbindEvent_(e.Scrollbar.onMouseUpWrapper_),e.Scrollbar.onMouseUpWrapper_=null),e.Scrollbar.onMouseMoveWrapper_&&(e.unbindEvent_(e.Scrollbar.onMouseMoveWrapper_),e.Scrollbar.onMouseMoveWrapper_=null)},e.Scrollbar.prototype.constrainHandle_=function(e){return 0>=e||isNaN(e)||this.scrollViewSize_<this.handleLength_?0:Math.min(e,this.scrollViewSize_-this.handleLength_)},e.Scrollbar.prototype.onScroll_=function(){var e=this.handlePosition_/this.scrollViewSize_;isNaN(e)&&(e=0);var t={};this.horizontal_?t.x=e:t.y=e,this.workspace_.setMetrics(t)},e.Scrollbar.prototype.set=function(e){this.setHandlePosition(this.constrainHandle_(e*this.ratio_)),this.onScroll_()},e.Scrollbar.prototype.setOrigin=function(t,o){this.origin_=new e.utils.Coordinate(t,o)},e.utils.math={},e.utils.math.toRadians=function(e){return e*Math.PI/180},e.utils.math.toDegrees=function(e){return 180*e/Math.PI},e.utils.math.clamp=function(e,t,o){if(o<e){var n=o;o=e,e=n}return Math.max(e,Math.min(t,o))},e.Cursor=function(){this.drawer_=this.curNode_=null},e.Cursor.prototype.setDrawer=function(e){this.drawer_=e},e.Cursor.prototype.getDrawer=function(){return this.drawer_},e.Cursor.prototype.getCurNode=function(){return this.curNode_},e.Cursor.prototype.setCurNode=function(e){this.curNode_=e,this.drawer_&&this.drawer_.draw(this.getCurNode())},e.Cursor.prototype.hide=function(){this.drawer_&&this.drawer_.hide()},e.Cursor.prototype.next=function(){var t=this.getCurNode();if(!t)return null;for(t=t.next();t&&t.next()&&(t.getType()==e.ASTNode.types.NEXT||t.getType()==e.ASTNode.types.BLOCK);)t=t.next();return t&&this.setCurNode(t),t},e.Cursor.prototype.in=function(){var t=this.getCurNode();return t?(t.getType()!=e.ASTNode.types.PREVIOUS&&t.getType()!=e.ASTNode.types.OUTPUT||(t=t.next()),(t=t.in())&&this.setCurNode(t),t):null},e.Cursor.prototype.prev=function(){var t=this.getCurNode();if(!t)return null;for(t=t.prev();t&&t.prev()&&(t.getType()==e.ASTNode.types.NEXT||t.getType()==e.ASTNode.types.BLOCK);)t=t.prev();return t&&this.setCurNode(t),t},e.Cursor.prototype.out=function(){var t=this.getCurNode();return t?((t=t.out())&&t.getType()==e.ASTNode.types.BLOCK&&(t=t.prev()||t),t&&this.setCurNode(t),t):null},e.MarkerCursor=function(){e.MarkerCursor.superClass_.constructor.call(this)},e.utils.object.inherits(e.MarkerCursor,e.Cursor),e.MarkerCursor.prototype.next=function(){return null},e.MarkerCursor.prototype.in=function(){return null},e.MarkerCursor.prototype.prev=function(){return null},e.MarkerCursor.prototype.out=function(){return null},e.Theme=function(e,t,o){this.blockStyles_=e,this.categoryStyles_=t,this.componentStyles_=o||Object.create(null)},e.Theme.prototype.setAllBlockStyles=function(e){for(var t in e)this.setBlockStyle(t,e[t])},e.Theme.prototype.getAllBlockStyles=function(){return this.blockStyles_},e.Theme.prototype.getBlockStyle=function(e){return this.blockStyles_[e]},e.Theme.prototype.setBlockStyle=function(e,t){this.blockStyles_[e]=t},e.Theme.prototype.getCategoryStyle=function(e){return this.categoryStyles_[e]},e.Theme.prototype.setCategoryStyle=function(e,t){this.categoryStyles_[e]=t},e.Theme.prototype.getComponentStyle=function(e){return(e=this.componentStyles_[e])&&"string"==typeof propertyValue&&this.getComponentStyle(e)?this.getComponentStyle(e):e?String(e):null},e.Theme.prototype.setComponentStyle=function(e,t){this.componentStyles_[e]=t},e.ThemeManager=function(e){this.theme_=e,this.subscribedWorkspaces_=[],this.componentDB_=Object.create(null)},e.ThemeManager.prototype.getTheme=function(){return this.theme_},e.ThemeManager.prototype.setTheme=function(e){if(this.theme_!==e){this.theme_=e,e=0;for(var t;t=this.subscribedWorkspaces_[e];e++)t.refreshTheme();e=0,t=Object.keys(this.componentDB_);for(var o;o=t[e];e++)for(var n,i=0;n=this.componentDB_[o][i];i++){var s=n.element;n=n.propertyName;var a=this.theme_&&this.theme_.getComponentStyle(o);s.style[n]=a||""}}},e.ThemeManager.prototype.subscribeWorkspace=function(e){this.subscribedWorkspaces_.push(e)},e.ThemeManager.prototype.unsubscribeWorkspace=function(e){if(0>(e=this.subscribedWorkspaces_.indexOf(e)))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");this.subscribedWorkspaces_.splice(e,1)},e.ThemeManager.prototype.subscribe=function(e,t,o){this.componentDB_[t]||(this.componentDB_[t]=[]),this.componentDB_[t].push({element:e,propertyName:o}),t=this.theme_&&this.theme_.getComponentStyle(t),e.style[o]=t||""},e.ThemeManager.prototype.unsubscribe=function(e){if(e)for(var t,o=Object.keys(this.componentDB_),n=0;t=o[n];n++){for(var i=this.componentDB_[t],s=i.length-1;0<=s;s--)i[s].element===e&&i.splice(s,1);this.componentDB_[t].length||delete this.componentDB_[t]}},e.ThemeManager.prototype.dispose=function(){this.componentDB_=this.subscribedWorkspaces_=this.theme_=this.owner_=null},e.Themes={},e.Themes.Classic={},e.Themes.Classic.defaultBlockStyles={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},e.Themes.Classic.categoryStyles={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},e.Themes.Classic=new e.Theme(e.Themes.Classic.defaultBlockStyles,e.Themes.Classic.categoryStyles),e.VariableMap=function(e){this.variableMap_=Object.create(null),this.workspace=e},e.VariableMap.prototype.clear=function(){this.variableMap_=Object.create(null)},e.VariableMap.prototype.renameVariable=function(t,o){var n=this.getVariable(o,t.type),i=this.workspace.getAllBlocks(!1);e.Events.setGroup(!0);try{n&&n.getId()!=t.getId()?this.renameVariableWithConflict_(t,o,n,i):this.renameVariableAndUses_(t,o,i)}finally{e.Events.setGroup(!1)}},e.VariableMap.prototype.renameVariableById=function(e,t){var o=this.getVariableById(e);if(!o)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(o,t)},e.VariableMap.prototype.renameVariableAndUses_=function(t,o,n){for(e.Events.fire(new e.Events.VarRename(t,o)),t.name=o,o=0;o<n.length;o++)n[o].updateVarName(t)},e.VariableMap.prototype.renameVariableWithConflict_=function(t,o,n,i){var s=t.type;for(o!=n.name&&this.renameVariableAndUses_(n,o,i),o=0;o<i.length;o++)i[o].renameVarById(t.getId(),n.getId());e.Events.fire(new e.Events.VarDelete(t)),t=this.getVariablesOfType(s).indexOf(t),this.variableMap_[s].splice(t,1)},e.VariableMap.prototype.createVariable=function(t,o,n){var i=this.getVariable(t,o);if(i){if(n&&i.getId()!=n)throw Error('Variable "'+t+'" is already in use and its id is "'+i.getId()+'" which conflicts with the passed in id, "'+n+'".');return i}if(n&&this.getVariableById(n))throw Error('Variable id, "'+n+'", is already in use.');return i=n||e.utils.genUid(),o=o||"",i=new e.VariableModel(this.workspace,t,o,i),(t=this.variableMap_[o]||[]).push(i),delete this.variableMap_[o],this.variableMap_[o]=t,i},e.VariableMap.prototype.deleteVariable=function(t){for(var o,n=this.variableMap_[t.type],i=0;o=n[i];i++)if(o.getId()==t.getId()){n.splice(i,1),e.Events.fire(new e.Events.VarDelete(t));break}},e.VariableMap.prototype.deleteVariableById=function(t){var o=this.getVariableById(t);if(o){var n,i=o.name,s=this.getVariableUsesById(t);for(t=0;n=s[t];t++)if("procedures_defnoreturn"==n.type||"procedures_defreturn"==n.type)return t=n.getFieldValue("NAME"),i=e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",i).replace("%2",t),void e.alert(i);var a=this;1<s.length?(i=e.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(s.length)).replace("%2",i),e.confirm(i,(function(e){e&&a.deleteVariableInternal_(o,s)}))):a.deleteVariableInternal_(o,s)}else console.warn("Can't delete non-existent variable: "+t)},e.VariableMap.prototype.deleteVariableInternal_=function(t,o){var n=e.Events.getGroup();n||e.Events.setGroup(!0);try{for(var i=0;i<o.length;i++)o[i].dispose(!0,!1);this.deleteVariable(t)}finally{n||e.Events.setGroup(!1)}},e.VariableMap.prototype.getVariable=function(t,o){var n=this.variableMap_[o||""];if(n)for(var i,s=0;i=n[s];s++)if(e.Names.equals(i.name,t))return i;return null},e.VariableMap.prototype.getVariableById=function(e){for(var t=Object.keys(this.variableMap_),o=0;o<t.length;o++)for(var n,i=t[o],s=0;n=this.variableMap_[i][s];s++)if(n.getId()==e)return n;return null},e.VariableMap.prototype.getVariablesOfType=function(e){return(e=this.variableMap_[e||""])?e.slice():[]},e.VariableMap.prototype.getVariableTypes=function(e){var t=[];e&&e.getPotentialVariableMap()&&(t=Object.keys(e.getPotentialVariableMap().variableMap_)),e=Object.keys(this.variableMap_).concat(t),t=!1;for(var o=0;o<e.length;o++)""==e[o]&&(t=!0);return t||e.push(""),e},e.VariableMap.prototype.getAllVariables=function(){var e,t=[];for(e in this.variableMap_)t=t.concat(this.variableMap_[e]);return t},e.VariableMap.prototype.getVariableUsesById=function(e){for(var t=[],o=this.workspace.getAllBlocks(!1),n=0;n<o.length;n++){var i=o[n].getVarModels();if(i)for(var s=0;s<i.length;s++)i[s].getId()==e&&t.push(o[n])}return t},e.Workspace=function(t){this.id=e.utils.genUid(),e.Workspace.WorkspaceDB_[this.id]=this,this.options=t||{},this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.topBlocks_=[],this.topComments_=[],this.commentDB_=Object.create(null),this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null),this.typedBlocksDB_=Object.create(null),this.variableMap_=new e.VariableMap(this),this.potentialVariableMap_=null,this.cursor_=new e.Cursor,this.marker_=new e.MarkerCursor,this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new e.ThemeManager(this.options.theme||e.Themes.Classic),this.themeManager_.subscribeWorkspace(this)},e.Workspace.prototype.rendered=!1,e.Workspace.prototype.isClearing=!1,e.Workspace.prototype.MAX_UNDO=1024,e.Workspace.prototype.connectionDBList=null,e.Workspace.prototype.setCursor=function(e){this.cursor_=e},e.Workspace.prototype.setMarker=function(e){this.marker_=e},e.Workspace.prototype.getCursor=function(){return this.cursor_},e.Workspace.prototype.getMarker=function(){return this.marker_},e.Workspace.prototype.getTheme=function(){return this.themeManager_.getTheme()},e.Workspace.prototype.setTheme=function(t){t||(t=e.Themes.Classic),this.themeManager_.setTheme(t)},e.Workspace.prototype.refreshTheme=function(){this.updateBlockStyles_(this.getAllBlocks().filter((function(e){return void 0!==e.getStyleName()})));var t=new e.Events.Ui(null,"theme",null,null);t.workspaceId=this.id,e.Events.fire(t)},e.Workspace.prototype.updateBlockStyles_=function(e){for(var t,o=0;t=e[o];o++){var n=t.getStyleName();t.setStyle(n),t.mutator&&t.mutator.updateBlockStyle(n)}},e.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete e.Workspace.WorkspaceDB_[this.id],this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||(this.themeManager_.dispose(),this.themeManager_=null))},e.Workspace.SCAN_ANGLE=3,e.Workspace.prototype.sortObjects_=function(t,o){var n=t.getRelativeToSurfaceXY(),i=o.getRelativeToSurfaceXY();return n.y+e.Workspace.prototype.sortObjects_.offset*n.x-(i.y+e.Workspace.prototype.sortObjects_.offset*i.x)},e.Workspace.prototype.addTopBlock=function(e){this.topBlocks_.push(e)},e.Workspace.prototype.removeTopBlock=function(t){if(!e.utils.arrayRemove(this.topBlocks_,t))throw Error("Block not present in workspace's list of top-most blocks.")},e.Workspace.prototype.getTopBlocks=function(t){var o=[].concat(this.topBlocks_);return t&&1<o.length&&(this.sortObjects_.offset=Math.sin(e.utils.math.toRadians(e.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),o.sort(this.sortObjects_)),o},e.Workspace.prototype.addTypedBlock=function(e){this.typedBlocksDB_[e.type]||(this.typedBlocksDB_[e.type]=[]),this.typedBlocksDB_[e.type].push(e)},e.Workspace.prototype.removeTypedBlock=function(e){this.typedBlocksDB_[e.type].splice(this.typedBlocksDB_[e.type].indexOf(e),1),this.typedBlocksDB_[e.type].length||delete this.typedBlocksDB_[e.type]},e.Workspace.prototype.getBlocksByType=function(t,o){if(!this.typedBlocksDB_[t])return[];var n=this.typedBlocksDB_[t].slice(0);return o&&1<n.length&&(this.sortObjects_.offset=Math.sin(e.utils.math.toRadians(e.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},e.Workspace.prototype.addTopComment=function(e){this.topComments_.push(e),this.commentDB_[e.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB_[e.id]=e},e.Workspace.prototype.removeTopComment=function(t){if(!e.utils.arrayRemove(this.topComments_,t))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[t.id]},e.Workspace.prototype.getTopComments=function(t){var o=[].concat(this.topComments_);return t&&1<o.length&&(this.sortObjects_.offset=Math.sin(e.utils.math.toRadians(e.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),o.sort(this.sortObjects_)),o},e.Workspace.prototype.getAllBlocks=function(e){if(e){e=this.getTopBlocks(!0);for(var t=[],o=0;o<e.length;o++)t.push.apply(t,e[o].getDescendants(!0))}else for(t=this.getTopBlocks(!1),o=0;o<t.length;o++)t.push.apply(t,t[o].getChildren(!1));return t.filter((function(e){return!e.isInsertionMarker()}))},e.Workspace.prototype.clear=function(){this.isClearing=!0;try{var t=e.Events.getGroup();for(t||e.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose();for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose();t||e.Events.setGroup(!1),this.variableMap_.clear(),this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}},e.Workspace.prototype.renameVariableById=function(e,t){this.variableMap_.renameVariableById(e,t)},e.Workspace.prototype.createVariable=function(e,t,o){return this.variableMap_.createVariable(e,t,o)},e.Workspace.prototype.getVariableUsesById=function(e){return this.variableMap_.getVariableUsesById(e)},e.Workspace.prototype.deleteVariableById=function(e){this.variableMap_.deleteVariableById(e)},e.Workspace.prototype.deleteVariableInternal_=function(e,t){this.variableMap_.deleteVariableInternal_(e,t)},e.Workspace.prototype.variableIndexOf=function(e){return console.warn("Deprecated call to Blockly.Workspace.prototype.variableIndexOf"),-1},e.Workspace.prototype.getVariable=function(e,t){return this.variableMap_.getVariable(e,t)},e.Workspace.prototype.getVariableById=function(e){return this.variableMap_.getVariableById(e)},e.Workspace.prototype.getVariablesOfType=function(e){return this.variableMap_.getVariablesOfType(e)},e.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes(this)},e.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()},e.Workspace.prototype.getWidth=function(){return 0},e.Workspace.prototype.newBlock=function(t,o){return new e.Block(this,t,o)},e.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks().length},e.Workspace.prototype.remainingCapacityOfType=function(e){return this.options.maxInstances?(this.options.maxInstances[e]||1/0)-this.getBlocksByType(e).length:1/0},e.Workspace.prototype.isCapacityAvailable=function(e){if(!this.hasBlockLimits())return!0;var t,o=0;for(t in e){if(e[t]>this.remainingCapacityOfType(t))return!1;o+=e[t]}return!(o>this.remainingCapacity())},e.Workspace.prototype.hasBlockLimits=function(){return 1/0!=this.options.maxBlocks||!!this.options.maxInstances},e.Workspace.prototype.undo=function(t){var o=t?this.redoStack_:this.undoStack_,n=t?this.undoStack_:this.redoStack_,i=o.pop();if(i){for(var s=[i];o.length&&i.group&&i.group==o[o.length-1].group;)s.push(o.pop());for(o=0;i=s[o];o++)n.push(i);s=e.Events.filter(s,t),e.Events.recordUndo=!1;try{for(o=0;i=s[o];o++)i.run(t)}finally{e.Events.recordUndo=!0}}},e.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,e.Events.clearPendingUndo()},e.Workspace.prototype.addChangeListener=function(e){return this.listeners_.push(e),e},e.Workspace.prototype.removeChangeListener=function(t){e.utils.arrayRemove(this.listeners_,t)},e.Workspace.prototype.fireChangeListener=function(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var t,o=0;t=this.listeners_[o];o++)t(e)},e.Workspace.prototype.getBlockById=function(e){return this.blockDB_[e]||null},e.Workspace.prototype.getCommentById=function(e){return this.commentDB_[e]||null},e.Workspace.prototype.allInputsFilled=function(e){for(var t,o=this.getTopBlocks(!1),n=0;t=o[n];n++)if(!t.allInputsFilled(e))return!1;return!0},e.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_},e.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new e.VariableMap(this)},e.Workspace.prototype.getVariableMap=function(){return this.variableMap_},e.Workspace.WorkspaceDB_=Object.create(null),e.Workspace.getById=function(t){return e.Workspace.WorkspaceDB_[t]||null},e.Workspace.getAll=function(){var t,o=[];for(t in e.Workspace.WorkspaceDB_)o.push(e.Workspace.WorkspaceDB_[t]);return o},e.Workspace.prototype.getThemeManager=function(){return this.themeManager_},e.Bubble=function(t,o,n,i,s,a){this.workspace_=t,this.content_=o,this.shape_=n,n=e.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(n=-n),this.arrow_radians_=e.utils.math.toRadians(n),t.getBubbleCanvas().appendChild(this.createDom_(o,!(!s||!a))),this.setAnchorLocation(i),s&&a||(s=(o=this.content_.getBBox()).width+2*e.Bubble.BORDER_WIDTH,a=o.height+2*e.Bubble.BORDER_WIDTH),this.setBubbleSize(s,a),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0,t.options.readOnly||(e.bindEventWithChecks_(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&e.bindEventWithChecks_(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))},e.Bubble.BORDER_WIDTH=6,e.Bubble.ARROW_THICKNESS=5,e.Bubble.ARROW_ANGLE=20,e.Bubble.ARROW_BEND=4,e.Bubble.ANCHOR_RADIUS=8,e.Bubble.onMouseUpWrapper_=null,e.Bubble.onMouseMoveWrapper_=null,e.Bubble.prototype.resizeCallback_=null,e.Bubble.unbindDragEvents_=function(){e.Bubble.onMouseUpWrapper_&&(e.unbindEvent_(e.Bubble.onMouseUpWrapper_),e.Bubble.onMouseUpWrapper_=null),e.Bubble.onMouseMoveWrapper_&&(e.unbindEvent_(e.Bubble.onMouseMoveWrapper_),e.Bubble.onMouseMoveWrapper_=null)},e.Bubble.bubbleMouseUp_=function(){e.Touch.clearTouchIdentifier(),e.Bubble.unbindDragEvents_()},e.Bubble.prototype.rendered_=!1,e.Bubble.prototype.anchorXY_=null,e.Bubble.prototype.relativeLeft_=0,e.Bubble.prototype.relativeTop_=0,e.Bubble.prototype.width_=0,e.Bubble.prototype.height_=0,e.Bubble.prototype.autoLayout_=!0,e.Bubble.prototype.createDom_=function(t,o){this.bubbleGroup_=e.utils.dom.createSvgElement("g",{},null);var n={filter:"url(#"+this.workspace_.options.embossFilterId+")"};return e.utils.userAgent.JAVA_FX&&(n={}),n=e.utils.dom.createSvgElement("g",n,this.bubbleGroup_),this.bubbleArrow_=e.utils.dom.createSvgElement("path",{},n),this.bubbleBack_=e.utils.dom.createSvgElement("rect",{class:"blocklyDraggable",x:0,y:0,rx:e.Bubble.BORDER_WIDTH,ry:e.Bubble.BORDER_WIDTH},n),o?(this.resizeGroup_=e.utils.dom.createSvgElement("g",{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),n=2*e.Bubble.BORDER_WIDTH,e.utils.dom.createSvgElement("polygon",{points:"0,x x,x x,0".replace(/x/g,n.toString())},this.resizeGroup_),e.utils.dom.createSvgElement("line",{class:"blocklyResizeLine",x1:n/3,y1:n-1,x2:n-1,y2:n/3},this.resizeGroup_),e.utils.dom.createSvgElement("line",{class:"blocklyResizeLine",x1:2*n/3,y1:n-1,x2:n-1,y2:2*n/3},this.resizeGroup_)):this.resizeGroup_=null,this.bubbleGroup_.appendChild(t),this.bubbleGroup_},e.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_},e.Bubble.prototype.setSvgId=function(e){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=e)},e.Bubble.prototype.bubbleMouseDown_=function(e){var t=this.workspace_.getGesture(e);t&&t.handleBubbleStart(e,this)},e.Bubble.prototype.showContextMenu_=function(e){},e.Bubble.prototype.isDeletable=function(){return!1},e.Bubble.prototype.resizeMouseDown_=function(t){this.promote_(),e.Bubble.unbindDragEvents_(),e.utils.isRightButton(t)||(this.workspace_.startDrag(t,new e.utils.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),e.Bubble.onMouseUpWrapper_=e.bindEventWithChecks_(document,"mouseup",this,e.Bubble.bubbleMouseUp_),e.Bubble.onMouseMoveWrapper_=e.bindEventWithChecks_(document,"mousemove",this,this.resizeMouseMove_),e.hideChaff()),t.stopPropagation()},e.Bubble.prototype.resizeMouseMove_=function(e){this.autoLayout_=!1,e=this.workspace_.moveDrag(e),this.setBubbleSize(this.workspace_.RTL?-e.x:e.x,e.y),this.workspace_.RTL&&this.positionBubble_()},e.Bubble.prototype.registerResizeEvent=function(e){this.resizeCallback_=e},e.Bubble.prototype.promote_=function(){var e=this.bubbleGroup_.parentNode;return e.lastChild!==this.bubbleGroup_&&(e.appendChild(this.bubbleGroup_),!0)},e.Bubble.prototype.setAnchorLocation=function(e){this.anchorXY_=e,this.rendered_&&this.positionBubble_()},e.Bubble.prototype.layoutBubble_=function(){var t=this.workspace_.getMetrics();t.viewLeft/=this.workspace_.scale,t.viewWidth/=this.workspace_.scale,t.viewTop/=this.workspace_.scale,t.viewHeight/=this.workspace_.scale;var o=this.getOptimalRelativeLeft_(t),n=this.getOptimalRelativeTop_(t),i=this.shape_.getBBox(),s={x:o,y:-this.height_-e.BlockSvg.MIN_BLOCK_Y},a={x:-this.width_-30,y:n};n={x:i.width,y:n};var r={x:o,y:i.height};o=i.width<i.height?n:r,i=i.width<i.height?r:n,n=this.getOverlap_(s,t),r=this.getOverlap_(a,t);var l=this.getOverlap_(o,t);t=this.getOverlap_(i,t),n==(t=Math.max(n,r,l,t))?(this.relativeLeft_=s.x,this.relativeTop_=s.y):r==t?(this.relativeLeft_=a.x,this.relativeTop_=a.y):l==t?(this.relativeLeft_=o.x,this.relativeTop_=o.y):(this.relativeLeft_=i.x,this.relativeTop_=i.y)},e.Bubble.prototype.getOverlap_=function(e,t){var o=this.workspace_.RTL?this.anchorXY_.x-e.x-this.width_:e.x+this.anchorXY_.x,n=e.y+this.anchorXY_.y;return Math.max(0,Math.min(1,(Math.min(o+this.width_,t.viewLeft+t.viewWidth)-Math.max(o,t.viewLeft))*(Math.min(n+this.height_,t.viewTop+t.viewHeight)-Math.max(n,t.viewTop))/(this.width_*this.height_)))},e.Bubble.prototype.getOptimalRelativeLeft_=function(t){var o=-this.width_/4;if(this.width_>t.viewWidth)return o;if(this.workspace_.RTL)var n=this.anchorXY_.x-o,i=n-this.width_,s=t.viewLeft+t.viewWidth,a=t.viewLeft+e.Scrollbar.scrollbarThickness/this.workspace_.scale;else n=(i=o+this.anchorXY_.x)+this.width_,a=t.viewLeft,s=t.viewLeft+t.viewWidth-e.Scrollbar.scrollbarThickness/this.workspace_.scale;return this.workspace_.RTL?i<a?o=-(a-this.anchorXY_.x+this.width_):n>s&&(o=-(s-this.anchorXY_.x)):i<a?o=a-this.anchorXY_.x:n>s&&(o=s-this.anchorXY_.x-this.width_),o},e.Bubble.prototype.getOptimalRelativeTop_=function(t){var o=-this.height_/4;if(this.height_>t.viewHeight)return o;var n=this.anchorXY_.y+o,i=n+this.height_,s=t.viewTop;t=t.viewTop+t.viewHeight-e.Scrollbar.scrollbarThickness/this.workspace_.scale;var a=this.anchorXY_.y;return n<s?o=s-a:i>t&&(o=t-a-this.height_),o},e.Bubble.prototype.positionBubble_=function(){var e=this.anchorXY_.x;e=this.workspace_.RTL?e-(this.relativeLeft_+this.width_):e+this.relativeLeft_,this.moveTo(e,this.relativeTop_+this.anchorXY_.y)},e.Bubble.prototype.moveTo=function(e,t){this.bubbleGroup_.setAttribute("transform","translate("+e+","+t+")")},e.Bubble.prototype.getBubbleSize=function(){return new e.utils.Size(this.width_,this.height_)},e.Bubble.prototype.setBubbleSize=function(t,o){var n=2*e.Bubble.BORDER_WIDTH;t=Math.max(t,n+45),o=Math.max(o,n+20),this.width_=t,this.height_=o,this.bubbleBack_.setAttribute("width",t),this.bubbleBack_.setAttribute("height",o),this.resizeGroup_&&(this.workspace_.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*e.Bubble.BORDER_WIDTH+","+(o-n)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(t-n)+","+(o-n)+")")),this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_(),this.resizeCallback_&&this.resizeCallback_()},e.Bubble.prototype.renderArrow_=function(){var t=[],o=this.width_/2,n=this.height_/2,i=-this.relativeLeft_,s=-this.relativeTop_;if(o==i&&n==s)t.push("M "+o+","+n);else{s-=n,i-=o,this.workspace_.RTL&&(i*=-1);var a=Math.sqrt(s*s+i*i),r=Math.acos(i/a);0>s&&(r=2*Math.PI-r);var l=r+Math.PI/2;l>2*Math.PI&&(l-=2*Math.PI);var c=Math.sin(l),u=Math.cos(l),h=this.getBubbleSize();l=(h.width+h.height)/e.Bubble.ARROW_THICKNESS,l=Math.min(l,h.width,h.height)/4,i=o+(h=1-e.Bubble.ANCHOR_RADIUS/a)*i,s=n+h*s,h=o+l*u;var p=n+l*c;o-=l*u,n-=l*c,(c=r+this.arrow_radians_)>2*Math.PI&&(c-=2*Math.PI),r=Math.sin(c)*a/e.Bubble.ARROW_BEND,a=Math.cos(c)*a/e.Bubble.ARROW_BEND,t.push("M"+h+","+p),t.push("C"+(h+a)+","+(p+r)+" "+i+","+s+" "+i+","+s),t.push("C"+i+","+s+" "+(o+a)+","+(n+r)+" "+o+","+n)}t.push("z"),this.bubbleArrow_.setAttribute("d",t.join(" "))},e.Bubble.prototype.setColour=function(e){this.bubbleBack_.setAttribute("fill",e),this.bubbleArrow_.setAttribute("fill",e)},e.Bubble.prototype.dispose=function(){e.Bubble.unbindDragEvents_(),e.utils.dom.removeNode(this.bubbleGroup_),this.shape_=this.content_=this.workspace_=this.resizeGroup_=this.bubbleBack_=this.bubbleArrow_=this.bubbleGroup_=null},e.Bubble.prototype.moveDuringDrag=function(e,t){e?e.translateSurface(t.x,t.y):this.moveTo(t.x,t.y),this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-t.x-this.width_:t.x-this.anchorXY_.x,this.relativeTop_=t.y-this.anchorXY_.y,this.renderArrow_()},e.Bubble.prototype.getRelativeToSurfaceXY=function(){return new e.utils.Coordinate(this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)},e.Bubble.prototype.setAutoLayout=function(e){this.autoLayout_=e},e.Events.CommentBase=function(t){this.commentId=t.id,this.workspaceId=t.workspace.id,this.group=e.Events.getGroup(),this.recordUndo=e.Events.recordUndo},e.utils.object.inherits(e.Events.CommentBase,e.Events.Abstract),e.Events.CommentBase.prototype.toJson=function(){var t=e.Events.CommentBase.superClass_.toJson.call(this);return this.commentId&&(t.commentId=this.commentId),t},e.Events.CommentBase.prototype.fromJson=function(t){e.Events.CommentBase.superClass_.fromJson.call(this,t),this.commentId=t.commentId},e.Events.CommentChange=function(t,o,n){t&&(e.Events.CommentChange.superClass_.constructor.call(this,t),this.oldContents_=o,this.newContents_=n)},e.utils.object.inherits(e.Events.CommentChange,e.Events.CommentBase),e.Events.CommentChange.prototype.type=e.Events.COMMENT_CHANGE,e.Events.CommentChange.prototype.toJson=function(){var t=e.Events.CommentChange.superClass_.toJson.call(this);return t.newContents=this.newContents_,t},e.Events.CommentChange.prototype.fromJson=function(t){e.Events.CommentChange.superClass_.fromJson.call(this,t),this.newContents_=t.newValue},e.Events.CommentChange.prototype.isNull=function(){return this.oldContents_==this.newContents_},e.Events.CommentChange.prototype.run=function(e){var t=this.getEventWorkspace_().getCommentById(this.commentId);t?t.setContent(e?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)},e.Events.CommentCreate=function(t){t&&(e.Events.CommentCreate.superClass_.constructor.call(this,t),this.xml=t.toXmlWithXY())},e.utils.object.inherits(e.Events.CommentCreate,e.Events.CommentBase),e.Events.CommentCreate.prototype.type=e.Events.COMMENT_CREATE,e.Events.CommentCreate.prototype.toJson=function(){var t=e.Events.CommentCreate.superClass_.toJson.call(this);return t.xml=e.Xml.domToText(this.xml),t},e.Events.CommentCreate.prototype.fromJson=function(t){e.Events.CommentCreate.superClass_.fromJson.call(this,t),this.xml=e.Xml.textToDom(t.xml)},e.Events.CommentCreate.prototype.run=function(t){e.Events.CommentCreateDeleteHelper(this,t)},e.Events.CommentCreateDeleteHelper=function(t,o){var n=t.getEventWorkspace_();if(o){var i=e.utils.xml.createElement("xml");i.appendChild(t.xml),e.Xml.domToWorkspace(i,n)}else(n=n.getCommentById(t.commentId))?n.dispose(!1,!1):console.warn("Can't uncreate non-existent comment: "+t.commentId)},e.Events.CommentDelete=function(t){t&&(e.Events.CommentDelete.superClass_.constructor.call(this,t),this.xml=t.toXmlWithXY())},e.utils.object.inherits(e.Events.CommentDelete,e.Events.CommentBase),e.Events.CommentDelete.prototype.type=e.Events.COMMENT_DELETE,e.Events.CommentDelete.prototype.toJson=function(){return e.Events.CommentDelete.superClass_.toJson.call(this)},e.Events.CommentDelete.prototype.fromJson=function(t){e.Events.CommentDelete.superClass_.fromJson.call(this,t)},e.Events.CommentDelete.prototype.run=function(t){e.Events.CommentCreateDeleteHelper(this,!t)},e.Events.CommentMove=function(t){t&&(e.Events.CommentMove.superClass_.constructor.call(this,t),this.comment_=t,this.oldCoordinate_=t.getXY(),this.newCoordinate_=null)},e.utils.object.inherits(e.Events.CommentMove,e.Events.CommentBase),e.Events.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY(),this.comment_=null},e.Events.CommentMove.prototype.type=e.Events.COMMENT_MOVE,e.Events.CommentMove.prototype.setOldCoordinate=function(e){this.oldCoordinate_=e},e.Events.CommentMove.prototype.toJson=function(){var t=e.Events.CommentMove.superClass_.toJson.call(this);return this.newCoordinate_&&(t.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y)),t},e.Events.CommentMove.prototype.fromJson=function(t){e.Events.CommentMove.superClass_.fromJson.call(this,t),t.newCoordinate&&(t=t.newCoordinate.split(","),this.newCoordinate_=new e.utils.Coordinate(Number(t[0]),Number(t[1])))},e.Events.CommentMove.prototype.isNull=function(){return e.utils.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)},e.Events.CommentMove.prototype.run=function(e){var t=this.getEventWorkspace_().getCommentById(this.commentId);if(t){e=e?this.newCoordinate_:this.oldCoordinate_;var o=t.getXY();t.moveBy(e.x-o.x,e.y-o.y)}else console.warn("Can't move non-existent comment: "+this.commentId)},e.BubbleDragger=function(t,o){this.draggingBubble_=t,this.workspace_=o,this.deleteArea_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY(),this.dragSurface_=e.utils.is3dSupported()&&o.getBlockDragSurface()?o.getBlockDragSurface():null},e.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null},e.BubbleDragger.prototype.startBubbleDrag=function(){e.Events.getGroup()||e.Events.setGroup(!0),this.workspace_.setResizesEnabled(!1),this.draggingBubble_.setAutoLayout(!1),this.dragSurface_&&this.moveToDragSurface_(),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0);var t=this.workspace_.getToolbox();if(t){var o=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";t.addStyle(o)}},e.BubbleDragger.prototype.dragBubble=function(t,o){var n=this.pixelsToWorkspaceUnits_(o);n=e.utils.Coordinate.sum(this.startXY_,n),this.draggingBubble_.moveDuringDrag(this.dragSurface_,n),this.draggingBubble_.isDeletable()&&(this.deleteArea_=this.workspace_.isDeleteArea(t),this.updateCursorDuringBubbleDrag_())},e.BubbleDragger.prototype.maybeDeleteBubble_=function(){var e=this.workspace_.trashcan;return this.wouldDeleteBubble_?(e&&setTimeout(e.close.bind(e),100),this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):e&&e.close(),this.wouldDeleteBubble_},e.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.wouldDeleteBubble_=this.deleteArea_!=e.DELETE_AREA_NONE;var t=this.workspace_.trashcan;this.wouldDeleteBubble_?(this.draggingBubble_.setDeleteStyle(!0),this.deleteArea_==e.DELETE_AREA_TRASH&&t&&t.setOpen_(!0)):(this.draggingBubble_.setDeleteStyle(!1),t&&t.setOpen_(!1))},e.BubbleDragger.prototype.endBubbleDrag=function(t,o){this.dragBubble(t,o);var n=this.pixelsToWorkspaceUnits_(o);n=e.utils.Coordinate.sum(this.startXY_,n),this.draggingBubble_.moveTo(n.x,n.y),this.maybeDeleteBubble_()||(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_()),this.workspace_.setResizesEnabled(!0),this.workspace_.toolbox_&&(n=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",this.workspace_.toolbox_.removeStyle(n)),e.Events.setGroup(!1)},e.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var t=new e.Events.CommentMove(this.draggingBubble_);t.setOldCoordinate(this.startXY_),t.recordNew(),e.Events.fire(t)}},e.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(t){return t=new e.utils.Coordinate(t.x/this.workspace_.scale,t.y/this.workspace_.scale),this.workspace_.isMutator&&t.scale(1/this.workspace_.options.parentWorkspace.scale),t},e.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())},e.constants={},e.LINE_MODE_MULTIPLIER=40,e.PAGE_MODE_MULTIPLIER=125,e.DRAG_RADIUS=5,e.FLYOUT_DRAG_RADIUS=10,e.SNAP_RADIUS=28,e.CONNECTING_SNAP_RADIUS=e.SNAP_RADIUS,e.CURRENT_CONNECTION_PREFERENCE=8,e.INSERTION_MARKER_COLOUR="#000000",e.BUMP_DELAY=250,e.BUMP_RANDOMNESS=10,e.COLLAPSE_CHARS=30,e.LONGPRESS=750,e.SOUND_LIMIT=100,e.DRAG_STACK=!0,e.HSV_SATURATION=.45,e.HSV_VALUE=.65,e.SPRITE={width:96,height:124,url:"sprites.png"},e.INPUT_VALUE=1,e.OUTPUT_VALUE=2,e.NEXT_STATEMENT=3,e.PREVIOUS_STATEMENT=4,e.DUMMY_INPUT=5,e.ALIGN_LEFT=-1,e.ALIGN_CENTRE=0,e.ALIGN_RIGHT=1,e.DRAG_NONE=0,e.DRAG_STICKY=1,e.DRAG_BEGIN=1,e.DRAG_FREE=2,e.OPPOSITE_TYPE=[],e.OPPOSITE_TYPE[e.INPUT_VALUE]=e.OUTPUT_VALUE,e.OPPOSITE_TYPE[e.OUTPUT_VALUE]=e.INPUT_VALUE,e.OPPOSITE_TYPE[e.NEXT_STATEMENT]=e.PREVIOUS_STATEMENT,e.OPPOSITE_TYPE[e.PREVIOUS_STATEMENT]=e.NEXT_STATEMENT,e.TOOLBOX_AT_TOP=0,e.TOOLBOX_AT_BOTTOM=1,e.TOOLBOX_AT_LEFT=2,e.TOOLBOX_AT_RIGHT=3,e.DELETE_AREA_NONE=null,e.DELETE_AREA_TRASH=1,e.DELETE_AREA_TOOLBOX=2,e.VARIABLE_CATEGORY_NAME="VARIABLE",e.VARIABLE_DYNAMIC_CATEGORY_NAME="VARIABLE_DYNAMIC",e.PROCEDURE_CATEGORY_NAME="PROCEDURE",e.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID",e.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID",e.Events.Ui=function(t,o,n,i){e.Events.Ui.superClass_.constructor.call(this),this.blockId=t?t.id:null,this.workspaceId=t?t.workspace.id:void 0,this.element=o,this.oldValue=n,this.newValue=i,this.recordUndo=!1},e.utils.object.inherits(e.Events.Ui,e.Events.Abstract),e.Events.Ui.prototype.type=e.Events.UI,e.Events.Ui.prototype.toJson=function(){var t=e.Events.Ui.superClass_.toJson.call(this);return t.element=this.element,void 0!==this.newValue&&(t.newValue=this.newValue),this.blockId&&(t.blockId=this.blockId),t},e.Events.Ui.prototype.fromJson=function(t){e.Events.Ui.superClass_.fromJson.call(this,t),this.element=t.element,this.newValue=t.newValue,this.blockId=t.blockId},e.WorkspaceDragger=function(t){this.workspace_=t,this.startScrollXY_=new e.utils.Coordinate(t.scrollX,t.scrollY)},e.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},e.WorkspaceDragger.prototype.startDrag=function(){e.selected&&e.selected.unselect(),this.workspace_.setupDragSurface()},e.WorkspaceDragger.prototype.endDrag=function(e){this.drag(e),this.workspace_.resetDragSurface()},e.WorkspaceDragger.prototype.drag=function(t){t=e.utils.Coordinate.sum(this.startScrollXY_,t),this.workspace_.scroll(t.x,t.y)},e.FlyoutDragger=function(t){e.FlyoutDragger.superClass_.constructor.call(this,t.getWorkspace()),this.scrollbar_=t.scrollbar_,this.horizontalLayout_=t.horizontalLayout_},e.utils.object.inherits(e.FlyoutDragger,e.WorkspaceDragger),e.FlyoutDragger.prototype.drag=function(t){t=e.utils.Coordinate.sum(this.startScrollXY_,t),this.horizontalLayout_?this.scrollbar_.set(-t.x):this.scrollbar_.set(-t.y)},e.Tooltip={},e.Tooltip.visible=!1,e.Tooltip.blocked_=!1,e.Tooltip.LIMIT=50,e.Tooltip.mouseOutPid_=0,e.Tooltip.showPid_=0,e.Tooltip.lastX_=0,e.Tooltip.lastY_=0,e.Tooltip.element_=null,e.Tooltip.poisonedElement_=null,e.Tooltip.OFFSET_X=0,e.Tooltip.OFFSET_Y=10,e.Tooltip.RADIUS_OK=10,e.Tooltip.HOVER_MS=750,e.Tooltip.MARGINS=5,e.Tooltip.DIV=null,e.Tooltip.createDom=function(){e.Tooltip.DIV||(e.Tooltip.DIV=document.createElement("div"),e.Tooltip.DIV.className="blocklyTooltipDiv",document.body.appendChild(e.Tooltip.DIV))},e.Tooltip.bindMouseEvents=function(t){e.bindEvent_(t,"mouseover",null,e.Tooltip.onMouseOver_),e.bindEvent_(t,"mouseout",null,e.Tooltip.onMouseOut_),t.addEventListener("mousemove",e.Tooltip.onMouseMove_,!1)},e.Tooltip.onMouseOver_=function(t){if(!e.Tooltip.blocked_){for(t=t.currentTarget;"string"!=typeof t.tooltip&&"function"!=typeof t.tooltip;)t=t.tooltip;e.Tooltip.element_!=t&&(e.Tooltip.hide(),e.Tooltip.poisonedElement_=null,e.Tooltip.element_=t),clearTimeout(e.Tooltip.mouseOutPid_)}},e.Tooltip.onMouseOut_=function(t){e.Tooltip.blocked_||(e.Tooltip.mouseOutPid_=setTimeout((function(){e.Tooltip.element_=null,e.Tooltip.poisonedElement_=null,e.Tooltip.hide()}),1),clearTimeout(e.Tooltip.showPid_))},e.Tooltip.onMouseMove_=function(t){if(e.Tooltip.element_&&e.Tooltip.element_.tooltip&&!e.Tooltip.blocked_)if(e.Tooltip.visible){var o=e.Tooltip.lastX_-t.pageX;t=e.Tooltip.lastY_-t.pageY,Math.sqrt(o*o+t*t)>e.Tooltip.RADIUS_OK&&e.Tooltip.hide()}else e.Tooltip.poisonedElement_!=e.Tooltip.element_&&(clearTimeout(e.Tooltip.showPid_),e.Tooltip.lastX_=t.pageX,e.Tooltip.lastY_=t.pageY,e.Tooltip.showPid_=setTimeout(e.Tooltip.show_,e.Tooltip.HOVER_MS))},e.Tooltip.hide=function(){e.Tooltip.visible&&(e.Tooltip.visible=!1,e.Tooltip.DIV&&(e.Tooltip.DIV.style.display="none")),e.Tooltip.showPid_&&clearTimeout(e.Tooltip.showPid_)},e.Tooltip.block=function(){e.Tooltip.hide(),e.Tooltip.blocked_=!0},e.Tooltip.unblock=function(){e.Tooltip.blocked_=!1},e.Tooltip.show_=function(){if(!e.Tooltip.blocked_&&(e.Tooltip.poisonedElement_=e.Tooltip.element_,e.Tooltip.DIV)){e.Tooltip.DIV.innerHTML="";for(var t=e.Tooltip.element_.tooltip;"function"==typeof t;)t=t();t=(t=e.utils.string.wrap(t,e.Tooltip.LIMIT)).split("\n");for(var o=0;o<t.length;o++){var n=document.createElement("div");n.appendChild(document.createTextNode(t[o])),e.Tooltip.DIV.appendChild(n)}t=e.Tooltip.element_.RTL,o=document.documentElement.clientWidth,n=document.documentElement.clientHeight,e.Tooltip.DIV.style.direction=t?"rtl":"ltr",e.Tooltip.DIV.style.display="block",e.Tooltip.visible=!0;var i=e.Tooltip.lastX_;i=t?i-(e.Tooltip.OFFSET_X+e.Tooltip.DIV.offsetWidth):i+e.Tooltip.OFFSET_X;var s=e.Tooltip.lastY_+e.Tooltip.OFFSET_Y;s+e.Tooltip.DIV.offsetHeight>n+window.scrollY&&(s-=e.Tooltip.DIV.offsetHeight+2*e.Tooltip.OFFSET_Y),t?i=Math.max(e.Tooltip.MARGINS-window.scrollX,i):i+e.Tooltip.DIV.offsetWidth>o+window.scrollX-2*e.Tooltip.MARGINS&&(i=o-e.Tooltip.DIV.offsetWidth-2*e.Tooltip.MARGINS),e.Tooltip.DIV.style.top=s+"px",e.Tooltip.DIV.style.left=i+"px"}},e.Gesture=function(t,o){this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=this.currentDragDeltaXY_=this.mouseDownXY_=null,this.creatorWorkspace_=o,this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1,this.mostRecentEvent_=t,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.healStack_=!e.DRAG_STACK},e.Gesture.prototype.dispose=function(){e.Touch.clearTouchIdentifier(),e.Tooltip.unblock(),this.creatorWorkspace_.clearGesture(),this.onMoveWrapper_&&e.unbindEvent_(this.onMoveWrapper_),this.onUpWrapper_&&e.unbindEvent_(this.onUpWrapper_),this.flyout_=this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=null,this.blockDragger_&&(this.blockDragger_.dispose(),this.blockDragger_=null),this.workspaceDragger_&&(this.workspaceDragger_.dispose(),this.workspaceDragger_=null),this.bubbleDragger_&&(this.bubbleDragger_.dispose(),this.bubbleDragger_=null)},e.Gesture.prototype.updateFromEvent_=function(t){var o=new e.utils.Coordinate(t.clientX,t.clientY);this.updateDragDelta_(o)&&(this.updateIsDragging_(),e.longStop_()),this.mostRecentEvent_=t},e.Gesture.prototype.updateDragDelta_=function(t){return this.currentDragDeltaXY_=e.utils.Coordinate.difference(t,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=e.utils.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?e.FLYOUT_DRAG_RADIUS:e.DRAG_RADIUS))},e.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return!!this.flyout_.isBlockCreatable_(this.targetBlock_)&&!(this.flyout_.isScrollable()&&!this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_))&&(this.startWorkspace_=this.flyout_.targetWorkspace_,this.startWorkspace_.updateScreenCalculationsIfScrolled(),e.Events.getGroup()||e.Events.setGroup(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),!0)},e.Gesture.prototype.updateIsDraggingBubble_=function(){return!!this.startBubble_&&(this.isDraggingBubble_=!0,this.startDraggingBubble_(),!0)},e.Gesture.prototype.updateIsDraggingBlock_=function(){return!!this.targetBlock_&&(this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0),!!this.isDraggingBlock_&&(this.startDraggingBlock_(),!0))},e.Gesture.prototype.updateIsDraggingWorkspace_=function(){(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=this.flyout_?new e.FlyoutDragger(this.flyout_):new e.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag())},e.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()},e.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new e.BlockDragger(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startBlockDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_)},e.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new e.BubbleDragger(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)},e.Gesture.prototype.doStart=function(t){e.utils.isTargetInput(t)?this.cancel():(this.hasStarted_=!0,e.blockAnimations.disconnectUiStop(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.startWorkspace_.markFocused(),this.mostRecentEvent_=t,e.hideChaff(!!this.flyout_),e.Tooltip.block(),this.targetBlock_&&(!this.targetBlock_.isInFlyout&&t.shiftKey?(e.navigation.enableKeyboardAccessibility(),this.creatorWorkspace_.getCursor().setCurNode(e.navigation.getTopNode(this.targetBlock_))):this.targetBlock_.select()),e.utils.isRightButton(t)?this.handleRightClick(t):("touchstart"!=t.type.toLowerCase()&&"pointerdown"!=t.type.toLowerCase()||"mouse"==t.pointerType||e.longStart_(t,this),this.mouseDownXY_=new e.utils.Coordinate(t.clientX,t.clientY),this.healStack_=t.altKey||t.ctrlKey||t.metaKey,this.bindMouseEvents(t)))},e.Gesture.prototype.bindMouseEvents=function(t){this.onMoveWrapper_=e.bindEventWithChecks_(document,"mousemove",null,this.handleMove.bind(this)),this.onUpWrapper_=e.bindEventWithChecks_(document,"mouseup",null,this.handleUp.bind(this)),t.preventDefault(),t.stopPropagation()},e.Gesture.prototype.handleMove=function(e){this.updateFromEvent_(e),this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),e.preventDefault(),e.stopPropagation()},e.Gesture.prototype.handleUp=function(t){this.updateFromEvent_(t),e.longStop_(),this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(t,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(t,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(t),t.preventDefault(),t.stopPropagation(),this.dispose())},e.Gesture.prototype.cancel=function(){this.isEnding_||(e.longStop_(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())},e.Gesture.prototype.handleRightClick=function(t){this.targetBlock_?(this.bringBlockToFront_(),e.hideChaff(this.flyout_),this.targetBlock_.showContextMenu_(t)):this.startBubble_?this.startBubble_.showContextMenu_(t):this.startWorkspace_&&!this.flyout_&&(e.hideChaff(),this.startWorkspace_.showContextMenu_(t)),t.preventDefault(),t.stopPropagation(),this.dispose()},e.Gesture.prototype.handleWsStart=function(t,o){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(o),this.mostRecentEvent_=t,this.doStart(t),e.keyboardAccessibilityMode&&e.navigation.setState(e.navigation.STATE_WS)},e.Gesture.prototype.handleFlyoutStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(t),this.handleWsStart(e,t.getWorkspace())},e.Gesture.prototype.handleBlockStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent_=e},e.Gesture.prototype.handleBubbleStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent_=e},e.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus(),this.startBubble_.select&&this.startBubble_.select()},e.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor_(),this.bringBlockToFront_()},e.Gesture.prototype.doBlockClick_=function(){this.flyout_&&this.flyout_.autoClose?this.targetBlock_.isEnabled()&&(e.Events.getGroup()||e.Events.setGroup(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump()):e.Events.fire(new e.Events.Ui(this.startBlock_,"click",void 0,void 0)),this.bringBlockToFront_(),e.Events.setGroup(!1)},e.Gesture.prototype.doWorkspaceClick_=function(t){var o=this.creatorWorkspace_;t.shiftKey?(e.navigation.enableKeyboardAccessibility(),t=new e.utils.Coordinate(t.clientX,t.clientY),t=e.utils.screenToWsCoordinates(o,t),t=e.ASTNode.createWorkspaceNode(o,t),o.getCursor().setCurNode(t)):e.selected&&e.selected.unselect()},e.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()},e.Gesture.prototype.setStartField=function(e){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=e)},e.Gesture.prototype.setStartBubble=function(e){this.startBubble_||(this.startBubble_=e)},e.Gesture.prototype.setStartBlock=function(e){this.startBlock_||this.startBubble_||(this.startBlock_=e,e.isInFlyout&&e!=e.getRootBlock()?this.setTargetBlock_(e.getRootBlock()):this.setTargetBlock_(e))},e.Gesture.prototype.setTargetBlock_=function(e){e.isShadow()?this.setTargetBlock_(e.getParent()):this.targetBlock_=e},e.Gesture.prototype.setStartWorkspace_=function(e){this.startWorkspace_||(this.startWorkspace_=e)},e.Gesture.prototype.setStartFlyout_=function(e){this.flyout_||(this.flyout_=e)},e.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_},e.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()},e.Gesture.prototype.isFieldClick_=function(){return!!this.startField_&&this.startField_.isClickable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)},e.Gesture.prototype.isWorkspaceClick_=function(){return!this.startBlock_&&!this.startBubble_&&!this.startField_&&!this.hasExceededDragRadius_},e.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_},e.Gesture.prototype.hasStarted=function(){return this.hasStarted_},e.Gesture.prototype.getInsertionMarkers=function(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]},e.Gesture.inProgress=function(){for(var t,o=e.Workspace.getAll(),n=0;t=o[n];n++)if(t.currentGesture_)return!0;return!1},e.Field=function(t,o,n){this.tooltip_=this.validator_=this.value_=null,this.size_=new e.utils.Size(0,0),this.markerSvg_=this.cursorSvg_=null,n&&this.configure_(n),this.setValue(t),o&&this.setValidator(o)},e.Field.BORDER_RECT_DEFAULT_HEIGHT=16,e.Field.TEXT_DEFAULT_HEIGHT=12.5,e.Field.X_PADDING=10,e.Field.Y_PADDING=10,e.Field.DEFAULT_TEXT_OFFSET=e.Field.X_PADDING/2,e.Field.prototype.name=void 0,e.Field.prototype.disposed=!1,e.Field.prototype.maxDisplayLength=50,e.Field.prototype.sourceBlock_=null,e.Field.prototype.isDirty_=!0,e.Field.prototype.visible_=!0,e.Field.prototype.clickTarget_=null,e.Field.NBSP="\xa0",e.Field.prototype.EDITABLE=!0,e.Field.prototype.SERIALIZABLE=!1,e.Field.prototype.configure_=function(t){var o=t.tooltip;"string"==typeof o&&(o=e.utils.replaceMessageReferences(t.tooltip)),o&&this.setTooltip(o)},e.Field.prototype.setSourceBlock=function(e){if(this.sourceBlock_)throw Error("Field already bound to a block.");this.sourceBlock_=e},e.Field.prototype.getSourceBlock=function(){return this.sourceBlock_},e.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=e.utils.dom.createSvgElement("g",{},null),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())},e.Field.prototype.initView=function(){this.createBorderRect_(),this.createTextElement_()},e.Field.prototype.initModel=function(){},e.Field.prototype.createBorderRect_=function(){this.size_.height=Math.max(this.size_.height,e.Field.BORDER_RECT_DEFAULT_HEIGHT),this.size_.width=Math.max(this.size_.width,e.Field.X_PADDING),this.borderRect_=e.utils.dom.createSvgElement("rect",{rx:4,ry:4,x:0,y:0,height:this.size_.height,width:this.size_.width},this.fieldGroup_)},e.Field.prototype.createTextElement_=function(){this.textElement_=e.utils.dom.createSvgElement("text",{class:"blocklyText",y:e.Field.TEXT_DEFAULT_HEIGHT,x:this.borderRect_?e.Field.DEFAULT_TEXT_OFFSET:0},this.fieldGroup_),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)},e.Field.prototype.bindEvents_=function(){e.Tooltip.bindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_=e.bindEventWithChecks_(this.getClickTarget_(),"mousedown",this,this.onMouseDown_)},e.Field.prototype.fromXml=function(e){this.setValue(e.textContent)},e.Field.prototype.toXml=function(e){return e.textContent=this.getValue(),e},e.Field.prototype.dispose=function(){e.DropDownDiv.hideIfOwner(this),e.WidgetDiv.hideIfOwner(this),this.mouseDownWrapper_&&e.unbindEvent_(this.mouseDownWrapper_),e.utils.dom.removeNode(this.fieldGroup_),this.disposed=!0},e.Field.prototype.updateEditable=function(){var t=this.getClickTarget_();this.EDITABLE&&t&&(this.sourceBlock_.isEditable()?(e.utils.dom.addClass(t,"blocklyEditableText"),e.utils.dom.removeClass(t,"blocklyNonEditableText"),t.style.cursor=this.CURSOR):(e.utils.dom.addClass(t,"blocklyNonEditableText"),e.utils.dom.removeClass(t,"blocklyEditableText"),t.style.cursor=""))},e.Field.prototype.isClickable=function(){return!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&!!this.showEditor_&&"function"===typeof this.showEditor_},e.Field.prototype.isCurrentlyEditable=function(){return this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()},e.Field.prototype.isSerializable=function(){var e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e},e.Field.prototype.isVisible=function(){return this.visible_},e.Field.prototype.setVisible=function(e){if(this.visible_!=e){this.visible_=e;var t=this.getSvgRoot();t&&(t.style.display=e?"block":"none")}},e.Field.prototype.setValidator=function(e){this.validator_=e},e.Field.prototype.getValidator=function(){return this.validator_},e.Field.prototype.classValidator=function(e){return e},e.Field.prototype.callValidator=function(e){var t=this.classValidator(e);if(null===t)return null;if(void 0!==t&&(e=t),t=this.getValidator()){if(null===(t=t.call(this,e)))return null;void 0!==t&&(e=t)}return e},e.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},e.Field.prototype.updateColour=function(){},e.Field.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_(),this.updateSize_())},e.Field.prototype.updateWidth=function(){console.warn("Deprecated call to updateWidth, call Blockly.Field.updateSize_ to force an update to the size of the field, or Blockly.utils.dom.getTextWidth() to check the size of the field."),this.updateSize_()},e.Field.prototype.updateSize_=function(){var t=e.utils.dom.getTextWidth(this.textElement_);this.borderRect_&&(t+=e.Field.X_PADDING,this.borderRect_.setAttribute("width",t)),this.size_.width=t},e.Field.prototype.getSize=function(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0==this.size_.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.render_()),this.size_):new e.utils.Size(0,0)},e.Field.prototype.getScaledBBox_=function(){var e=this.borderRect_.getBBox(),t=e.height*this.sourceBlock_.workspace.scale;e=e.width*this.sourceBlock_.workspace.scale;var o=this.getAbsoluteXY_();return{top:o.y,bottom:o.y+t,left:o.x,right:o.x+e}},e.Field.prototype.getDisplayText_=function(){var t=this.getText();return t?(t.length>this.maxDisplayLength&&(t=t.substring(0,this.maxDisplayLength-2)+"\u2026"),t=t.replace(/\s/g,e.Field.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(t+="\u200f"),t):e.Field.NBSP},e.Field.prototype.getText=function(){if(this.getText_){var e=this.getText_.call(this);if(null!==e)return String(e)}return String(this.getValue())},e.Field.prototype.setText=function(e){throw Error("setText method is deprecated")},e.Field.prototype.markDirty=function(){this.isDirty_=!0},e.Field.prototype.forceRerender=function(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours())},e.Field.prototype.setValue=function(t){if(null!==t){var o=this.doClassValidation_(t);if(!((t=this.processValidation_(t,o))instanceof Error)){if((o=this.getValidator())&&(o=o.call(this,t),(t=this.processValidation_(t,o))instanceof Error))return;(o=this.getValue())!==t&&(this.sourceBlock_&&e.Events.isEnabled()&&e.Events.fire(new e.Events.BlockChange(this.sourceBlock_,"field",this.name||null,o,t)),this.doValueUpdate_(t),this.isDirty_&&this.forceRerender())}}},e.Field.prototype.processValidation_=function(e,t){return null===t?(this.doValueInvalid_(e),this.isDirty_&&this.forceRerender(),Error()):(void 0!==t&&(e=t),e)},e.Field.prototype.getValue=function(){return this.value_},e.Field.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:e=this.classValidator(e)},e.Field.prototype.doValueUpdate_=function(e){this.value_=e,this.isDirty_=!0},e.Field.prototype.doValueInvalid_=function(e){},e.Field.prototype.onMouseDown_=function(e){this.sourceBlock_&&this.sourceBlock_.workspace&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)},e.Field.prototype.setTooltip=function(e){var t=this.getClickTarget_();t?t.tooltip=e||""===e?e:this.sourceBlock_:this.tooltip_=e},e.Field.prototype.getClickTarget_=function(){return this.clickTarget_||this.getSvgRoot()},e.Field.prototype.getAbsoluteXY_=function(){return e.utils.style.getPageOffset(this.borderRect_)},e.Field.prototype.referencesVariables=function(){return!1},e.Field.prototype.getParentInput=function(){for(var e=null,t=this.sourceBlock_,o=t.inputList,n=0;n<t.inputList.length;n++)for(var i=o[n],s=i.fieldRow,a=0;a<s.length;a++)if(s[a]===this){e=i;break}return e},e.Field.prototype.getFlipRtl=function(){return!1},e.Field.prototype.isTabNavigable=function(){return!1},e.Field.prototype.onBlocklyAction=function(e){return!1},e.Field.prototype.setCursorSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},e.Field.prototype.setMarkerSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.markerSvg_=e):this.markerSvg_=null},e.fieldRegistry={},e.fieldRegistry.typeMap_={},e.fieldRegistry.register=function(t,o){if("string"!=typeof t||""==t.trim())throw Error('Invalid field type "'+t+'". The type must be a non-empty string.');if(e.fieldRegistry.typeMap_[t])throw Error('Error: Field "'+t+'" is already registered.');if(!o||"function"!=typeof o.fromJson)throw Error('Field "'+o+'" must have a fromJson function');t=t.toLowerCase(),e.fieldRegistry.typeMap_[t]=o},e.fieldRegistry.unregister=function(t){e.fieldRegistry.typeMap_[t]?delete e.fieldRegistry.typeMap_[t]:console.warn('No field mapping for type "'+t+'" found to unregister')},e.fieldRegistry.fromJson=function(t){var o=t.type.toLowerCase();return(o=e.fieldRegistry.typeMap_[o])?o.fromJson(t):(console.warn("Blockly could not create a field of type "+t.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},e.FieldLabel=function(t,o,n){this.class_=null,null==t&&(t=""),e.FieldLabel.superClass_.constructor.call(this,t,null,n),n||(this.class_=o||null),this.size_=new e.utils.Size(0,e.Field.TEXT_DEFAULT_HEIGHT)},e.utils.object.inherits(e.FieldLabel,e.Field),e.FieldLabel.fromJson=function(t){var o=e.utils.replaceMessageReferences(t.text);return new e.FieldLabel(o,void 0,t)},e.FieldLabel.prototype.EDITABLE=!1,e.FieldLabel.prototype.configure_=function(t){e.FieldLabel.superClass_.configure_.call(this,t),this.class_=t.class},e.FieldLabel.prototype.initView=function(){this.createTextElement_(),this.textElement_.setAttribute("y",this.size_.height),this.class_&&e.utils.dom.addClass(this.textElement_,this.class_)},e.FieldLabel.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:String(e)},e.FieldLabel.prototype.setClass=function(t){this.textElement_&&(this.class_&&e.utils.dom.removeClass(this.textElement_,this.class_),t&&e.utils.dom.addClass(this.textElement_,t)),this.class_=t},e.fieldRegistry.register("field_label",e.FieldLabel),e.Input=function(t,o,n,i){if(t!=e.DUMMY_INPUT&&!o)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=t,this.name=o,this.sourceBlock_=n,this.connection=i,this.fieldRow=[]},e.Input.prototype.align=e.ALIGN_LEFT,e.Input.prototype.visible_=!0,e.Input.prototype.getSourceBlock=function(){return this.sourceBlock_},e.Input.prototype.appendField=function(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this},e.Input.prototype.insertFieldAt=function(t,o,n){if(0>t||t>this.fieldRow.length)throw Error("index "+t+" out of bounds.");return o||""==o&&n?("string"==typeof o&&(o=new e.FieldLabel(o)),o.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&o.init(),o.name=n,o.prefixField&&(t=this.insertFieldAt(t,o.prefixField)),this.fieldRow.splice(t,0,o),++t,o.suffixField&&(t=this.insertFieldAt(t,o.suffixField)),this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),t):t},e.Input.prototype.removeField=function(e){for(var t,o=0;t=this.fieldRow[o];o++)if(t.name===e)return t.dispose(),this.fieldRow.splice(o,1),void(this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()));throw Error('Field "%s" not found.',e)},e.Input.prototype.isVisible=function(){return this.visible_},e.Input.prototype.setVisible=function(e){var t=[];if(this.visible_==e)return t;for(var o,n=(this.visible_=e)?"block":"none",i=0;o=this.fieldRow[i];i++)o.setVisible(e);return this.connection&&(e?t=this.connection.unhideAll():this.connection.hideAll(),i=this.connection.targetBlock())&&(i.getSvgRoot().style.display=n,e||(i.rendered=!1)),t},e.Input.prototype.markDirty=function(){for(var e,t=0;e=this.fieldRow[t];t++)e.markDirty()},e.Input.prototype.setCheck=function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this},e.Input.prototype.setAlign=function(e){return this.align=e,this.sourceBlock_.rendered&&this.sourceBlock_.render(),this},e.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()},e.Input.prototype.dispose=function(){for(var e,t=0;e=this.fieldRow[t];t++)e.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},e.utils.colour={},e.utils.colour.parse=function(t){t=String(t).toLowerCase().trim();var o=e.utils.colour.names[t];if(o)return o;if(o="#"==t[0]?t:"#"+t,/^#[0-9a-f]{6}$/.test(o))return o;if(/^#[0-9a-f]{3}$/.test(o))return["#",o[1],o[1],o[2],o[2],o[3],o[3]].join("");var n=t.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return n&&(t=Number(n[1]),o=Number(n[2]),n=Number(n[3]),0<=t&&256>t&&0<=o&&256>o&&0<=n&&256>n)?e.utils.colour.rgbToHex(t,o,n):null},e.utils.colour.rgbToHex=function(e,t,o){return t=e<<16|t<<8|o,16>e?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},e.utils.colour.hexToRgb=function(e){return[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e]},e.utils.colour.hsvToHex=function(t,o,n){var i=0,s=0,a=0;if(0==o)a=s=i=n;else{var r=Math.floor(t/60),l=t/60-r;t=n*(1-o);var c=n*(1-o*l);switch(o=n*(1-o*(1-l)),r){case 1:i=c,s=n,a=t;break;case 2:i=t,s=n,a=o;break;case 3:i=t,s=c,a=n;break;case 4:i=o,s=t,a=n;break;case 5:i=n,s=t,a=c;break;case 6:case 0:i=n,s=o,a=t}}return e.utils.colour.rgbToHex(Math.floor(i),Math.floor(s),Math.floor(a))},e.utils.colour.blend=function(t,o,n){return t=e.utils.colour.hexToRgb(e.utils.colour.parse(t)),o=e.utils.colour.hexToRgb(e.utils.colour.parse(o)),e.utils.colour.rgbToHex(Math.round(o[0]+n*(t[0]-o[0])),Math.round(o[1]+n*(t[1]-o[1])),Math.round(o[2]+n*(t[2]-o[2])))},e.utils.colour.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},e.Block=function(t,o,n){if(e.Generator&&"undefined"!=typeof e.Generator.prototype[o])throw Error('Block prototypeName "'+o+'" conflicts with Blockly.Generator members.');if(this.id=n&&!t.getBlockById(n)?n:e.utils.genUid(),t.blockDB_[this.id]=this,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=null,this.commentModel={text:null,pinned:!1,size:new e.utils.Size(160,80)},this.xy_=new e.utils.Coordinate(0,0),this.workspace=t,this.isInFlyout=t.isFlyout,this.isInMutator=t.isMutator,this.RTL=t.RTL,this.isInsertionMarker_=!1,this.hat=void 0,o){if(this.type=o,!(n=e.Blocks[o])||"object"!=typeof n)throw TypeError("Unknown block type: "+o);e.utils.object.mixin(this,n)}if(t.addTopBlock(this),t.addTypedBlock(this),"function"==typeof this.init&&this.init(),this.inputsInlineDefault=this.inputsInline,e.Events.isEnabled()){(t=e.Events.getGroup())||e.Events.setGroup(!0);try{e.Events.fire(new e.Events.BlockCreate(this))}finally{t||e.Events.setGroup(!1)}}"function"==typeof this.onchange&&this.setOnChange(this.onchange)},e.Block.prototype.data=null,e.Block.prototype.disposed=!1,e.Block.prototype.hue_=null,e.Block.prototype.colour_="#000000",e.Block.prototype.colourSecondary_=null,e.Block.prototype.colourTertiary_=null,e.Block.prototype.styleName_=null,e.Block.prototype.dispose=function(t){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),e.keyboardAccessibilityMode&&e.navigation.moveCursorOnBlockDelete(this),this.unplug(t),e.Events.isEnabled()&&e.Events.fire(new e.Events.BlockDelete(this)),e.Events.disable();try{this.workspace&&(this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),delete this.workspace.blockDB_[this.id],this.workspace=null),e.selected==this&&(e.selected=null);for(var o=this.childBlocks_.length-1;0<=o;o--)this.childBlocks_[o].dispose(!1);o=0;for(var n;n=this.inputList[o];o++)n.dispose();this.inputList.length=0;var i,s=this.getConnections_(!0);for(o=0;i=s[o];o++)i.dispose()}finally{e.Events.enable(),this.disposed=!0}}},e.Block.prototype.initModel=function(){for(var e,t=0;e=this.inputList[t];t++)for(var o,n=0;o=e.fieldRow[n];n++)o.initModel&&o.initModel()},e.Block.prototype.unplug=function(e){this.outputConnection?this.unplugFromRow_(e):this.previousConnection&&this.unplugFromStack_(e)},e.Block.prototype.unplugFromRow_=function(e){var t=null;this.outputConnection.isConnected()&&(t=this.outputConnection.targetConnection,this.outputConnection.disconnect()),t&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&((e=e.targetConnection).disconnect(),e.checkType_(t)?t.connect(e):e.onFailedConnect(t))},e.Block.prototype.getOnlyValueConnection_=function(){for(var t=null,o=0;o<this.inputList.length;o++){var n=this.inputList[o].connection;if(n&&n.type==e.INPUT_VALUE&&n.targetConnection){if(t)return null;t=n}}return t},e.Block.prototype.unplugFromStack_=function(e){var t=null;this.previousConnection.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect());var o=this.getNextBlock();e&&o&&!o.isShadow()&&((e=this.nextConnection.targetConnection).disconnect(),t&&t.checkType_(e)&&t.connect(e))},e.Block.prototype.getConnections_=function(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(var t,o=0;t=this.inputList[o];o++)t.connection&&e.push(t.connection);return e},e.Block.prototype.lastConnectionInStack=function(){for(var e=this.nextConnection;e;){var t=e.targetBlock();if(!t)return e;e=t.nextConnection}return null},e.Block.prototype.bumpNeighbours=function(){console.warn("Not expected to reach Block.bumpNeighbours function. BlockSvg.bumpNeighbours was expected to be called instead.")},e.Block.prototype.getParent=function(){return this.parentBlock_},e.Block.prototype.getInputWithBlock=function(e){for(var t,o=0;t=this.inputList[o];o++)if(t.connection&&t.connection.targetBlock()==e)return t;return null},e.Block.prototype.getSurroundParent=function(){var e=this;do{var t=e;if(!(e=e.getParent()))return null}while(e.getNextBlock()==t);return e},e.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},e.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()},e.Block.prototype.getFirstStatementConnection=function(){for(var t,o=0;t=this.inputList[o];o++)if(t.connection&&t.connection.type==e.NEXT_STATEMENT)return t.connection;return null},e.Block.prototype.getRootBlock=function(){var e=this;do{var t=e;e=t.parentBlock_}while(e);return t},e.Block.prototype.getTopStackBlock=function(){var e=this;do{var t=e.getPreviousBlock()}while(t&&t.getNextBlock()==e&&(e=t));return e},e.Block.prototype.getChildren=function(e){if(!e)return this.childBlocks_;e=[];for(var t,o=0;t=this.inputList[o];o++)t.connection&&(t=t.connection.targetBlock())&&e.push(t);return(o=this.getNextBlock())&&e.push(o),e},e.Block.prototype.setParent=function(t){if(t!=this.parentBlock_){if(this.parentBlock_){if(e.utils.arrayRemove(this.parentBlock_.childBlocks_,this),this.previousConnection&&this.previousConnection.isConnected())throw Error("Still connected to previous block.");if(this.outputConnection&&this.outputConnection.isConnected())throw Error("Still connected to parent block.");this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=t)?t.childBlocks_.push(this):this.workspace.addTopBlock(this)}},e.Block.prototype.getDescendants=function(e){for(var t,o=[this],n=this.getChildren(e),i=0;t=n[i];i++)o.push.apply(o,t.getDescendants(e));return o},e.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},e.Block.prototype.setDeletable=function(e){this.deletable_=e},e.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},e.Block.prototype.setMovable=function(e){this.movable_=e},e.Block.prototype.isDuplicatable=function(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(e.utils.getBlockTypeCounts(this,!0))},e.Block.prototype.isShadow=function(){return this.isShadow_},e.Block.prototype.setShadow=function(e){this.isShadow_=e},e.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_},e.Block.prototype.setInsertionMarker=function(e){this.isInsertionMarker_=e},e.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},e.Block.prototype.setEditable=function(e){this.editable_=e,e=0;for(var t;t=this.inputList[e];e++)for(var o,n=0;o=t.fieldRow[n];n++)o.updateEditable()},e.Block.prototype.getMatchingConnection=function(e,t){var o=this.getConnections_(!0),n=e.getConnections_(!0);if(o.length!=n.length)throw Error("Connection lists did not match in length.");for(var i=0;i<n.length;i++)if(n[i]==t)return o[i];return null},e.Block.prototype.setHelpUrl=function(e){this.helpUrl=e},e.Block.prototype.setTooltip=function(e){this.tooltip=e},e.Block.prototype.getColour=function(){return this.colour_},e.Block.prototype.getColourSecondary=function(){return this.colourSecondary_},e.Block.prototype.getColourTertiary=function(){return this.colourTertiary_},e.Block.prototype.getColourShadow=function(){var t=this.getColourSecondary();return t||e.utils.colour.blend("#fff",this.getColour(),.6)},e.Block.prototype.getColourBorder=function(){var t=this.getColourTertiary();return t?{colourBorder:t,colourLight:null,colourDark:null}:(t=this.getColour(),{colourBorder:null,colourLight:e.utils.colour.blend("#fff",t,.3),colourDark:e.utils.colour.blend("#000",t,.2)})},e.Block.prototype.getStyleName=function(){return this.styleName_},e.Block.prototype.getHue=function(){return this.hue_},e.Block.prototype.setColour=function(t){var o="string"==typeof t?e.utils.replaceMessageReferences(t):t,n=Number(o);if(!isNaN(n)&&0<=n&&360>=n)this.hue_=n,this.colour_=e.hueToHex(n);else{if(!(n=e.utils.colour.parse(o)))throw n='Invalid colour: "'+o+'"',t!=o&&(n+=' (from "'+t+'")'),Error(n);this.colour_=n,this.hue_=null}},e.Block.prototype.setStyle=function(e){var t=this.workspace.getTheme().getBlockStyle(e);if(this.styleName_=e,!t)throw Error("Invalid style name: "+e);this.colourSecondary_=t.colourSecondary,this.colourTertiary_=t.colourTertiary,this.hat=t.hat,this.setColour(t.colourPrimary)},e.Block.prototype.setOnChange=function(e){if(e&&"function"!=typeof e)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),(this.onchange=e)&&(this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},e.Block.prototype.getField=function(e){for(var t,o=0;t=this.inputList[o];o++)for(var n,i=0;n=t.fieldRow[i];i++)if(n.name==e)return n;return null},e.Block.prototype.getVars=function(){for(var e,t=[],o=0;e=this.inputList[o];o++)for(var n,i=0;n=e.fieldRow[i];i++)n.referencesVariables()&&t.push(n.getValue());return t},e.Block.prototype.getVarModels=function(){for(var e,t=[],o=0;e=this.inputList[o];o++)for(var n,i=0;n=e.fieldRow[i];i++)n.referencesVariables()&&(n=this.workspace.getVariableById(n.getValue()))&&t.push(n);return t},e.Block.prototype.updateVarName=function(e){for(var t,o=0;t=this.inputList[o];o++)for(var n,i=0;n=t.fieldRow[i];i++)n.referencesVariables()&&e.getId()==n.getValue()&&n.refreshVariableName()},e.Block.prototype.renameVarById=function(e,t){for(var o,n=0;o=this.inputList[n];n++)for(var i,s=0;i=o.fieldRow[s];s++)i.referencesVariables()&&e==i.getValue()&&i.setValue(t)},e.Block.prototype.getFieldValue=function(e){return(e=this.getField(e))?e.getValue():null},e.Block.prototype.setFieldValue=function(e,t){var o=this.getField(t);if(!o)throw Error('Field "'+t+'" not found.');o.setValue(e)},e.Block.prototype.setPreviousStatement=function(t,o){if(t){if(void 0===o&&(o=null),!this.previousConnection){if(this.outputConnection)throw Error("Remove output connection prior to adding previous connection.");this.previousConnection=this.makeConnection_(e.PREVIOUS_STATEMENT)}this.previousConnection.setCheck(o)}else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}},e.Block.prototype.setNextStatement=function(t,o){if(t)void 0===o&&(o=null),this.nextConnection||(this.nextConnection=this.makeConnection_(e.NEXT_STATEMENT)),this.nextConnection.setCheck(o);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}},e.Block.prototype.setOutput=function(t,o){if(t){if(void 0===o&&(o=null),!this.outputConnection){if(this.previousConnection)throw Error("Remove previous connection prior to adding output connection.");this.outputConnection=this.makeConnection_(e.OUTPUT_VALUE)}this.outputConnection.setCheck(o)}else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}},e.Block.prototype.setInputsInline=function(t){this.inputsInline!=t&&(e.Events.fire(new e.Events.BlockChange(this,"inline",null,this.inputsInline,t)),this.inputsInline=t)},e.Block.prototype.getInputsInline=function(){if(void 0!=this.inputsInline)return this.inputsInline;for(var t=1;t<this.inputList.length;t++)if(this.inputList[t-1].type==e.DUMMY_INPUT&&this.inputList[t].type==e.DUMMY_INPUT)return!1;for(t=1;t<this.inputList.length;t++)if(this.inputList[t-1].type==e.INPUT_VALUE&&this.inputList[t].type==e.DUMMY_INPUT)return!0;return!1},e.Block.prototype.setDisabled=function(e){console.warn("Deprecated call to Blockly.Block.prototype.setDisabled, use Blockly.Block.prototype.setEnabled instead."),this.setEnabled(!e)},e.Block.prototype.isEnabled=function(){return!this.disabled},e.Block.prototype.setEnabled=function(t){this.isEnabled()!=t&&(e.Events.fire(new e.Events.BlockChange(this,"disabled",null,this.disabled,!t)),this.disabled=!t)},e.Block.prototype.getInheritedDisabled=function(){for(var e=this.getSurroundParent();e;){if(e.disabled)return!0;e=e.getSurroundParent()}return!1},e.Block.prototype.isCollapsed=function(){return this.collapsed_},e.Block.prototype.setCollapsed=function(t){this.collapsed_!=t&&(e.Events.fire(new e.Events.BlockChange(this,"collapsed",null,this.collapsed_,t)),this.collapsed_=t)},e.Block.prototype.toString=function(e,t){var o=[],n=t||"?";if(this.collapsed_)o.push(this.getInput("_TEMP_COLLAPSED_INPUT").fieldRow[0].getText());else for(var i,s=0;i=this.inputList[s];s++){for(var a,r=0;a=i.fieldRow[r];r++)o.push(a.getText());i.connection&&((i=i.connection.targetBlock())?o.push(i.toString(void 0,t)):o.push(n))}return o=o.join(" ").trim()||"???",e&&o.length>e&&(o=o.substring(0,e-3)+"..."),o},e.Block.prototype.appendValueInput=function(t){return this.appendInput_(e.INPUT_VALUE,t)},e.Block.prototype.appendStatementInput=function(t){return this.appendInput_(e.NEXT_STATEMENT,t)},e.Block.prototype.appendDummyInput=function(t){return this.appendInput_(e.DUMMY_INPUT,t||"")},e.Block.prototype.jsonInit=function(t){var o=t.type?'Block "'+t.type+'": ':"";if(t.output&&t.previousStatement)throw Error(o+"Must not have both an output and a previousStatement.");if(t.style&&t.style.hat&&(this.hat=t.style.hat,t.style=null),t.style&&t.colour)throw Error(o+"Must not have both a colour and a style.");t.style?this.jsonInitStyle_(t,o):this.jsonInitColour_(t,o);for(var n=0;void 0!==t["message"+n];)this.interpolate_(t["message"+n],t["args"+n]||[],t["lastDummyAlign"+n]),n++;if(void 0!==t.inputsInline&&this.setInputsInline(t.inputsInline),void 0!==t.output&&this.setOutput(!0,t.output),void 0!==t.previousStatement&&this.setPreviousStatement(!0,t.previousStatement),void 0!==t.nextStatement&&this.setNextStatement(!0,t.nextStatement),void 0!==t.tooltip&&(n=t.tooltip,n=e.utils.replaceMessageReferences(n),this.setTooltip(n)),void 0!==t.enableContextMenu&&(n=t.enableContextMenu,this.contextMenu=!!n),void 0!==t.helpUrl&&(n=t.helpUrl,n=e.utils.replaceMessageReferences(n),this.setHelpUrl(n)),"string"==typeof t.extensions&&(console.warn(o+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+t.type+"' block."),t.extensions=[t.extensions]),void 0!==t.mutator&&e.Extensions.apply(t.mutator,this,!0),Array.isArray(t.extensions))for(t=t.extensions,o=0;o<t.length;++o)e.Extensions.apply(t[o],this,!1)},e.Block.prototype.jsonInitColour_=function(e,t){if("colour"in e)if(void 0===e.colour)console.warn(t+"Undefined colour value.");else{var o=e.colour;try{this.setColour(o)}catch(n){console.warn(t+"Illegal colour value: ",o)}}},e.Block.prototype.jsonInitStyle_=function(e,t){var o=e.style;try{this.setStyle(o)}catch(n){console.warn(t+"Style does not exist: ",o)}},e.Block.prototype.mixin=function(t,o){if(void 0!==o&&"boolean"!=typeof o)throw Error("opt_disableCheck must be a boolean if provided");if(!o){var n,i=[];for(n in t)void 0!==this[n]&&i.push(n);if(i.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(i))}e.utils.object.mixin(this,t)},e.Block.prototype.interpolate_=function(t,o,n){var i=e.utils.tokenizeInterpolation(t),s=[],a=0;t=[];for(var r=0;r<i.length;r++){var l=i[r];if("number"==typeof l){if(0>=l||l>o.length)throw Error('Block "'+this.type+'": Message index %'+l+" out of range.");if(s[l])throw Error('Block "'+this.type+'": Message index %'+l+" duplicated.");s[l]=!0,a++,t.push(o[l-1])}else(l=l.trim())&&t.push(l)}if(a!=o.length)throw Error('Block "'+this.type+'": Message does not reference all '+o.length+" arg(s).");for(t.length&&("string"==typeof t[t.length-1]||e.utils.string.startsWith(t[t.length-1].type,"field_"))&&(r={type:"input_dummy"},n&&(r.align=n),t.push(r)),n={LEFT:e.ALIGN_LEFT,RIGHT:e.ALIGN_RIGHT,CENTRE:e.ALIGN_CENTRE},o=[],r=0;r<t.length;r++)if("string"==typeof(s=t[r]))o.push([s,void 0]);else{i=a=null;do{if(l=!1,"string"==typeof s)a=new e.FieldLabel(s);else switch(s.type){case"input_value":i=this.appendValueInput(s.name);break;case"input_statement":i=this.appendStatementInput(s.name);break;case"input_dummy":i=this.appendDummyInput(s.name);break;default:!(a=e.fieldRegistry.fromJson(s))&&s.alt&&(s=s.alt,l=!0)}}while(l);if(a)o.push([a,s.name]);else if(i){for(s.check&&i.setCheck(s.check),s.align&&i.setAlign(n[s.align]),s=0;s<o.length;s++)i.appendField(o[s][0],o[s][1]);o.length=0}}},e.Block.prototype.appendInput_=function(t,o){var n=null;return t!=e.INPUT_VALUE&&t!=e.NEXT_STATEMENT||(n=this.makeConnection_(t)),n=new e.Input(t,o,this,n),this.inputList.push(n),n},e.Block.prototype.moveInputBefore=function(e,t){if(e!=t){for(var o,n=-1,i=t?-1:this.inputList.length,s=0;o=this.inputList[s];s++)if(o.name==e){if(n=s,-1!=i)break}else if(t&&o.name==t&&(i=s,-1!=n))break;if(-1==n)throw Error('Named input "'+e+'" not found.');if(-1==i)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(n,i)}},e.Block.prototype.moveNumberedInputBefore=function(e,t){if(e==t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");var o=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,o)},e.Block.prototype.removeInput=function(e,t){for(var o,n=0;o=this.inputList[n];n++)if(o.name==e)return o.dispose(),void this.inputList.splice(n,1);if(!t)throw Error("Input not found: "+e)},e.Block.prototype.getInput=function(e){for(var t,o=0;t=this.inputList[o];o++)if(t.name==e)return t;return null},e.Block.prototype.getInputTargetBlock=function(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()},e.Block.prototype.getCommentText=function(){return this.commentModel.text},e.Block.prototype.setCommentText=function(t){this.commentModel.text!=t&&(e.Events.fire(new e.Events.BlockChange(this,"comment",null,this.commentModel.text,t)),this.comment=this.commentModel.text=t)},e.Block.prototype.setWarningText=function(e,t){},e.Block.prototype.setMutator=function(e){},e.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},e.Block.prototype.moveBy=function(t,o){if(this.parentBlock_)throw Error("Block has parent.");var n=new e.Events.BlockMove(this);this.xy_.translate(t,o),n.recordNew(),e.Events.fire(n)},e.Block.prototype.makeConnection_=function(t){return new e.Connection(this,t)},e.Block.prototype.allInputsFilled=function(e){if(void 0===e&&(e=!0),!e&&this.isShadow())return!1;for(var t,o=0;t=this.inputList[o];o++)if(t.connection&&(!(t=t.connection.targetBlock())||!t.allInputsFilled(e)))return!1;return!(o=this.getNextBlock())||o.allInputsFilled(e)},e.Block.prototype.toDevString=function(){var e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e},e.BlockDragSurfaceSvg=function(e){this.container_=e,this.createDom()},e.BlockDragSurfaceSvg.prototype.SVG_=null,e.BlockDragSurfaceSvg.prototype.dragGroup_=null,e.BlockDragSurfaceSvg.prototype.container_=null,e.BlockDragSurfaceSvg.prototype.scale_=1,e.BlockDragSurfaceSvg.prototype.surfaceXY_=null,e.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=e.utils.dom.createSvgElement("svg",{xmlns:e.utils.dom.SVG_NS,"xmlns:html":e.utils.dom.HTML_NS,"xmlns:xlink":e.utils.dom.XLINK_NS,version:"1.1",class:"blocklyBlockDragSurface"},this.container_),this.dragGroup_=e.utils.dom.createSvgElement("g",{},this.SVG_))},e.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(t){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(t),this.SVG_.style.display="block",this.surfaceXY_=new e.utils.Coordinate(0,0)},e.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(e,t,o){this.scale_=o,e=e.toFixed(0),t=t.toFixed(0),this.dragGroup_.setAttribute("transform","translate("+e+","+t+") scale("+o+")")},e.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var t=this.surfaceXY_.x,o=this.surfaceXY_.y;t=t.toFixed(0),o=o.toFixed(0),this.SVG_.style.display="block",e.utils.dom.setCssTransform(this.SVG_,"translate3d("+t+"px, "+o+"px, 0px)")},e.BlockDragSurfaceSvg.prototype.translateSurface=function(t,o){this.surfaceXY_=new e.utils.Coordinate(t*this.scale_,o*this.scale_),this.translateSurfaceInternal_()},e.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var t=e.utils.getRelativeXY(this.SVG_);return new e.utils.Coordinate(t.x/this.scale_,t.y/this.scale_)},e.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_},e.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild},e.BlockDragSurfaceSvg.prototype.clearAndHide=function(e){if(e?e.appendChild(this.getCurrentBlock()):this.dragGroup_.removeChild(this.getCurrentBlock()),this.SVG_.style.display="none",this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null},e.blockRendering={},e.blockRendering.IPathObject=function(e){},e.blockRendering.PathObject=function(t){this.svgRoot=t,this.svgPath=e.utils.dom.createSvgElement("path",{class:"blocklyPath"},this.svgRoot),this.svgPathLight=e.utils.dom.createSvgElement("path",{class:"blocklyPathLight"},this.svgRoot),this.svgPathDark=e.utils.dom.createSvgElement("path",{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgRoot)},e.blockRendering.PathObject.prototype.setPaths=function(e){this.svgPath.setAttribute("d",e),this.svgPathLight.style.display="none",this.svgPathDark.style.display="none"},e.blockRendering.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)")},e.utils.IdGenerator={},e.utils.IdGenerator.nextId_=0,e.utils.IdGenerator.getNextUniqueId=function(){return"blockly:"+(e.utils.IdGenerator.nextId_++).toString(36)},e.Component=function(){this.rightToLeft_=e.Component.defaultRightToLeft,this.id_=null,this.inDocument_=!1,this.parent_=this.element_=null,this.children_=[],this.childIndex_={}},e.Component.defaultRightToLeft=!1,e.Component.Error={ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds"},e.Component.prototype.getId=function(){return this.id_||(this.id_=e.utils.IdGenerator.getNextUniqueId())},e.Component.prototype.getElement=function(){return this.element_},e.Component.prototype.setElementInternal=function(e){this.element_=e},e.Component.prototype.setParent=function(t){if(this==t)throw Error(e.Component.Error.PARENT_UNABLE_TO_BE_SET);if(t&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=t)throw Error(e.Component.Error.PARENT_UNABLE_TO_BE_SET);this.parent_=t},e.Component.prototype.getParent=function(){return this.parent_},e.Component.prototype.isInDocument=function(){return this.inDocument_},e.Component.prototype.createDom=function(){this.element_=document.createElement("div")},e.Component.prototype.render=function(e){this.render_(e)},e.Component.prototype.renderBefore=function(e){this.render_(e.parentNode,e)},e.Component.prototype.render_=function(t,o){if(this.inDocument_)throw Error(e.Component.Error.ALREADY_RENDERED);this.element_||this.createDom(),t?t.insertBefore(this.element_,o||null):document.body.appendChild(this.element_),this.parent_&&!this.parent_.isInDocument()||this.enterDocument()},e.Component.prototype.enterDocument=function(){this.inDocument_=!0,this.forEachChild((function(e){!e.isInDocument()&&e.getElement()&&e.enterDocument()}))},e.Component.prototype.exitDocument=function(){this.forEachChild((function(e){e.isInDocument()&&e.exitDocument()})),this.inDocument_=!1},e.Component.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},e.Component.prototype.disposeInternal=function(){this.inDocument_&&this.exitDocument(),this.forEachChild((function(e){e.dispose()})),this.element_&&e.utils.dom.removeNode(this.element_),this.parent_=this.element_=this.childIndex_=this.children_=null},e.Component.prototype.addChild=function(e,t){this.addChildAt(e,this.getChildCount(),t)},e.Component.prototype.addChildAt=function(t,o,n){if(t.inDocument_&&(n||!this.inDocument_))throw Error(e.Component.Error.ALREADY_RENDERED);if(0>o||o>this.getChildCount())throw Error(e.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);if(this.childIndex_[t.getId()]=t,t.getParent()==this){var i=this.children_.indexOf(t);-1<i&&this.children_.splice(i,1)}t.setParent(this),this.children_.splice(o,0,t),t.inDocument_&&this.inDocument_&&t.getParent()==this?(o=(n=this.getContentElement()).childNodes[o]||null)!=t.getElement()&&n.insertBefore(t.getElement(),o):n?(this.element_||this.createDom(),o=this.getChildAt(o+1),t.render_(this.getContentElement(),o?o.element_:null)):this.inDocument_&&!t.inDocument_&&t.element_&&t.element_.parentNode&&t.element_.parentNode.nodeType==e.utils.dom.Node.ELEMENT_NODE&&t.enterDocument()},e.Component.prototype.getContentElement=function(){return this.element_},e.Component.prototype.isRightToLeft=function(){return this.rightToLeft_},e.Component.prototype.setRightToLeft=function(t){if(this.inDocument_)throw Error(e.Component.Error.ALREADY_RENDERED);this.rightToLeft_=t},e.Component.prototype.hasChildren=function(){return 0!=this.children_.length},e.Component.prototype.getChildCount=function(){return this.children_.length},e.Component.prototype.getChild=function(e){return e&&this.childIndex_[e]||null},e.Component.prototype.getChildAt=function(e){return this.children_[e]||null},e.Component.prototype.forEachChild=function(e,t){for(var o=0;o<this.children_.length;o++)e.call(t,this.children_[o],o)},e.Component.prototype.indexOfChild=function(e){return this.children_.indexOf(e)},e.utils.aria={},e.utils.aria.ARIA_PREFIX_="aria-",e.utils.aria.ROLE_ATTRIBUTE_="role",e.utils.aria.Role={ALERT:"alert",ALERTDIALOG:"alertdialog",APPLICATION:"application",ARTICLE:"article",BANNER:"banner",BUTTON:"button",CHECKBOX:"checkbox",COLUMNHEADER:"columnheader",COMBOBOX:"combobox",COMPLEMENTARY:"complementary",CONTENTINFO:"contentinfo",DEFINITION:"definition",DIALOG:"dialog",DIRECTORY:"directory",DOCUMENT:"document",FORM:"form",GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",HEADING:"heading",IMG:"img",LINK:"link",LIST:"list",LISTBOX:"listbox",LISTITEM:"listitem",LOG:"log",MAIN:"main",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUBAR:"menubar",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",MENUITEMRADIO:"menuitemradio",NAVIGATION:"navigation",NOTE:"note",OPTION:"option",PRESENTATION:"presentation",PROGRESSBAR:"progressbar",RADIO:"radio",RADIOGROUP:"radiogroup",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SCROLLBAR:"scrollbar",SEARCH:"search",SEPARATOR:"separator",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",TAB:"tab",TABLE:"table",TABLIST:"tablist",TABPANEL:"tabpanel",TEXTBOX:"textbox",TEXTINFO:"textinfo",TIMER:"timer",TOOLBAR:"toolbar",TOOLTIP:"tooltip",TREE:"tree",TREEGRID:"treegrid",TREEITEM:"treeitem"},e.utils.aria.State={ACTIVEDESCENDANT:"activedescendant",ATOMIC:"atomic",AUTOCOMPLETE:"autocomplete",BUSY:"busy",CHECKED:"checked",COLINDEX:"colindex",CONTROLS:"controls",DESCRIBEDBY:"describedby",DISABLED:"disabled",DROPEFFECT:"dropeffect",EXPANDED:"expanded",FLOWTO:"flowto",GRABBED:"grabbed",HASPOPUP:"haspopup",HIDDEN:"hidden",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",LIVE:"live",MULTILINE:"multiline",MULTISELECTABLE:"multiselectable",ORIENTATION:"orientation",OWNS:"owns",POSINSET:"posinset",PRESSED:"pressed",READONLY:"readonly",RELEVANT:"relevant",REQUIRED:"required",ROWINDEX:"rowindex",SELECTED:"selected",SETSIZE:"setsize",SORT:"sort",VALUEMAX:"valuemax",VALUEMIN:"valuemin",VALUENOW:"valuenow",VALUETEXT:"valuetext"},e.utils.aria.setRole=function(t,o){o?t.setAttribute(e.utils.aria.ROLE_ATTRIBUTE_,o):e.utils.aria.removeRole(t)},e.utils.aria.getRole=function(t){return t.getAttribute(e.utils.aria.ROLE_ATTRIBUTE_)||null},e.utils.aria.removeRole=function(t){t.removeAttribute(e.utils.aria.ROLE_ATTRIBUTE_)},e.utils.aria.setState=function(t,o,n){Array.isArray(n)&&(n=n.join(" ")),o=e.utils.aria.getAriaAttributeName_(o),t.setAttribute(o,n)},e.utils.aria.getAriaAttributeName_=function(t){return e.utils.aria.ARIA_PREFIX_+t},e.Menu=function(){e.Component.call(this),this.highlightedIndex_=-1},e.utils.object.inherits(e.Menu,e.Component),e.Menu.prototype.createDom=function(){var t=document.createElement("div");t.id=this.getId(),this.setElementInternal(t),t.className="goog-menu goog-menu-vertical blocklyNonSelectable",t.tabIndex=0,e.utils.aria.setRole(t,this.roleName_||e.utils.aria.Role.MENU)},e.Menu.prototype.focus=function(){var t=this.getElement();t&&(t.focus(),e.utils.dom.addClass(t,"focused"))},e.Menu.prototype.blur=function(){var t=this.getElement();t&&(t.blur(),e.utils.dom.removeClass(t,"focused"))},e.Menu.prototype.setRole=function(e){this.roleName_=e},e.Menu.prototype.enterDocument=function(){e.Menu.superClass_.enterDocument.call(this),this.forEachChild((function(e){e.isInDocument()&&this.registerChildId_(e)}),this),this.attachEvents_()},e.Menu.prototype.exitDocument=function(){this.setHighlightedIndex(-1),e.Menu.superClass_.exitDocument.call(this)},e.Menu.prototype.disposeInternal=function(){e.Menu.superClass_.disposeInternal.call(this),this.detachEvents_()},e.Menu.prototype.attachEvents_=function(){var t=this.getElement();this.mouseOverHandler_=e.bindEventWithChecks_(t,"mouseover",this,this.handleMouseOver_,!0),this.clickHandler_=e.bindEventWithChecks_(t,"click",this,this.handleClick_,!0),this.mouseEnterHandler_=e.bindEventWithChecks_(t,"mouseenter",this,this.handleMouseEnter_,!0),this.mouseLeaveHandler_=e.bindEventWithChecks_(t,"mouseleave",this,this.handleMouseLeave_,!0),this.onKeyDownWrapper_=e.bindEventWithChecks_(t,"keydown",this,this.handleKeyEvent)},e.Menu.prototype.detachEvents_=function(){e.unbindEvent_(this.mouseOverHandler_),e.unbindEvent_(this.clickHandler_),e.unbindEvent_(this.mouseEnterHandler_),e.unbindEvent_(this.mouseLeaveHandler_),e.unbindEvent_(this.onKeyDownWrapper_)},e.Menu.prototype.childElementIdMap_=null,e.Menu.prototype.registerChildId_=function(e){var t=e.getElement();t=t.id||(t.id=e.getId()),this.childElementIdMap_||(this.childElementIdMap_={}),this.childElementIdMap_[t]=e},e.Menu.prototype.getMenuItem=function(e){if(this.childElementIdMap_)for(var t=this.getElement();e&&e!==t;){var o=e.id;if(o in this.childElementIdMap_)return this.childElementIdMap_[o];e=e.parentNode}return null},e.Menu.prototype.unhighlightCurrent=function(){var e=this.getHighlighted();e&&e.setHighlighted(!1)},e.Menu.prototype.clearHighlighted=function(){this.unhighlightCurrent(),this.setHighlightedIndex(-1)},e.Menu.prototype.getHighlighted=function(){return this.getChildAt(this.highlightedIndex_)},e.Menu.prototype.setHighlightedIndex=function(t){var o=this.getChildAt(t);o?(o.setHighlighted(!0),this.highlightedIndex_=t):-1<this.highlightedIndex_&&(this.getHighlighted().setHighlighted(!1),this.highlightedIndex_=-1),o&&e.utils.style.scrollIntoContainerView(o.getElement(),this.getElement())},e.Menu.prototype.setHighlighted=function(e){this.setHighlightedIndex(this.indexOfChild(e))},e.Menu.prototype.highlightNext=function(){this.unhighlightCurrent(),this.highlightHelper((function(e,t){return(e+1)%t}),this.highlightedIndex_)},e.Menu.prototype.highlightPrevious=function(){this.unhighlightCurrent(),this.highlightHelper((function(e,t){return 0>--e?t-1:e}),this.highlightedIndex_)},e.Menu.prototype.highlightHelper=function(e,t){var o=0>t?-1:t,n=this.getChildCount();o=e.call(this,o,n);for(var i=0;i<=n;){var s=this.getChildAt(o);if(s&&this.canHighlightItem(s))return this.setHighlightedIndex(o),!0;i++,o=e.call(this,o,n)}return!1},e.Menu.prototype.canHighlightItem=function(e){return e.isEnabled()},e.Menu.prototype.handleMouseOver_=function(e){(e=this.getMenuItem(e.target))&&e.isEnabled()&&this.getHighlighted()!==e&&(this.unhighlightCurrent(),this.setHighlighted(e))},e.Menu.prototype.handleClick_=function(e){var t=this.getMenuItem(e.target);t&&t.handleClick(e)&&e.preventDefault()},e.Menu.prototype.handleMouseEnter_=function(e){this.focus()},e.Menu.prototype.handleMouseLeave_=function(e){this.getElement()&&(this.blur(),this.clearHighlighted())},e.Menu.prototype.handleKeyEvent=function(e){return!(0==this.getChildCount()||!this.handleKeyEventInternal(e))&&(e.preventDefault(),e.stopPropagation(),!0)},e.Menu.prototype.handleKeyEventInternal=function(t){var o=this.getHighlighted();if(o&&"function"==typeof o.handleKeyEvent&&o.handleKeyEvent(t))return!0;if(t.shiftKey||t.ctrlKey||t.metaKey||t.altKey)return!1;switch(t.keyCode){case e.utils.KeyCodes.ENTER:o&&o.performActionInternal(t);break;case e.utils.KeyCodes.UP:this.highlightPrevious();break;case e.utils.KeyCodes.DOWN:this.highlightNext();break;default:return!1}return!0},e.MenuItem=function(t,o){e.Component.call(this),this.setContentInternal(t),this.setValue(o),this.enabled_=!0},e.utils.object.inherits(e.MenuItem,e.Component),e.MenuItem.prototype.createDom=function(){var t=document.createElement("div");t.id=this.getId(),this.setElementInternal(t),t.className="goog-menuitem goog-option "+(this.enabled_?"":"goog-menuitem-disabled ")+(this.checked_?"goog-option-selected ":"")+(this.isRightToLeft()?"goog-menuitem-rtl ":"");var o=this.getContentWrapperDom();t.appendChild(o);var n=this.getCheckboxDom();n&&o.appendChild(n),o.appendChild(this.getContentDom()),e.utils.aria.setRole(t,this.roleName_||(this.checkable_?e.utils.aria.Role.MENUITEMCHECKBOX:e.utils.aria.Role.MENUITEM)),e.utils.aria.setState(t,e.utils.aria.State.SELECTED,this.checkable_&&this.checked_||!1)},e.MenuItem.prototype.getCheckboxDom=function(){if(!this.checkable_)return null;var e=document.createElement("div");return e.className="goog-menuitem-checkbox",e},e.MenuItem.prototype.getContentDom=function(){var e=this.content_;return"string"===typeof e&&(e=document.createTextNode(e)),e},e.MenuItem.prototype.getContentWrapperDom=function(){var e=document.createElement("div");return e.className="goog-menuitem-content",e},e.MenuItem.prototype.setContentInternal=function(e){this.content_=e},e.MenuItem.prototype.setValue=function(e){this.value_=e},e.MenuItem.prototype.getValue=function(){return this.value_},e.MenuItem.prototype.setRole=function(e){this.roleName_=e},e.MenuItem.prototype.setCheckable=function(e){this.checkable_=e},e.MenuItem.prototype.setChecked=function(t){if(this.checkable_){this.checked_=t;var o=this.getElement();o&&this.isEnabled()&&(t?(e.utils.dom.addClass(o,"goog-option-selected"),e.utils.aria.setState(o,e.utils.aria.State.SELECTED,!0)):(e.utils.dom.removeClass(o,"goog-option-selected"),e.utils.aria.setState(o,e.utils.aria.State.SELECTED,!1)))}},e.MenuItem.prototype.setHighlighted=function(t){this.highlight_=t;var o=this.getElement();o&&this.isEnabled()&&(t?e.utils.dom.addClass(o,"goog-menuitem-highlight"):e.utils.dom.removeClass(o,"goog-menuitem-highlight"))},e.MenuItem.prototype.isEnabled=function(){return this.enabled_},e.MenuItem.prototype.setEnabled=function(t){this.enabled_=t,(t=this.getElement())&&(this.enabled_?e.utils.dom.removeClass(t,"goog-menuitem-disabled"):e.utils.dom.addClass(t,"goog-menuitem-disabled"))},e.MenuItem.prototype.handleClick=function(e){this.isEnabled()&&(this.setHighlighted(!0),this.performActionInternal())},e.MenuItem.prototype.performActionInternal=function(){this.checkable_&&this.setChecked(!this.checked_),this.actionHandler_&&this.actionHandler_.call(this.actionHandlerObj_,this)},e.MenuItem.prototype.onAction=function(e,t){this.actionHandler_=e,this.actionHandlerObj_=t},e.utils.uiMenu={},e.utils.uiMenu.getSize=function(t){t=t.getElement();var o=e.utils.style.getSize(t);return o.height=t.scrollHeight,o},e.utils.uiMenu.adjustBBoxesForRTL=function(e,t,o){t.left+=o.width,t.right+=o.width,e.left+=o.width,e.right+=o.width},e.ContextMenu={},e.ContextMenu.currentBlock=null,e.ContextMenu.eventWrapper_=null,e.ContextMenu.show=function(t,o,n){if(e.WidgetDiv.show(e.ContextMenu,n,null),o.length){var i=e.ContextMenu.populate_(o,n);e.ContextMenu.position_(i,t,n),setTimeout((function(){i.getElement().focus()}),1),e.ContextMenu.currentBlock=null}else e.ContextMenu.hide()},e.ContextMenu.populate_=function(t,o){var n=new e.Menu;n.setRightToLeft(o);for(var i,s=0;i=t[s];s++){var a=new e.MenuItem(i.text);a.setRightToLeft(o),n.addChild(a,!0),a.setEnabled(i.enabled),i.enabled&&a.onAction((function(){e.ContextMenu.hide(),this.callback()}),i)}return n},e.ContextMenu.position_=function(t,o,n){var i=e.utils.getViewportBBox();o={top:o.clientY+i.top,bottom:o.clientY+i.top,left:o.clientX+i.left,right:o.clientX+i.left},e.ContextMenu.createWidget_(t);var s=e.utils.uiMenu.getSize(t);n&&e.utils.uiMenu.adjustBBoxesForRTL(i,o,s),e.WidgetDiv.positionWithAnchor(i,o,s,n),t.getElement().focus()},e.ContextMenu.createWidget_=function(t){t.render(e.WidgetDiv.DIV);var o=t.getElement();e.utils.dom.addClass(o,"blocklyContextMenu"),e.bindEventWithChecks_(o,"contextmenu",null,e.utils.noEvent),t.focus()},e.ContextMenu.hide=function(){e.WidgetDiv.hideIfOwner(e.ContextMenu),e.ContextMenu.currentBlock=null,e.ContextMenu.eventWrapper_&&e.unbindEvent_(e.ContextMenu.eventWrapper_)},e.ContextMenu.callbackFactory=function(t,o){return function(){e.Events.disable();try{var n=e.Xml.domToBlock(o,t.workspace),i=t.getRelativeToSurfaceXY();i.x=t.RTL?i.x-e.SNAP_RADIUS:i.x+e.SNAP_RADIUS,i.y+=2*e.SNAP_RADIUS,n.moveBy(i.x,i.y)}finally{e.Events.enable()}e.Events.isEnabled()&&!n.isShadow()&&e.Events.fire(new e.Events.BlockCreate(n)),n.select()}},e.ContextMenu.blockDeleteOption=function(t){var o=t.getDescendants(!1).length,n=t.getNextBlock();return n&&(o-=n.getDescendants(!1).length),{text:1==o?e.Msg.DELETE_BLOCK:e.Msg.DELETE_X_BLOCKS.replace("%1",String(o)),enabled:!0,callback:function(){e.Events.setGroup(!0),t.dispose(!0,!0),e.Events.setGroup(!1)}}},e.ContextMenu.blockHelpOption=function(t){return{enabled:!("function"==typeof t.helpUrl?!t.helpUrl():!t.helpUrl),text:e.Msg.HELP,callback:function(){t.showHelp_()}}},e.ContextMenu.blockDuplicateOption=function(t){var o=t.isDuplicatable();return{text:e.Msg.DUPLICATE_BLOCK,enabled:o,callback:function(){e.duplicate_(t)}}},e.ContextMenu.blockCommentOption=function(t){var o={enabled:!e.utils.userAgent.IE};return t.comment?(o.text=e.Msg.REMOVE_COMMENT,o.callback=function(){t.setCommentText(null)}):(o.text=e.Msg.ADD_COMMENT,o.callback=function(){t.setCommentText("")}),o},e.ContextMenu.commentDeleteOption=function(t){return{text:e.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){e.Events.setGroup(!0),t.dispose(!0,!0),e.Events.setGroup(!1)}}},e.ContextMenu.commentDuplicateOption=function(t){return{text:e.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){e.duplicate_(t)}}},e.ContextMenu.workspaceCommentOption=function(t,o){if(!e.WorkspaceCommentSvg)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var n={enabled:!e.utils.userAgent.IE};return n.text=e.Msg.ADD_COMMENT,n.callback=function(){var n=new e.WorkspaceCommentSvg(t,e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,e.WorkspaceCommentSvg.DEFAULT_SIZE,e.WorkspaceCommentSvg.DEFAULT_SIZE),i=t.getInjectionDiv().getBoundingClientRect();i=new e.utils.Coordinate(o.clientX-i.left,o.clientY-i.top);var s=t.getOriginOffsetInPixels();(i=e.utils.Coordinate.difference(i,s)).scale(1/t.scale),n.moveBy(i.x,i.y),t.rendered&&(n.initSvg(),n.render(),n.select())},n},e.RenderedConnection=function(t,o){e.RenderedConnection.superClass_.constructor.call(this,t,o),this.db_=t.workspace.connectionDBList[o],this.dbOpposite_=t.workspace.connectionDBList[e.OPPOSITE_TYPE[o]],this.offsetInBlock_=new e.utils.Coordinate(0,0),this.inDB_=!1,this.hidden_=!this.db_},e.utils.object.inherits(e.RenderedConnection,e.Connection),e.RenderedConnection.prototype.dispose=function(){e.RenderedConnection.superClass_.dispose.call(this),this.inDB_&&this.db_.removeConnection_(this)},e.RenderedConnection.prototype.distanceFrom=function(e){var t=this.x_-e.x_;return e=this.y_-e.y_,Math.sqrt(t*t+e*e)},e.RenderedConnection.prototype.bumpAwayFrom_=function(t){if(!this.sourceBlock_.workspace.isDragging()){var o=this.sourceBlock_.getRootBlock();if(!o.isInFlyout){var n=!1;if(!o.isMovable()){if(!(o=t.getSourceBlock().getRootBlock()).isMovable())return;t=this,n=!0}var i=e.selected==o;i||o.addSelect();var s=t.x_+e.SNAP_RADIUS+Math.floor(Math.random()*e.BUMP_RANDOMNESS)-this.x_,a=t.y_+e.SNAP_RADIUS+Math.floor(Math.random()*e.BUMP_RANDOMNESS)-this.y_;n&&(a=-a),o.RTL&&(s=t.x_-e.SNAP_RADIUS-Math.floor(Math.random()*e.BUMP_RANDOMNESS)-this.x_),o.moveBy(s,a),i||o.removeSelect()}}},e.RenderedConnection.prototype.moveTo=function(e,t){this.inDB_&&this.db_.removeConnection_(this),this.x_=e,this.y_=t,this.hidden_||this.db_.addConnection(this)},e.RenderedConnection.prototype.moveBy=function(e,t){this.moveTo(this.x_+e,this.y_+t)},e.RenderedConnection.prototype.moveToOffset=function(e){this.moveTo(e.x+this.offsetInBlock_.x,e.y+this.offsetInBlock_.y)},e.RenderedConnection.prototype.setOffsetInBlock=function(e,t){this.offsetInBlock_.x=e,this.offsetInBlock_.y=t},e.RenderedConnection.prototype.getOffsetInBlock=function(){return this.offsetInBlock_},e.RenderedConnection.prototype.tighten_=function(){var t=this.targetConnection.x_-this.x_,o=this.targetConnection.y_-this.y_;if(0!=t||0!=o){var n=this.targetBlock(),i=n.getSvgRoot();if(!i)throw Error("block is not rendered.");i=e.utils.getRelativeXY(i),n.getSvgRoot().setAttribute("transform","translate("+(i.x-t)+","+(i.y-o)+")"),n.moveConnections_(-t,-o)}},e.RenderedConnection.prototype.closest=function(e,t){return this.dbOpposite_.searchForClosest(this,e,t)},e.RenderedConnection.prototype.highlight=function(){var t=this.sourceBlock_.workspace.getRenderer().getConstants();t=this.type==e.INPUT_VALUE||this.type==e.OUTPUT_VALUE?e.utils.svgPaths.moveBy(0,-5)+e.utils.svgPaths.lineOnAxis("v",5)+t.PUZZLE_TAB.pathDown+e.utils.svgPaths.lineOnAxis("v",5):e.utils.svgPaths.moveBy(-5,0)+e.utils.svgPaths.lineOnAxis("h",5)+t.NOTCH.pathLeft+e.utils.svgPaths.lineOnAxis("h",5);var o=this.sourceBlock_.getRelativeToSurfaceXY();e.Connection.highlightedPath_=e.utils.dom.createSvgElement("path",{class:"blocklyHighlightedConnectionPath",d:t,transform:"translate("+(this.x_-o.x)+","+(this.y_-o.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},e.RenderedConnection.prototype.unhideAll=function(){this.setHidden(!1);var t=[];if(this.type!=e.INPUT_VALUE&&this.type!=e.NEXT_STATEMENT)return t;var o=this.targetBlock();if(o){if(o.isCollapsed()){var n=[];o.outputConnection&&n.push(o.outputConnection),o.nextConnection&&n.push(o.nextConnection),o.previousConnection&&n.push(o.previousConnection)}else n=o.getConnections_(!0);for(var i=0;i<n.length;i++)t.push.apply(t,n[i].unhideAll());t.length||(t[0]=o)}return t},e.RenderedConnection.prototype.unhighlight=function(){e.utils.dom.removeNode(e.Connection.highlightedPath_),delete e.Connection.highlightedPath_},e.RenderedConnection.prototype.setHidden=function(e){(this.hidden_=e)&&this.inDB_?this.db_.removeConnection_(this):e||this.inDB_||this.db_.addConnection(this)},e.RenderedConnection.prototype.hideAll=function(){if(this.setHidden(!0),this.targetConnection)for(var e=this.targetBlock().getDescendants(!1),t=0;t<e.length;t++){for(var o=e[t],n=o.getConnections_(!0),i=0;i<n.length;i++)n[i].setHidden(!0);for(o=o.getIcons(),i=0;i<o.length;i++)o[i].setVisible(!1)}},e.RenderedConnection.prototype.isConnectionAllowed=function(t,o){return!(this.distanceFrom(t)>o)&&e.RenderedConnection.superClass_.isConnectionAllowed.call(this,t)},e.RenderedConnection.prototype.onFailedConnect=function(e){this.bumpAwayFrom_(e)},e.RenderedConnection.prototype.disconnectInternal_=function(t,o){e.RenderedConnection.superClass_.disconnectInternal_.call(this,t,o),t.rendered&&t.render(),o.rendered&&(o.updateDisabled(),o.render())},e.RenderedConnection.prototype.respawnShadow_=function(){var t=this.getSourceBlock(),o=this.getShadowDom();if(t.workspace&&o&&e.Events.recordUndo){if(e.RenderedConnection.superClass_.respawnShadow_.call(this),!(o=this.targetBlock()))throw Error("Couldn't respawn the shadow block that should exist here.");o.initSvg(),o.render(!1),t.rendered&&t.render()}},e.RenderedConnection.prototype.neighbours_=function(e){return this.dbOpposite_.getNeighbours(this,e)},e.RenderedConnection.prototype.connect_=function(t){e.RenderedConnection.superClass_.connect_.call(this,t);var o=this.getSourceBlock();t=t.getSourceBlock(),o.rendered&&o.updateDisabled(),t.rendered&&t.updateDisabled(),o.rendered&&t.rendered&&(this.type==e.NEXT_STATEMENT||this.type==e.PREVIOUS_STATEMENT?t.render():o.render())},e.RenderedConnection.prototype.onCheckChanged_=function(){this.isConnected()&&!this.checkType_(this.targetConnection)&&((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())},e.utils.Rect=function(e,t,o,n){this.top=e,this.bottom=t,this.left=o,this.right=n},e.utils.Rect.prototype.contains=function(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom},e.Icon=function(e){this.block_=e},e.Icon.prototype.collapseHidden=!0,e.Icon.prototype.SIZE=17,e.Icon.prototype.bubble_=null,e.Icon.prototype.iconXY_=null,e.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=e.utils.dom.createSvgElement("g",{class:"blocklyIconGroup"},null),this.block_.isInFlyout&&e.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),e.bindEventWithChecks_(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},e.Icon.prototype.dispose=function(){e.utils.dom.removeNode(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},e.Icon.prototype.updateEditable=function(){},e.Icon.prototype.isVisible=function(){return!!this.bubble_},e.Icon.prototype.iconClick_=function(t){this.block_.workspace.isDragging()||this.block_.isInFlyout||e.utils.isRightButton(t)||this.setVisible(!this.isVisible())},e.Icon.prototype.updateColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.getColour())},e.Icon.prototype.setIconLocation=function(e){this.iconXY_=e,this.isVisible()&&this.bubble_.setAnchorLocation(e)},e.Icon.prototype.computeIconLocation=function(){var t=this.block_.getRelativeToSurfaceXY(),o=e.utils.getRelativeXY(this.iconGroup_);t=new e.utils.Coordinate(t.x+o.x+this.SIZE/2,t.y+o.y+this.SIZE/2),e.utils.Coordinate.equals(this.getIconLocation(),t)||this.setIconLocation(t)},e.Icon.prototype.getIconLocation=function(){return this.iconXY_},e.Icon.prototype.getCorrectedSize=function(){return new e.utils.Size(e.Icon.prototype.SIZE,e.Icon.prototype.SIZE-2)},e.Warning=function(t){e.Warning.superClass_.constructor.call(this,t),this.createIcon(),this.text_={}},e.utils.object.inherits(e.Warning,e.Icon),e.Warning.prototype.collapseHidden=!1,e.Warning.prototype.drawIcon_=function(t){e.utils.dom.createSvgElement("path",{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},t),e.utils.dom.createSvgElement("path",{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},t),e.utils.dom.createSvgElement("rect",{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},t)},e.Warning.textToDom_=function(t){var o=e.utils.dom.createSvgElement("text",{class:"blocklyText blocklyBubbleText",y:e.Bubble.BORDER_WIDTH},null);t=t.split("\n");for(var n=0;n<t.length;n++){var i=e.utils.dom.createSvgElement("tspan",{dy:"1em",x:e.Bubble.BORDER_WIDTH},o),s=document.createTextNode(t[n]);i.appendChild(s)}return o},e.Warning.prototype.setVisible=function(t){t!=this.isVisible()&&(e.Events.fire(new e.Events.Ui(this.block_,"warningOpen",!t,t)),t?this.createBubble():this.disposeBubble())},e.Warning.prototype.createBubble=function(){if(this.paragraphElement_=e.Warning.textToDom_(this.getText()),this.bubble_=new e.Bubble(this.block_.workspace,this.paragraphElement_,this.block_.svgPath_,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.block_.RTL)for(var t,o=this.paragraphElement_.getBBox().width,n=0;t=this.paragraphElement_.childNodes[n];n++)t.setAttribute("text-anchor","end"),t.setAttribute("x",o+e.Bubble.BORDER_WIDTH);this.updateColour()},e.Warning.prototype.disposeBubble=function(){this.bubble_.dispose(),this.paragraphElement_=this.body_=this.bubble_=null},e.Warning.prototype.bodyFocus_=function(e){this.bubble_.promote_()},e.Warning.prototype.setText=function(e,t){this.text_[t]!=e&&(e?this.text_[t]=e:delete this.text_[t],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},e.Warning.prototype.getText=function(){var e,t=[];for(e in this.text_)t.push(this.text_[e]);return t.join("\n")},e.Warning.prototype.dispose=function(){this.block_.warning=null,e.Icon.prototype.dispose.call(this)},e.BlockSvg=function(t,o,n){this.svgGroup_=e.utils.dom.createSvgElement("g",{},null),this.svgGroup_.translate_="",this.pathObject=t.getRenderer().makePathObject(this.svgGroup_),this.svgPathDark_=this.pathObject.svgPathDark||null,this.svgPath_=this.pathObject.svgPath||null,this.svgPathLight_=this.pathObject.svgPathLight||null,this.svgPath_.tooltip=this,this.rendered=!1,this.useDragSurface_=e.utils.is3dSupported()&&!!t.blockDragSurface_,e.Tooltip.bindMouseEvents(this.svgPath_),e.BlockSvg.superClass_.constructor.call(this,t,o,n),this.svgGroup_.dataset&&(this.svgGroup_.dataset.id=this.id),this.markerSvg_=this.cursorSvg_=null},e.utils.object.inherits(e.BlockSvg,e.Block),e.BlockSvg.prototype.height=0,e.BlockSvg.prototype.width=0,e.BlockSvg.prototype.dragStartXY_=null,e.BlockSvg.prototype.warningTextDb_=null,e.BlockSvg.INLINE=-1,e.BlockSvg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_",e.BlockSvg.SEP_SPACE_Y=10,e.BlockSvg.MIN_BLOCK_Y=25,e.BlockSvg.TAB_WIDTH=8,e.BlockSvg.START_HAT=!1,e.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var t,o=0;t=this.inputList[o];o++)t.init();for(t=this.getIcons(),o=0;o<t.length;o++)t[o].createIcon();this.updateColour(),this.updateMovable(),this.workspace.options.readOnly||this.eventsInit_||e.bindEventWithChecks_(this.getSvgRoot(),"mousedown",this,this.onMouseDown_),this.eventsInit_=!0,this.getSvgRoot().parentNode||this.workspace.getCanvas().appendChild(this.getSvgRoot())},e.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(e.selected!=this){var t=null;if(e.selected){t=e.selected.id,e.Events.disable();try{e.selected.unselect()}finally{e.Events.enable()}}(t=new e.Events.Ui(null,"selected",t,this.id)).workspaceId=this.workspace.id,e.Events.fire(t),e.selected=this,this.addSelect()}},e.BlockSvg.prototype.unselect=function(){if(e.selected==this){var t=new e.Events.Ui(null,"selected",this.id,null);t.workspaceId=this.workspace.id,e.Events.fire(t),e.selected=null,this.removeSelect()}},e.BlockSvg.prototype.mutator=null,e.BlockSvg.prototype.comment=null,e.BlockSvg.prototype.commentIcon_=null,e.BlockSvg.prototype.warning=null,e.BlockSvg.prototype.getIcons=function(){var e=[];return this.mutator&&e.push(this.mutator),this.commentIcon_&&e.push(this.commentIcon_),this.warning&&e.push(this.warning),e},e.BlockSvg.prototype.setParent=function(t){var o=this.parentBlock_;if(t!=o){e.utils.dom.startTextWidthCache(),e.BlockSvg.superClass_.setParent.call(this,t),e.utils.dom.stopTextWidthCache();var n=this.getSvgRoot();if(!this.workspace.isClearing&&n){var i=this.getRelativeToSurfaceXY();t?(t.getSvgRoot().appendChild(n),t=this.getRelativeToSurfaceXY(),this.moveConnections_(t.x-i.x,t.y-i.y)):o&&(this.workspace.getCanvas().appendChild(n),this.translate(i.x,i.y))}}},e.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var t=0,o=0,n=this.useDragSurface_?this.workspace.blockDragSurface_.getGroup():null,i=this.getSvgRoot();if(i)do{var s=e.utils.getRelativeXY(i);t+=s.x,o+=s.y,this.useDragSurface_&&this.workspace.blockDragSurface_.getCurrentBlock()==i&&(t+=(s=this.workspace.blockDragSurface_.getSurfaceTranslation()).x,o+=s.y),i=i.parentNode}while(i&&i!=this.workspace.getCanvas()&&i!=n);return new e.utils.Coordinate(t,o)},e.BlockSvg.prototype.moveBy=function(t,o){if(this.parentBlock_)throw Error("Block has parent.");var n=e.Events.isEnabled();if(n)var i=new e.Events.BlockMove(this);var s=this.getRelativeToSurfaceXY();this.translate(s.x+t,s.y+o),this.moveConnections_(t,o),n&&(i.recordNew(),e.Events.fire(i)),this.workspace.resizeContents()},e.BlockSvg.prototype.translate=function(e,t){this.getSvgRoot().setAttribute("transform","translate("+e+","+t+")")},e.BlockSvg.prototype.moveToDragSurface_=function(){if(this.useDragSurface_){var e=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.blockDragSurface_.translateSurface(e.x,e.y),this.workspace.blockDragSurface_.setBlocksAndShow(this.getSvgRoot())}},e.BlockSvg.prototype.moveTo=function(e){var t=this.getRelativeToSurfaceXY();this.moveBy(e.x-t.x,e.y-t.y)},e.BlockSvg.prototype.moveOffDragSurface_=function(e){this.useDragSurface_&&(this.translate(e.x,e.y),this.workspace.blockDragSurface_.clearAndHide(this.workspace.getCanvas()))},e.BlockSvg.prototype.moveDuringDrag=function(e){this.useDragSurface_?this.workspace.blockDragSurface_.translateSurface(e.x,e.y):(this.svgGroup_.translate_="translate("+e.x+","+e.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},e.BlockSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},e.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e&&e.shouldSnap()){var t=e.getSpacing(),o=t/2,n=this.getRelativeToSurfaceXY();e=Math.round((n.x-o)/t)*t+o-n.x,t=Math.round((n.y-o)/t)*t+o-n.y,e=Math.round(e),t=Math.round(t),0==e&&0==t||this.moveBy(e,t)}}},e.BlockSvg.prototype.getBoundingRectangle=function(){var t=this.getRelativeToSurfaceXY(this),o=this.outputConnection?e.BlockSvg.TAB_WIDTH:0,n=this.getHeightWidth(),i=t.y,s=t.y+n.height;if(this.RTL){var a=t.x-(n.width-o);t=t.x+o}else a=t.x-o,t=t.x+n.width-o;return new e.utils.Rect(i,s,a,t)},e.BlockSvg.prototype.markDirty=function(){for(var e,t=0;e=this.inputList[t];t++)e.markDirty()},e.BlockSvg.prototype.setCollapsed=function(t){if(this.collapsed_!=t){for(var o,n=[],i=0;o=this.inputList[i];i++)n.push.apply(n,o.setVisible(!t));if(t){for(o=this.getIcons(),i=0;i<o.length;i++)o[i].setVisible(!1);i=this.toString(e.COLLAPSE_CHARS),this.appendDummyInput("_TEMP_COLLAPSED_INPUT").appendField(i).init(),o=this.getDescendants(!0),(i=this.getNextBlock())&&(i=o.indexOf(i),o.splice(i,o.length-i)),i=1;for(var s;s=o[i];i++)if(s.warning){this.setWarningText(e.Msg.COLLAPSED_WARNINGS_WARNING,e.BlockSvg.COLLAPSED_WARNING_ID);break}}else this.removeInput("_TEMP_COLLAPSED_INPUT"),this.warning&&(this.warning.setText("",e.BlockSvg.COLLAPSED_WARNING_ID),Object.keys(this.warning.text_).length||this.setWarningText(null));if(e.BlockSvg.superClass_.setCollapsed.call(this,t),n.length||(n[0]=this),this.rendered)for(i=0;s=n[i];i++)s.render()}},e.BlockSvg.prototype.tab=function(t,o){var n=this.createTabList_(),i=n.indexOf(t);-1==i&&(i=o?-1:n.length),(n=n[o?i+1:i-1])?n instanceof e.Field?n.showEditor_():n.tab(null,o):(n=this.getParent())&&n.tab(this,o)},e.BlockSvg.prototype.createTabList_=function(){for(var e,t=[],o=0;e=this.inputList[o];o++){for(var n,i=0;n=e.fieldRow[i];i++)n.isTabNavigable()&&n.isVisible()&&t.push(n);e.connection&&(e=e.connection.targetBlock())&&t.push(e)}return t},e.BlockSvg.prototype.onMouseDown_=function(e){var t=this.workspace&&this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)},e.BlockSvg.prototype.showHelp_=function(){var e="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;e&&window.open(e)},e.BlockSvg.prototype.generateContextMenu=function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var t=this,o=[];if(!this.isInFlyout){if(this.isDeletable()&&this.isMovable()&&o.push(e.ContextMenu.blockDuplicateOption(t)),this.workspace.options.comments&&!this.collapsed_&&this.isEditable()&&o.push(e.ContextMenu.blockCommentOption(t)),this.isMovable())if(this.collapsed_)this.workspace.options.collapse&&((n={enabled:!0}).text=e.Msg.EXPAND_BLOCK,n.callback=function(){t.setCollapsed(!1)},o.push(n));else{for(var n=1;n<this.inputList.length;n++)if(this.inputList[n-1].type!=e.NEXT_STATEMENT&&this.inputList[n].type!=e.NEXT_STATEMENT){n={enabled:!0};var i=this.getInputsInline();n.text=i?e.Msg.EXTERNAL_INPUTS:e.Msg.INLINE_INPUTS,n.callback=function(){t.setInputsInline(!i)},o.push(n);break}this.workspace.options.collapse&&((n={enabled:!0}).text=e.Msg.COLLAPSE_BLOCK,n.callback=function(){t.setCollapsed(!0)},o.push(n))}this.workspace.options.disable&&this.isEditable()&&(n={text:this.isEnabled()?e.Msg.DISABLE_BLOCK:e.Msg.ENABLE_BLOCK,enabled:!this.getInheritedDisabled(),callback:function(){var o=e.Events.getGroup();o||e.Events.setGroup(!0),t.setEnabled(!t.isEnabled()),o||e.Events.setGroup(!1)}},o.push(n)),this.isDeletable()&&o.push(e.ContextMenu.blockDeleteOption(t))}return o.push(e.ContextMenu.blockHelpOption(t)),this.customContextMenu&&this.customContextMenu(o),o},e.BlockSvg.prototype.showContextMenu_=function(t){var o=this.generateContextMenu();o&&o.length&&(e.ContextMenu.show(t,o,this.RTL),e.ContextMenu.currentBlock=this)},e.BlockSvg.prototype.moveConnections_=function(e,t){if(this.rendered){for(var o=this.getConnections_(!1),n=0;n<o.length;n++)o[n].moveBy(e,t);for(o=this.getIcons(),n=0;n<o.length;n++)o[n].computeIconLocation();for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].moveConnections_(e,t)}},e.BlockSvg.prototype.setDragging=function(t){if(t){var o=this.getSvgRoot();o.translate_="",o.skew_="",e.draggingConnections_=e.draggingConnections_.concat(this.getConnections_(!0)),e.utils.dom.addClass(this.svgGroup_,"blocklyDragging")}else e.draggingConnections_=[],e.utils.dom.removeClass(this.svgGroup_,"blocklyDragging");for(o=0;o<this.childBlocks_.length;o++)this.childBlocks_[o].setDragging(t)},e.BlockSvg.prototype.updateMovable=function(){this.isMovable()?e.utils.dom.addClass(this.svgGroup_,"blocklyDraggable"):e.utils.dom.removeClass(this.svgGroup_,"blocklyDraggable")},e.BlockSvg.prototype.setMovable=function(t){e.BlockSvg.superClass_.setMovable.call(this,t),this.updateMovable()},e.BlockSvg.prototype.setEditable=function(t){e.BlockSvg.superClass_.setEditable.call(this,t),t=this.getIcons();for(var o=0;o<t.length;o++)t[o].updateEditable()},e.BlockSvg.prototype.setShadow=function(t){e.BlockSvg.superClass_.setShadow.call(this,t),this.updateColour()},e.BlockSvg.prototype.setInsertionMarker=function(t){this.isInsertionMarker_!=t&&(this.isInsertionMarker_=t)&&(this.setColour(e.INSERTION_MARKER_COLOUR),e.utils.dom.addClass(this.svgGroup_,"blocklyInsertionMarker"))},e.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},e.BlockSvg.prototype.dispose=function(t,o){if(this.workspace){e.Tooltip.hide(),e.utils.dom.startTextWidthCache();var n=this.workspace;if(e.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture()),e.ContextMenu.currentBlock==this&&e.ContextMenu.hide(),e.keyboardAccessibilityMode&&e.navigation.moveCursorOnBlockDelete(this),o&&this.rendered&&(this.unplug(t),e.blockAnimations.disposeUiEffect(this)),this.rendered=!1,this.warningTextDb_){for(var i in this.warningTextDb_)clearTimeout(this.warningTextDb_[i]);this.warningTextDb_=null}i=this.getIcons();for(var s=0;s<i.length;s++)i[s].dispose();e.BlockSvg.superClass_.dispose.call(this,t),e.utils.dom.removeNode(this.svgGroup_),n.resizeContents(),this.svgPathDark_=this.svgPathLight_=this.svgPath_=this.svgGroup_=null,e.utils.dom.stopTextWidthCache()}},e.BlockSvg.prototype.updateColour=function(){if(this.isEnabled()){this.isShadow()?this.setShadowColour_():(this.setBorderColour_(),this.svgPath_.setAttribute("fill",this.getColour()));for(var e=this.getIcons(),t=0;t<e.length;t++)e[t].updateColour();for(e=0;t=this.inputList[e];e++)for(var o,n=0;o=t.fieldRow[n];n++)o.updateColour()}},e.BlockSvg.prototype.setBorderColour_=function(){var e=this.getColourBorder();e.colourBorder?(this.svgPathLight_.style.display="none",this.svgPathDark_.style.display="none",this.svgPath_.setAttribute("stroke",e.colourBorder)):(this.svgPathLight_.style.display="",this.svgPathDark_.style.display="",this.svgPath_.setAttribute("stroke","none"),this.svgPathLight_.setAttribute("stroke",e.colourLight),this.svgPathDark_.setAttribute("fill",e.colourDark))},e.BlockSvg.prototype.setShadowColour_=function(){var e=this.getColourShadow();return this.svgPathLight_.style.display="none",this.svgPathDark_.setAttribute("fill",e),this.svgPath_.setAttribute("stroke","none"),this.svgPath_.setAttribute("fill",e),e},e.BlockSvg.prototype.updateDisabled=function(){!this.isEnabled()||this.getInheritedDisabled()?e.utils.dom.addClass(this.svgGroup_,"blocklyDisabled")&&this.svgPath_.setAttribute("fill","url(#"+this.workspace.options.disabledPatternId+")"):e.utils.dom.removeClass(this.svgGroup_,"blocklyDisabled")&&this.updateColour();for(var t,o=this.getChildren(!1),n=0;t=o[n];n++)t.updateDisabled()},e.BlockSvg.prototype.getCommentIcon=function(){return this.commentIcon_},e.BlockSvg.prototype.setCommentText=function(t){if(!e.Comment)throw Error("Missing require for Blockly.Comment");this.commentModel.text!=t&&(e.BlockSvg.superClass_.setCommentText.call(this,t),t=null!=t,!!this.commentIcon_==t?this.commentIcon_.updateText():(t?this.comment=this.commentIcon_=new e.Comment(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))},e.BlockSvg.prototype.setWarningText=function(t,o){this.warningTextDb_||(this.warningTextDb_=Object.create(null));var n=o||"";if(n)this.warningTextDb_[n]&&(clearTimeout(this.warningTextDb_[n]),delete this.warningTextDb_[n]);else for(var i in this.warningTextDb_)clearTimeout(this.warningTextDb_[i]),delete this.warningTextDb_[i];if(this.workspace.isDragging()){var s=this;this.warningTextDb_[n]=setTimeout((function(){s.workspace&&(delete s.warningTextDb_[n],s.setWarningText(t,n))}),100)}else{this.isInFlyout&&(t=null),i=this.getSurroundParent();for(var a=null;i;)i.isCollapsed()&&(a=i),i=i.getSurroundParent();a&&a.setWarningText(e.Msg.COLLAPSED_WARNINGS_WARNING,e.BlockSvg.COLLAPSED_WARNING_ID),i=!1,"string"==typeof t?(this.warning||(this.warning=new e.Warning(this),i=!0),this.warning.setText(t,n)):this.warning&&!n?(this.warning.dispose(),i=!0):this.warning&&(i=this.warning.getText(),this.warning.setText("",n),(a=this.warning.getText())||this.warning.dispose(),i=i!=a),i&&this.rendered&&(this.render(),this.bumpNeighbours())}},e.BlockSvg.prototype.setMutator=function(e){this.mutator&&this.mutator!==e&&this.mutator.dispose(),e&&(e.block_=this,this.mutator=e,e.createIcon())},e.BlockSvg.prototype.setDisabled=function(e){console.warn("Deprecated call to Blockly.BlockSvg.prototype.setDisabled, use Blockly.BlockSvg.prototype.setEnabled instead."),this.setEnabled(!e)},e.BlockSvg.prototype.setEnabled=function(t){this.isEnabled()!=t&&(e.BlockSvg.superClass_.setEnabled.call(this,t),this.rendered&&this.updateDisabled())},e.BlockSvg.prototype.setHighlighted=function(e){this.rendered&&(e?(this.svgPath_.setAttribute("filter","url(#"+this.workspace.options.embossFilterId+")"),this.svgPathLight_.style.display="none"):(this.svgPath_.setAttribute("filter","none"),this.svgPathLight_.style.display="inline"))},e.BlockSvg.prototype.addSelect=function(){e.utils.dom.addClass(this.svgGroup_,"blocklySelected")},e.BlockSvg.prototype.removeSelect=function(){e.utils.dom.removeClass(this.svgGroup_,"blocklySelected")},e.BlockSvg.prototype.setDeleteStyle=function(t){t?e.utils.dom.addClass(this.svgGroup_,"blocklyDraggingDelete"):e.utils.dom.removeClass(this.svgGroup_,"blocklyDraggingDelete")},e.BlockSvg.prototype.setColour=function(t){e.BlockSvg.superClass_.setColour.call(this,t),this.rendered&&this.updateColour()},e.BlockSvg.prototype.bringToFront=function(){var e=this;do{var t=e.getSvgRoot();t.parentNode.appendChild(t),e=e.getParent()}while(e)},e.BlockSvg.prototype.setPreviousStatement=function(t,o){e.BlockSvg.superClass_.setPreviousStatement.call(this,t,o),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.setNextStatement=function(t,o){e.BlockSvg.superClass_.setNextStatement.call(this,t,o),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.setOutput=function(t,o){e.BlockSvg.superClass_.setOutput.call(this,t,o),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.setInputsInline=function(t){e.BlockSvg.superClass_.setInputsInline.call(this,t),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.removeInput=function(t,o){e.BlockSvg.superClass_.removeInput.call(this,t,o),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.moveNumberedInputBefore=function(t,o){e.BlockSvg.superClass_.moveNumberedInputBefore.call(this,t,o),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.appendInput_=function(t,o){var n=e.BlockSvg.superClass_.appendInput_.call(this,t,o);return this.rendered&&(this.render(),this.bumpNeighbours()),n},e.BlockSvg.prototype.setConnectionsHidden=function(e){if(!e&&this.isCollapsed()){if(this.outputConnection&&this.outputConnection.setHidden(e),this.previousConnection&&this.previousConnection.setHidden(e),this.nextConnection){this.nextConnection.setHidden(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionsHidden(e)}}else for(var o=this.getConnections_(!0),n=0;t=o[n];n++)t.setHidden(e),t.isSuperior()&&(t=t.targetBlock())&&t.setConnectionsHidden(e)},e.BlockSvg.prototype.getConnections_=function(e){var t=[];if((e||this.rendered)&&(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_)){e=0;for(var o;o=this.inputList[e];e++)o.connection&&t.push(o.connection)}return t},e.BlockSvg.prototype.makeConnection_=function(t){return new e.RenderedConnection(this,t)},e.BlockSvg.prototype.bumpNeighbours=function(){if(this.workspace&&!this.workspace.isDragging()){var t=this.getRootBlock();if(!t.isInFlyout)for(var o,n=this.getConnections_(!1),i=0;o=n[i];i++){o.isConnected()&&o.isSuperior()&&o.targetBlock().bumpNeighbours();for(var s,a=o.neighbours_(e.SNAP_RADIUS),r=0;s=a[r];r++)o.isConnected()&&s.isConnected()||s.getSourceBlock().getRootBlock()!=t&&(o.isSuperior()?s.bumpAwayFrom_(o):o.bumpAwayFrom_(s))}}},e.BlockSvg.prototype.scheduleSnapAndBump=function(){var t=this,o=e.Events.getGroup();setTimeout((function(){e.Events.setGroup(o),t.snapToGrid(),e.Events.setGroup(!1)}),e.BUMP_DELAY/2),setTimeout((function(){e.Events.setGroup(o),t.bumpNeighbours(),e.Events.setGroup(!1)}),e.BUMP_DELAY)},e.BlockSvg.prototype.positionNearConnection=function(t,o){t.type!=e.NEXT_STATEMENT&&t.type!=e.INPUT_VALUE||this.moveBy(o.x_-t.x_,o.y_-t.y_)},e.BlockSvg.prototype.render=function(t){e.utils.dom.startTextWidthCache(),this.rendered=!0,this.workspace.getRenderer().render(this),this.updateConnectionLocations_(),!1!==t&&((t=this.getParent())?t.render(!0):this.workspace.resizeContents()),e.utils.dom.stopTextWidthCache()},e.BlockSvg.prototype.updateConnectionLocations_=function(){var e=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(e),this.outputConnection&&this.outputConnection.moveToOffset(e);for(var t=0;t<this.inputList.length;t++){var o=this.inputList[t].connection;o&&(o.moveToOffset(e),o.isConnected()&&o.tighten_())}this.nextConnection&&(this.nextConnection.moveToOffset(e),this.nextConnection.isConnected()&&this.nextConnection.tighten_())},e.BlockSvg.prototype.setCursorSvg=function(e){e?(this.svgGroup_.appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},e.BlockSvg.prototype.setMarkerSvg=function(e){e?(this.cursorSvg_?this.svgGroup_.insertBefore(e,this.cursorSvg_):this.svgGroup_.appendChild(e),this.markerSvg_=e):this.markerSvg_=null},e.BlockSvg.prototype.getHeightWidth=function(){var e=this.height,t=this.width,o=this.getNextBlock();return o&&(e+=(o=o.getHeightWidth()).height-4,t=Math.max(t,o.width)),{height:e,width:t}},e.BlockSvg.prototype.positionNewBlock=function(t,o,n){o.type!=e.NEXT_STATEMENT&&o.type!=e.INPUT_VALUE||t.moveBy(n.x_-o.x_,n.y_-o.y_)},e.BlockSvg.prototype.highlightForReplacement=function(t){t?e.utils.dom.addClass(this.svgGroup_,"blocklyReplaceable"):e.utils.dom.removeClass(this.svgGroup_,"blocklyReplaceable")},e.Css={},e.Css.injected_=!1,e.Css.register=function(t){if(e.Css.injected_)throw Error("CSS already injected");Array.prototype.push.apply(e.Css.CONTENT,t),t.length=0},e.Css.inject=function(t,o){if(!e.Css.injected_){e.Css.injected_=!0;var n=e.Css.CONTENT.join("\n");if(e.Css.CONTENT.length=0,t){var i=o.replace(/[\\/]$/,"");n=n.replace(/<<<PATH>>>/g,i),i=document.createElement("style"),n=document.createTextNode(n),i.appendChild(n),document.head.insertBefore(i,document.head.firstChild)}}},e.Css.setCursor=function(e){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")},e.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);","color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: fixed;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-radius: 2px;","padding: 4px;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".arrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".arrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",".blocklyReplaceable .blocklyPathLight,",".blocklyReplaceable .blocklyPathDark {","display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentForeignObject {","position: relative;","z-index: 0;","}",".blocklyCommentRect {","fill: #E7DE8E;","stroke: #bcA903;","stroke-width: 1px","}",".blocklyCommentTarget {","fill: transparent;","stroke: #bcA903;","}",".blocklyCommentTargetFocused {","fill: none;","}",".blocklyCommentHandleTarget {","fill: none;","}",".blocklyCommentHandleTargetFocused {","fill: transparent;","}",".blocklyFocused>.blocklyCommentRect {","fill: #B9B272;","stroke: #B9B272;","}",".blocklySelected>.blocklyCommentTarget {","stroke: #fc3;","stroke-width: 3px;","}",".blocklyCommentTextarea {","background-color: #fef49c;","border: 0;","outline: 0;","margin: 0;","padding: 3px;","resize: none;","display: block;","overflow: hidden;","}",".blocklyCommentDeleteIcon {","cursor: pointer;","fill: #000;","display: none","}",".blocklySelected > .blocklyCommentDeleteIcon {","display: block","}",".blocklyDeleteIconShape {","fill: #000;","stroke: #000;","stroke-width: 1px;","}",".blocklyDeleteIconShape.blocklyDeleteIconHighlighted {","stroke: #fc3;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem,",".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem {","padding-left: 28px;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl,",".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyVerticalCursor {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: transparent;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyWidgetDiv .goog-menu.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem,",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","border: none;","padding: 6px 15px;","white-space: nowrap;","cursor: pointer;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem,",".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem {","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menuitem-content,",".blocklyDropDownDiv .goog-menuitem-content {","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-content {","color: #000;","}",".blocklyDropDownDiv .goog-menuitem-content {","color: #000;","}",".blocklyWidgetDiv .goog-menuitem-disabled,",".blocklyDropDownDiv .goog-menuitem-disabled {","cursor: inherit;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content,",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: .3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight ,",".blocklyDropDownDiv .goog-menuitem-highlight {","background-color: rgba(0,0,0,.1);","}",".blocklyWidgetDiv .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","float: right;","margin-right: -24px;","}"],e.DropDownDiv=function(){},e.DropDownDiv.DIV_=null,e.DropDownDiv.boundsElement_=null,e.DropDownDiv.owner_=null,e.DropDownDiv.positionToField_=null,e.DropDownDiv.ARROW_SIZE=16,e.DropDownDiv.BORDER_SIZE=1,e.DropDownDiv.ARROW_HORIZONTAL_PADDING=12,e.DropDownDiv.PADDING_Y=16,e.DropDownDiv.ANIMATION_TIME=.25,e.DropDownDiv.DEFAULT_DROPDOWN_BORDER_COLOR="#dadce0",e.DropDownDiv.DEFAULT_DROPDOWN_COLOR="#fff",e.DropDownDiv.animateOutTimer_=null,e.DropDownDiv.onHide_=null,e.DropDownDiv.createDom=function(){if(!e.DropDownDiv.DIV_){var t=document.createElement("div");t.className="blocklyDropDownDiv",t.style.backgroundColor=e.DropDownDiv.DEFAULT_DROPDOWN_COLOR,t.style.borderColor=e.DropDownDiv.DEFAULT_DROPDOWN_BORDER_COLOR,document.body.appendChild(t),e.DropDownDiv.DIV_=t;var o=document.createElement("div");o.className="blocklyDropDownContent",t.appendChild(o),e.DropDownDiv.content_=o,(o=document.createElement("div")).className="blocklyDropDownArrow",t.appendChild(o),e.DropDownDiv.arrow_=o,e.DropDownDiv.DIV_.style.opacity=0,e.DropDownDiv.DIV_.style.transition="transform "+e.DropDownDiv.ANIMATION_TIME+"s, opacity "+e.DropDownDiv.ANIMATION_TIME+"s",t.addEventListener("focusin",(function(){e.utils.dom.addClass(t,"focused")})),t.addEventListener("focusout",(function(){e.utils.dom.removeClass(t,"focused")}))}},e.DropDownDiv.setBoundsElement=function(t){e.DropDownDiv.boundsElement_=t},e.DropDownDiv.getContentDiv=function(){return e.DropDownDiv.content_},e.DropDownDiv.clearContent=function(){e.DropDownDiv.content_.innerHTML="",e.DropDownDiv.content_.style.width=""},e.DropDownDiv.setColour=function(t,o){e.DropDownDiv.DIV_.style.backgroundColor=t,e.DropDownDiv.DIV_.style.borderColor=o},e.DropDownDiv.setCategory=function(t){e.DropDownDiv.DIV_.setAttribute("data-category",t)},e.DropDownDiv.showPositionedByBlock=function(t,o,n,i){var s=o.workspace.scale,a=o.width,r=o.height;return a*=s,r*=s,a=(s=o.getSvgRoot().getBoundingClientRect()).left+a/2,r=s.top+r,s=s.top,i&&(s+=i),e.DropDownDiv.setBoundsElement(o.workspace.getParentSvg().parentNode),e.DropDownDiv.show(t,o.RTL,a,r,a,s,n)},e.DropDownDiv.showPositionedByField=function(t,o,n){var i=t.getSvgRoot().getBoundingClientRect(),s=i.left+i.width/2,a=i.bottom;return i=i.top,n&&(i+=n),n=t.getSourceBlock(),e.DropDownDiv.positionToField_=!0,e.DropDownDiv.setBoundsElement(n.workspace.getParentSvg().parentNode),e.DropDownDiv.show(t,n.RTL,s,a,s,i,o)},e.DropDownDiv.show=function(t,o,n,i,s,a,r){return e.DropDownDiv.owner_=t,e.DropDownDiv.onHide_=r||null,(t=e.DropDownDiv.getPositionMetrics(n,i,s,a)).arrowVisible?(e.DropDownDiv.arrow_.style.display="",e.DropDownDiv.arrow_.style.transform="translate("+t.arrowX+"px,"+t.arrowY+"px) rotate(45deg)",e.DropDownDiv.arrow_.setAttribute("class",t.arrowAtTop?"blocklyDropDownArrow arrowTop":"blocklyDropDownArrow arrowBottom")):e.DropDownDiv.arrow_.style.display="none",e.DropDownDiv.DIV_.style.direction=o?"rtl":"ltr",e.DropDownDiv.positionInternal_(t.initialX,t.initialY,t.finalX,t.finalY),t.arrowAtTop},e.DropDownDiv.getBoundsInfo_=function(){var t=e.DropDownDiv.boundsElement_.getBoundingClientRect(),o=e.utils.style.getSize(e.DropDownDiv.boundsElement_);return{left:t.left,right:t.left+o.width,top:t.top,bottom:t.top+o.height,width:o.width,height:o.height}},e.DropDownDiv.getPositionMetrics=function(t,o,n,i){var s=e.DropDownDiv.getBoundsInfo_(),a=e.utils.style.getSize(e.DropDownDiv.DIV_);return o+a.height<s.bottom?e.DropDownDiv.getPositionBelowMetrics(t,o,s,a):i-a.height>s.top?e.DropDownDiv.getPositionAboveMetrics(n,i,s,a):o+a.height<document.documentElement.clientHeight?e.DropDownDiv.getPositionBelowMetrics(t,o,s,a):i-a.height>document.documentElement.clientTop?e.DropDownDiv.getPositionAboveMetrics(n,i,s,a):e.DropDownDiv.getPositionTopOfPageMetrics(t,s,a)},e.DropDownDiv.getPositionBelowMetrics=function(t,o,n,i){return{initialX:(t=e.DropDownDiv.getPositionX(t,n.left,n.right,i.width)).divX,initialY:o,finalX:t.divX,finalY:o+e.DropDownDiv.PADDING_Y,arrowX:t.arrowX,arrowY:-(e.DropDownDiv.ARROW_SIZE/2+e.DropDownDiv.BORDER_SIZE),arrowAtTop:!0,arrowVisible:!0}},e.DropDownDiv.getPositionAboveMetrics=function(t,o,n,i){return{initialX:(t=e.DropDownDiv.getPositionX(t,n.left,n.right,i.width)).divX,initialY:o-i.height,finalX:t.divX,finalY:o-i.height-e.DropDownDiv.PADDING_Y,arrowX:t.arrowX,arrowY:i.height-2*e.DropDownDiv.BORDER_SIZE-e.DropDownDiv.ARROW_SIZE/2,arrowAtTop:!1,arrowVisible:!0}},e.DropDownDiv.getPositionTopOfPageMetrics=function(t,o,n){return{initialX:(t=e.DropDownDiv.getPositionX(t,o.left,o.right,n.width)).divX,initialY:0,finalX:t.divX,finalY:0,arrowVisible:!1}},e.DropDownDiv.getPositionX=function(t,o,n,i){var s=t;return t=e.utils.math.clamp(o,t-i/2,n-i),s-=e.DropDownDiv.ARROW_SIZE/2,o=e.DropDownDiv.ARROW_HORIZONTAL_PADDING,{arrowX:i=e.utils.math.clamp(o,s-t,i-o-e.DropDownDiv.ARROW_SIZE),divX:t}},e.DropDownDiv.isVisible=function(){return!!e.DropDownDiv.owner_},e.DropDownDiv.hideIfOwner=function(t,o){return e.DropDownDiv.owner_===t&&(o?e.DropDownDiv.hideWithoutAnimation():e.DropDownDiv.hide(),!0)},e.DropDownDiv.hide=function(){var t=e.DropDownDiv.DIV_;t.style.transform="translate(0, 0)",t.style.opacity=0,e.DropDownDiv.animateOutTimer_=setTimeout((function(){e.DropDownDiv.hideWithoutAnimation()}),1e3*e.DropDownDiv.ANIMATION_TIME),e.DropDownDiv.onHide_&&(e.DropDownDiv.onHide_(),e.DropDownDiv.onHide_=null)},e.DropDownDiv.hideWithoutAnimation=function(){if(e.DropDownDiv.isVisible()){e.DropDownDiv.animateOutTimer_&&clearTimeout(e.DropDownDiv.animateOutTimer_);var t=e.DropDownDiv.DIV_;t.style.transform="",t.style.left="",t.style.top="",t.style.opacity=0,t.style.display="none",t.style.backgroundColor=e.DropDownDiv.DEFAULT_DROPDOWN_COLOR,t.style.borderColor=e.DropDownDiv.DEFAULT_DROPDOWN_BORDER_COLOR,e.DropDownDiv.onHide_&&(e.DropDownDiv.onHide_(),e.DropDownDiv.onHide_=null),e.DropDownDiv.clearContent(),e.DropDownDiv.owner_=null}},e.DropDownDiv.positionInternal_=function(t,o,n,i){t=Math.floor(t),o=Math.floor(o),n=Math.floor(n),i=Math.floor(i);var s=e.DropDownDiv.DIV_;s.style.left=t+"px",s.style.top=o+"px",s.style.display="block",s.style.opacity=1,s.style.transform="translate("+(n-t)+"px,"+(i-o)+"px)"},e.DropDownDiv.repositionForWindowResize=function(){if(e.DropDownDiv.owner_){var t=e.DropDownDiv.owner_.getSourceBlock(),o=t.workspace.scale,n=e.DropDownDiv.positionToField_?e.DropDownDiv.owner_.size_.width:t.width,i=e.DropDownDiv.positionToField_?e.DropDownDiv.owner_.size_.height:t.height;n*=o,i*=o,n=(t=e.DropDownDiv.positionToField_?e.DropDownDiv.owner_.fieldGroup_.getBoundingClientRect():t.getSvgRoot().getBoundingClientRect()).left+n/2,i=e.DropDownDiv.getPositionMetrics(n,t.top+i,n,t.top),e.DropDownDiv.positionInternal_(i.initialX,i.initialY,i.finalX,i.finalY)}else e.DropDownDiv.hide()},e.Grid=function(e,t){this.gridPattern_=e,this.spacing_=t.spacing,this.length_=t.length,this.line2_=(this.line1_=e.firstChild)&&this.line1_.nextSibling,this.snapToGrid_=t.snap},e.Grid.prototype.scale_=1,e.Grid.prototype.dispose=function(){this.gridPattern_=null},e.Grid.prototype.shouldSnap=function(){return this.snapToGrid_},e.Grid.prototype.getSpacing=function(){return this.spacing_},e.Grid.prototype.getPatternId=function(){return this.gridPattern_.id},e.Grid.prototype.update=function(e){this.scale_=e;var t=this.spacing_*e||100;this.gridPattern_.setAttribute("width",t),this.gridPattern_.setAttribute("height",t);var o=(t=Math.floor(this.spacing_/2)+.5)-this.length_/2,n=t+this.length_/2;t*=e,o*=e,n*=e,this.setLineAttributes_(this.line1_,e,o,n,t,t),this.setLineAttributes_(this.line2_,e,t,t,o,n)},e.Grid.prototype.setLineAttributes_=function(e,t,o,n,i,s){e&&(e.setAttribute("stroke-width",t),e.setAttribute("x1",o),e.setAttribute("y1",i),e.setAttribute("x2",n),e.setAttribute("y2",s))},e.Grid.prototype.moveTo=function(t,o){this.gridPattern_.setAttribute("x",t),this.gridPattern_.setAttribute("y",o),(e.utils.userAgent.IE||e.utils.userAgent.EDGE)&&this.update(this.scale_)},e.Grid.createDom=function(t,o,n){return t=e.utils.dom.createSvgElement("pattern",{id:"blocklyGridPattern"+t,patternUnits:"userSpaceOnUse"},n),0<o.length&&0<o.spacing?(e.utils.dom.createSvgElement("line",{stroke:o.colour},t),1<o.length&&e.utils.dom.createSvgElement("line",{stroke:o.colour},t)):e.utils.dom.createSvgElement("line",{},t),t},e.Options=function(t){var o=!!t.readOnly;if(o)var n=null,i=!1,s=!1,a=!1,r=!1,l=!1,c=!1;else{i=!(!(n=e.Options.parseToolboxTree(t.toolbox||null))||!n.getElementsByTagName("category").length),void 0===(s=t.trashcan)&&(s=i);var u=t.maxTrashcanContents;s?void 0===u&&(u=32):u=0,void 0===(a=t.collapse)&&(a=i),void 0===(r=t.comments)&&(r=i),void 0===(l=t.disable)&&(l=i),void 0===(c=t.sounds)&&(c=!0)}var h=!!t.rtl,p=t.horizontalLayout;void 0===p&&(p=!1);var d=t.toolboxPosition;d="end"!==d,d=p?d?e.TOOLBOX_AT_TOP:e.TOOLBOX_AT_BOTTOM:d==h?e.TOOLBOX_AT_RIGHT:e.TOOLBOX_AT_LEFT;var _=t.css;void 0===_&&(_=!0);var g="https://blockly-demo.appspot.com/static/media/";t.media?g=t.media:t.path&&(g=t.path+"media/");var m=void 0===t.oneBasedIndex||!!t.oneBasedIndex,E=t.theme,T=t.keyMap||e.user.keyMap.createDefaultKeyMap(),v=t.renderer||"geras";this.RTL=h,this.oneBasedIndex=m,this.collapse=a,this.comments=r,this.disable=l,this.readOnly=o,this.maxBlocks=t.maxBlocks||1/0,this.maxInstances=t.maxInstances,this.pathToMedia=g,this.hasCategories=i,this.moveOptions=e.Options.parseMoveOptions(t,i),this.hasScrollbars=this.moveOptions.scrollbars,this.hasTrashcan=s,this.maxTrashcanContents=u,this.hasSounds=c,this.hasCss=_,this.horizontalLayout=p,this.languageTree=n,this.gridOptions=e.Options.parseGridOptions_(t),this.zoomOptions=e.Options.parseZoomOptions_(t),this.toolboxPosition=d,this.theme=E,this.keyMap=T,this.renderer=v},e.Options.prototype.parentWorkspace=null,e.Options.prototype.setMetrics=null,e.Options.prototype.getMetrics=null,e.Options.parseMoveOptions=function(e,t){var o=e.move||{},n={};return n.scrollbars=void 0===o.scrollbars&&void 0===e.scrollbars?t:!!o.scrollbars||!!e.scrollbars,n.wheel=!(!n.scrollbars||void 0===o.wheel)&&!!o.wheel,n.drag=!!n.scrollbars&&(void 0===o.drag||!!o.drag),n},e.Options.parseZoomOptions_=function(e){e=e.zoom||{};var t={};return t.controls=void 0!==e.controls&&!!e.controls,t.wheel=void 0!==e.wheel&&!!e.wheel,t.startScale=void 0===e.startScale?1:Number(e.startScale),t.maxScale=void 0===e.maxScale?3:Number(e.maxScale),t.minScale=void 0===e.minScale?.3:Number(e.minScale),t.scaleSpeed=void 0===e.scaleSpeed?1.2:Number(e.scaleSpeed),t},e.Options.parseGridOptions_=function(e){e=e.grid||{};var t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=Number(e.length)||1,t.snap=0<t.spacing&&!!e.snap,t},e.Options.parseToolboxTree=function(t){if(t){if("string"!=typeof t&&(e.utils.userAgent.IE&&t.outerHTML?t=t.outerHTML:t instanceof Element||(t=null)),"string"==typeof t&&"xml"!=(t=e.Xml.textToDom(t)).nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.")}else t=null;return t},e.WorkspaceDragSurfaceSvg=function(e){this.container_=e,this.createDom()},e.WorkspaceDragSurfaceSvg.prototype.SVG_=null,e.WorkspaceDragSurfaceSvg.prototype.dragGroup_=null,e.WorkspaceDragSurfaceSvg.prototype.container_=null,e.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=e.utils.dom.createSvgElement("svg",{xmlns:e.utils.dom.SVG_NS,"xmlns:html":e.utils.dom.HTML_NS,"xmlns:xlink":e.utils.dom.XLINK_NS,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))},e.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(t,o){var n=t.toFixed(0),i=o.toFixed(0);this.SVG_.style.display="block",e.utils.dom.setCssTransform(this.SVG_,"translate3d("+n+"px, "+i+"px, 0px)")},e.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return e.utils.getRelativeXY(this.SVG_)},e.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(t){if(!t)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var o=this.SVG_.childNodes[0],n=this.SVG_.childNodes[1];if(!(o&&n&&e.utils.dom.hasClass(o,"blocklyBlockCanvas")&&e.utils.dom.hasClass(n,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(null!=this.previousSibling_?e.utils.dom.insertAfter(o,this.previousSibling_):t.insertBefore(o,t.firstChild),e.utils.dom.insertAfter(n,o),this.SVG_.style.display="none",this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");e.utils.dom.setCssTransform(this.SVG_,""),this.previousSibling_=null},e.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(e,t,o,n,i,s){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=o,e.setAttribute("transform","translate(0, 0) scale("+s+")"),t.setAttribute("transform","translate(0, 0) scale("+s+")"),this.SVG_.setAttribute("width",n),this.SVG_.setAttribute("height",i),this.SVG_.appendChild(e),this.SVG_.appendChild(t),this.SVG_.style.display="block"},e.blockRendering.rendererMap_={},e.blockRendering.useDebugger=!1,e.blockRendering.register=function(t,o){if(e.blockRendering.rendererMap_[t])throw Error("Renderer has already been registered.");e.blockRendering.rendererMap_[t]=o},e.blockRendering.unregister=function(t){e.blockRendering.rendererMap_[t]?delete e.blockRendering.rendererMap_[t]:console.warn('No renderer mapping for name "'+t+'" found to unregister')},e.blockRendering.startDebugger=function(){e.blockRendering.useDebugger=!0},e.blockRendering.stopDebugger=function(){e.blockRendering.useDebugger=!1},e.blockRendering.init=function(t){if(!e.blockRendering.rendererMap_[t])throw Error("Renderer not registered: ",t);var o=function e(){e.superClass_.constructor.call(this)};return e.utils.object.inherits(o,e.blockRendering.rendererMap_[t]),(t=new o).init(),t},e.ConnectionDB=function(){this.connections_=[]},e.ConnectionDB.prototype.addConnection=function(e){if(e.inDB_)throw Error("Connection already in database.");if(!e.getSourceBlock().isInFlyout){var t=this.findPositionForConnection_(e);this.connections_.splice(t,0,e),e.inDB_=!0}},e.ConnectionDB.prototype.findConnection=function(e){if(!this.connections_.length)return-1;var t=this.findPositionForConnection_(e);if(t>=this.connections_.length)return-1;for(var o=e.y_,n=t;0<=n&&this.connections_[n].y_==o;){if(this.connections_[n]==e)return n;n--}for(;t<this.connections_.length&&this.connections_[t].y_==o;){if(this.connections_[t]==e)return t;t++}return-1},e.ConnectionDB.prototype.findPositionForConnection_=function(e){if(!this.connections_.length)return 0;for(var t=0,o=this.connections_.length;t<o;){var n=Math.floor((t+o)/2);if(this.connections_[n].y_<e.y_)t=n+1;else{if(!(this.connections_[n].y_>e.y_)){t=n;break}o=n}}return t},e.ConnectionDB.prototype.removeConnection_=function(e){if(!e.inDB_)throw Error("Connection not in database.");var t=this.findConnection(e);if(-1==t)throw Error("Unable to find connection in connectionDB.");e.inDB_=!1,this.connections_.splice(t,1)},e.ConnectionDB.prototype.getNeighbours=function(e,t){function o(e){var o=i-n[e].x_,a=s-n[e].y_;return Math.sqrt(o*o+a*a)<=t&&c.push(n[e]),a<t}for(var n=this.connections_,i=e.x_,s=e.y_,a=0,r=n.length-2,l=r;a<l;)n[l].y_<s?a=l:r=l,l=Math.floor((a+r)/2);var c=[];if(r=a=l,n.length){for(;0<=a&&o(a);)a--;do{r++}while(r<n.length&&o(r))}return c},e.ConnectionDB.prototype.isInYRange_=function(e,t,o){return Math.abs(this.connections_[e].y_-t)<=o},e.ConnectionDB.prototype.searchForClosest=function(e,t,o){if(!this.connections_.length)return{connection:null,radius:t};var n=e.y_,i=e.x_;e.x_=i+o.x,e.y_=n+o.y;var s=this.findPositionForConnection_(e);o=null;for(var a,r=t,l=s-1;0<=l&&this.isInYRange_(l,e.y_,t);)a=this.connections_[l],e.isConnectionAllowed(a,r)&&(o=a,r=a.distanceFrom(e)),l--;for(;s<this.connections_.length&&this.isInYRange_(s,e.y_,t);)a=this.connections_[s],e.isConnectionAllowed(a,r)&&(o=a,r=a.distanceFrom(e)),s++;return e.x_=i,e.y_=n,{connection:o,radius:r}},e.ConnectionDB.init=function(){var t=[];return t[e.INPUT_VALUE]=new e.ConnectionDB,t[e.OUTPUT_VALUE]=new e.ConnectionDB,t[e.NEXT_STATEMENT]=new e.ConnectionDB,t[e.PREVIOUS_STATEMENT]=new e.ConnectionDB,t},e.TouchGesture=function(t,o){e.TouchGesture.superClass_.constructor.call(this,t,o),this.isMultiTouch_=!1,this.cachedPoints_={},this.startDistance_=this.previousScale_=0,this.onStartWrapper_=null},e.utils.object.inherits(e.TouchGesture,e.Gesture),e.TouchGesture.ZOOM_IN_MULTIPLIER=5,e.TouchGesture.ZOOM_OUT_MULTIPLIER=6,e.TouchGesture.prototype.doStart=function(t){e.TouchGesture.superClass_.doStart.call(this,t),!this.isEnding_&&e.Touch.isTouchEvent(t)&&this.handleTouchStart(t)},e.TouchGesture.prototype.bindMouseEvents=function(t){this.onStartWrapper_=e.bindEventWithChecks_(document,"mousedown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=e.bindEventWithChecks_(document,"mousemove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=e.bindEventWithChecks_(document,"mouseup",null,this.handleUp.bind(this),!0),t.preventDefault(),t.stopPropagation()},e.TouchGesture.prototype.handleStart=function(t){!this.isDragging()&&e.Touch.isTouchEvent(t)&&(this.handleTouchStart(t),this.isMultiTouch()&&e.longStop_())},e.TouchGesture.prototype.handleMove=function(t){this.isDragging()?e.Touch.shouldHandleEvent(t)&&e.TouchGesture.superClass_.handleMove.call(this,t):this.isMultiTouch()?(e.Touch.isTouchEvent(t)&&this.handleTouchMove(t),e.longStop_()):e.TouchGesture.superClass_.handleMove.call(this,t)},e.TouchGesture.prototype.handleUp=function(t){e.Touch.isTouchEvent(t)&&!this.isDragging()&&this.handleTouchEnd(t),!this.isMultiTouch()||this.isDragging()?e.Touch.shouldHandleEvent(t)&&e.TouchGesture.superClass_.handleUp.call(this,t):(t.preventDefault(),t.stopPropagation(),this.dispose())},e.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_},e.TouchGesture.prototype.dispose=function(){e.TouchGesture.superClass_.dispose.call(this),this.onStartWrapper_&&e.unbindEvent_(this.onStartWrapper_)},e.TouchGesture.prototype.handleTouchStart=function(t){var o=e.Touch.getTouchIdentifierFromEvent(t);this.cachedPoints_[o]=this.getTouchPoint(t),2==(o=Object.keys(this.cachedPoints_)).length&&(this.startDistance_=e.utils.Coordinate.distance(this.cachedPoints_[o[0]],this.cachedPoints_[o[1]]),this.isMultiTouch_=!0,t.preventDefault())},e.TouchGesture.prototype.handleTouchMove=function(t){var o=e.Touch.getTouchIdentifierFromEvent(t);if(this.cachedPoints_[o]=this.getTouchPoint(t),2==(o=Object.keys(this.cachedPoints_)).length){if(o=this.touchScale_=e.utils.Coordinate.distance(this.cachedPoints_[o[0]],this.cachedPoints_[o[1]])/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){var n=o-this.previousScale_;n=0<n?n*e.TouchGesture.ZOOM_IN_MULTIPLIER:n*e.TouchGesture.ZOOM_OUT_MULTIPLIER;var i=this.startWorkspace_,s=e.utils.mouseToSvg(t,i.getParentSvg(),i.getInverseScreenCTM());i.zoom(s.x,s.y,n)}this.previousScale_=o,t.preventDefault()}},e.TouchGesture.prototype.handleTouchEnd=function(t){t=e.Touch.getTouchIdentifierFromEvent(t),this.cachedPoints_[t]&&delete this.cachedPoints_[t],2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_={},this.previousScale_=0)},e.TouchGesture.prototype.getTouchPoint=function(t){return this.startWorkspace_?new e.utils.Coordinate(t.pageX?t.pageX:t.changedTouches[0].pageX,t.pageY?t.pageY:t.changedTouches[0].pageY):null},e.WorkspaceAudio=function(e){this.parentWorkspace_=e,this.SOUNDS_=Object.create(null)},e.WorkspaceAudio.prototype.lastSound_=null,e.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null},e.WorkspaceAudio.prototype.load=function(t,o){if(t.length){try{var n=new e.utils.global.Audio}catch(l){return}for(var i,s=0;s<t.length;s++){var a=t[s],r=a.match(/\.(\w+)$/);if(r&&n.canPlayType("audio/"+r[1])){i=new e.utils.global.Audio(a);break}}i&&i.play&&(this.SOUNDS_[o]=i)}},e.WorkspaceAudio.prototype.preload=function(){for(var t in this.SOUNDS_){var o=this.SOUNDS_[t];o.volume=.01;var n=o.play();if(void 0!==n?n.then(o.pause).catch((function(){})):o.pause(),e.utils.userAgent.IPAD||e.utils.userAgent.IPHONE)break}},e.WorkspaceAudio.prototype.play=function(t,o){var n=this.SOUNDS_[t];if(n){var i=new Date;null!=this.lastSound_&&i-this.lastSound_<e.SOUND_LIMIT||(this.lastSound_=i,(n=e.utils.userAgent.IPAD||e.utils.userAgent.ANDROID?n:n.cloneNode()).volume=void 0===o?1:o,n.play())}else this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(t,o)},e.WorkspaceSvg=function(t,o,n){e.WorkspaceSvg.superClass_.constructor.call(this,t),this.getMetrics=t.getMetrics||e.WorkspaceSvg.getTopLevelWorkspaceMetrics_,this.setMetrics=t.setMetrics||e.WorkspaceSvg.setTopLevelWorkspaceMetrics_,this.connectionDBList=e.ConnectionDB.init(),o&&(this.blockDragSurface_=o),n&&(this.workspaceDragSurface_=n),this.useWorkspaceDragSurface_=this.workspaceDragSurface_&&e.utils.is3dSupported(),this.highlightedBlocks_=[],this.audioManager_=new e.WorkspaceAudio(t.parentWorkspace),this.grid_=this.options.gridPattern?new e.Grid(t.gridPattern,t.gridOptions):null,this.markerSvg_=this.cursorSvg_=null,e.Variables&&e.Variables.flyoutCategory&&this.registerToolboxCategoryCallback(e.VARIABLE_CATEGORY_NAME,e.Variables.flyoutCategory),e.VariablesDynamic&&e.VariablesDynamic.flyoutCategory&&this.registerToolboxCategoryCallback(e.VARIABLE_DYNAMIC_CATEGORY_NAME,e.VariablesDynamic.flyoutCategory),e.Procedures&&e.Procedures.flyoutCategory&&this.registerToolboxCategoryCallback(e.PROCEDURE_CATEGORY_NAME,e.Procedures.flyoutCategory),this.renderer_=e.blockRendering.init(this.options.renderer||"geras")},e.utils.object.inherits(e.WorkspaceSvg,e.Workspace),e.WorkspaceSvg.prototype.resizeHandlerWrapper_=null,e.WorkspaceSvg.prototype.rendered=!0,e.WorkspaceSvg.prototype.isVisible_=!0,e.WorkspaceSvg.prototype.isFlyout=!1,e.WorkspaceSvg.prototype.isMutator=!1,e.WorkspaceSvg.prototype.resizesEnabled_=!0,e.WorkspaceSvg.prototype.scrollX=0,e.WorkspaceSvg.prototype.scrollY=0,e.WorkspaceSvg.prototype.startScrollX=0,e.WorkspaceSvg.prototype.startScrollY=0,e.WorkspaceSvg.prototype.dragDeltaXY_=null,e.WorkspaceSvg.prototype.scale=1,e.WorkspaceSvg.prototype.trashcan=null,e.WorkspaceSvg.prototype.scrollbar=null,e.WorkspaceSvg.prototype.flyout_=null,e.WorkspaceSvg.prototype.toolbox_=null,e.WorkspaceSvg.prototype.currentGesture_=null,e.WorkspaceSvg.prototype.blockDragSurface_=null,e.WorkspaceSvg.prototype.workspaceDragSurface_=null,e.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!1,e.WorkspaceSvg.prototype.isDragSurfaceActive_=!1,e.WorkspaceSvg.prototype.injectionDiv_=null,e.WorkspaceSvg.prototype.lastRecordedPageScroll_=null,e.WorkspaceSvg.prototype.flyoutButtonCallbacks_={},e.WorkspaceSvg.prototype.toolboxCategoryCallbacks_={},e.WorkspaceSvg.prototype.configureContextMenu=null,e.WorkspaceSvg.prototype.targetWorkspace=null,e.WorkspaceSvg.prototype.inverseScreenCTM_=null,e.WorkspaceSvg.prototype.inverseScreenCTMDirty_=!0,e.WorkspaceSvg.prototype.getRenderer=function(){return this.renderer_},e.WorkspaceSvg.prototype.setCursor=function(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(this.cursor_.setDrawer(this.getRenderer().makeCursorDrawer(this,!1)),this.setCursorSvg(this.cursor_.getDrawer().createDom()))},e.WorkspaceSvg.prototype.setMarker=function(e){this.marker_&&this.marker_.getDrawer()&&this.marker_.getDrawer().dispose(),(this.marker_=e)&&(this.marker_.setDrawer(this.getRenderer().makeCursorDrawer(this,!0)),this.setMarkerSvg(this.marker_.getDrawer().createDom()))},e.WorkspaceSvg.prototype.setCursorSvg=function(e){e?this.svgBlockCanvas_&&(this.svgBlockCanvas_.appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},e.WorkspaceSvg.prototype.setMarkerSvg=function(e){e?this.svgBlockCanvas_&&(this.cursorSvg_?this.svgBlockCanvas_.insertBefore(e,this.cursorSvg_):this.svgBlockCanvas_.appendChild(e),this.markerSvg_=e):this.markerSvg_=null},e.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM_=e.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_},e.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0},e.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_},e.WorkspaceSvg.prototype.getSvgXY=function(t){var o=0,n=0,i=1;(e.utils.dom.containsNode(this.getCanvas(),t)||e.utils.dom.containsNode(this.getBubbleCanvas(),t))&&(i=this.scale);do{var s=e.utils.getRelativeXY(t);t!=this.getCanvas()&&t!=this.getBubbleCanvas()||(i=1),o+=s.x*i,n+=s.y*i,t=t.parentNode}while(t&&t!=this.getParentSvg());return new e.utils.Coordinate(o,n)},e.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return e.utils.getInjectionDivXY_(this.svgBlockCanvas_)},e.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var e=this.svgGroup_;e;){if(-1!=(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv_=e;break}e=e.parentNode}return this.injectionDiv_},e.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(e){this.resizeHandlerWrapper_=e},e.WorkspaceSvg.prototype.createDom=function(t){if(this.svgGroup_=e.utils.dom.createSvgElement("g",{class:"blocklyWorkspace"},null),t&&(this.svgBackground_=e.utils.dom.createSvgElement("rect",{height:"100%",width:"100%",class:t},this.svgGroup_),"blocklyMainBackground"==t&&this.grid_?this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspace","fill")),this.svgBlockCanvas_=e.utils.dom.createSvgElement("g",{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=e.utils.dom.createSvgElement("g",{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||(e.bindEventWithChecks_(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),e.bindEventWithChecks_(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories){if(!e.Toolbox)throw Error("Missing require for Blockly.Toolbox");this.toolbox_=new e.Toolbox(this)}return this.grid_&&this.grid_.update(this.scale),this.recordDeleteAreas(),this.cursor_.setDrawer(this.getRenderer().makeCursorDrawer(this,!1)),t=this.cursor_.getDrawer().createDom(),this.svgGroup_.appendChild(t),this.marker_.setDrawer(this.getRenderer().makeCursorDrawer(this,!0)),t=this.marker_.getDrawer().createDom(),this.svgGroup_.appendChild(t),this.svgGroup_},e.WorkspaceSvg.prototype.dispose=function(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&(e.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.marker_&&this.marker_.getDrawer().dispose(),this.getCursor()&&this.getCursor().getDrawer().dispose(),this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null),this.grid_&&(this.grid_.dispose(),this.grid_=null),this.themeManager_&&this.themeManager_.unsubscribe(this.svgBackground_),e.WorkspaceSvg.superClass_.dispose.call(this),this.flyoutButtonCallbacks_=this.toolboxCategoryCallbacks_=this.connectionDBList=null,!this.options.parentWorkspace){var t=this.getParentSvg().parentNode;t&&e.utils.dom.removeNode(t)}this.resizeHandlerWrapper_&&(e.unbindEvent_(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)},e.WorkspaceSvg.prototype.newBlock=function(t,o){return new e.BlockSvg(this,t,o)},e.WorkspaceSvg.prototype.addTrashcan=function(){if(!e.Trashcan)throw Error("Missing require for Blockly.Trashcan");this.trashcan=new e.Trashcan(this);var t=this.trashcan.createDom();this.svgGroup_.insertBefore(t,this.svgBlockCanvas_)},e.WorkspaceSvg.prototype.addZoomControls=function(){if(!e.ZoomControls)throw Error("Missing require for Blockly.ZoomControls");this.zoomControls_=new e.ZoomControls(this);var t=this.zoomControls_.createDom();this.svgGroup_.appendChild(t)},e.WorkspaceSvg.prototype.addFlyout_=function(t){var o={disabledPatternId:this.options.disabledPatternId,parentWorkspace:this,RTL:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,toolboxPosition:this.options.toolboxPosition,renderer:this.options.renderer};if(this.horizontalLayout){if(!e.HorizontalFlyout)throw Error("Missing require for Blockly.HorizontalFlyout");this.flyout_=new e.HorizontalFlyout(o)}else{if(!e.VerticalFlyout)throw Error("Missing require for Blockly.VerticalFlyout");this.flyout_=new e.VerticalFlyout(o)}return this.flyout_.autoClose=!1,this.flyout_.createDom(t)},e.WorkspaceSvg.prototype.getFlyout=function(){return this.flyout_?this.flyout_:this.toolbox_?this.toolbox_.flyout_:null},e.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_},e.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM(),this.recordDeleteAreas()},e.WorkspaceSvg.prototype.resizeContents=function(){if(this.resizesEnabled_&&this.rendered){if(this.scrollbar){var e=this.getMetrics();this.scrollbar.hScroll.resizeContentHorizontal(e),this.scrollbar.vScroll.resizeContentVertical(e)}this.updateInverseScreenCTM()}},e.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position(),this.trashcan&&this.trashcan.position(),this.zoomControls_&&this.zoomControls_.position(),this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()},e.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var t=e.utils.getDocumentScroll();e.utils.Coordinate.equals(this.lastRecordedPageScroll_,t)||(this.lastRecordedPageScroll_=t,this.updateScreenCalculations_())},e.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},e.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},e.WorkspaceSvg.prototype.getParentSvg=function(){if(this.cachedParentSvg_)return this.cachedParentSvg_;for(var e=this.svgGroup_;e;){if("svg"==e.tagName)return this.cachedParentSvg_=e;e=e.parentNode}return null},e.WorkspaceSvg.prototype.translate=function(e,t){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(e,t);else{var o="translate("+e+","+t+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",o),this.svgBubbleCanvas_.setAttribute("transform",o)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(e,t,this.scale),this.grid_&&this.grid_.moveTo(e,t)},e.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var e=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_),e="translate("+e.x+","+e.y+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",e),this.svgBubbleCanvas_.setAttribute("transform",e)}},e.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var t=this.svgBlockCanvas_.previousSibling,o=parseInt(this.getParentSvg().getAttribute("width"),10),n=parseInt(this.getParentSvg().getAttribute("height"),10),i=e.utils.getRelativeXY(this.svgBlockCanvas_);this.workspaceDragSurface_.setContentsAndShow(this.svgBlockCanvas_,this.svgBubbleCanvas_,t,o,n,this.scale),this.workspaceDragSurface_.translateSurface(i.x,i.y)}},e.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_},e.WorkspaceSvg.prototype.getWidth=function(){var e=this.getMetrics();return e?e.viewWidth/this.scale:0},e.WorkspaceSvg.prototype.setVisible=function(t){if(this.scrollbar&&this.scrollbar.setContainerVisible(t),this.getFlyout()&&this.getFlyout().setContainerVisible(t),this.getParentSvg().style.display=t?"block":"none",this.toolbox_&&(this.toolbox_.HtmlDiv.style.display=t?"block":"none"),t){for(var o=this.getAllBlocks(!1),n=o.length-1;0<=n;n--)o[n].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else e.hideChaff(!0);this.isVisible_=t},e.WorkspaceSvg.prototype.render=function(){for(var e=this.getAllBlocks(!1),t=e.length-1;0<=t;t--)e[t].render(!1);if(this.currentGesture_)for(e=this.currentGesture_.getInsertionMarkers(),t=0;t<e.length;t++)e[t].render(!1)},e.WorkspaceSvg.prototype.traceOn=function(){console.warn("Deprecated call to traceOn, delete this.")},e.WorkspaceSvg.prototype.highlightBlock=function(t,o){if(void 0===o){for(var n,i=0;n=this.highlightedBlocks_[i];i++)n.setHighlighted(!1);this.highlightedBlocks_.length=0}(n=t?this.getBlockById(t):null)&&((i=void 0===o||o)?-1==this.highlightedBlocks_.indexOf(n)&&this.highlightedBlocks_.push(n):e.utils.arrayRemove(this.highlightedBlocks_,n),n.setHighlighted(i))},e.WorkspaceSvg.prototype.paste=function(e){!this.rendered||e.getElementsByTagName("block").length>=this.remainingCapacity()||(this.currentGesture_&&this.currentGesture_.cancel(),"comment"==e.tagName.toLowerCase()?this.pasteWorkspaceComment_(e):this.pasteBlock_(e))},e.WorkspaceSvg.prototype.pasteBlock_=function(t){e.Events.disable();try{var o=e.Xml.domToBlock(t,this),n=this.getMarker().getCurNode();if(e.keyboardAccessibilityMode&&n)return void e.navigation.insertBlock(o,n.getLocation());var i=parseInt(t.getAttribute("x"),10),s=parseInt(t.getAttribute("y"),10);if(!isNaN(i)&&!isNaN(s)){this.RTL&&(i=-i);do{t=!1;var a,r=this.getAllBlocks(!1);for(n=0;a=r[n];n++){var l=a.getRelativeToSurfaceXY();if(1>=Math.abs(i-l.x)&&1>=Math.abs(s-l.y)){t=!0;break}}if(!t){var c,u=o.getConnections_(!1);for(n=0;c=u[n];n++)if(c.closest(e.SNAP_RADIUS,new e.utils.Coordinate(i,s)).connection){t=!0;break}}t&&(i=this.RTL?i-e.SNAP_RADIUS:i+e.SNAP_RADIUS,s+=2*e.SNAP_RADIUS)}while(t);o.moveBy(i,s)}}finally{e.Events.enable()}e.Events.isEnabled()&&!o.isShadow()&&e.Events.fire(new e.Events.BlockCreate(o)),o.select()},e.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(t){e.Events.disable();try{var o=e.WorkspaceCommentSvg.fromXml(t,this),n=parseInt(t.getAttribute("x"),10),i=parseInt(t.getAttribute("y"),10);isNaN(n)||isNaN(i)||(this.RTL&&(n=-n),o.moveBy(n+50,i+50))}finally{e.Events.enable()}e.Events.isEnabled(),o.select()},e.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.flyout_&&e.toolbox_.refreshSelection()},e.WorkspaceSvg.prototype.renameVariableById=function(t,o){e.WorkspaceSvg.superClass_.renameVariableById.call(this,t,o),this.refreshToolboxSelection()},e.WorkspaceSvg.prototype.deleteVariableById=function(t){e.WorkspaceSvg.superClass_.deleteVariableById.call(this,t),this.refreshToolboxSelection()},e.WorkspaceSvg.prototype.createVariable=function(t,o,n){return t=e.WorkspaceSvg.superClass_.createVariable.call(this,t,o,n),this.refreshToolboxSelection(),t},e.WorkspaceSvg.prototype.recordDeleteAreas=function(){this.deleteAreaTrash_=this.trashcan&&this.svgGroup_.parentNode?this.trashcan.getClientRect():null,this.deleteAreaToolbox_=this.flyout_?this.flyout_.getClientRect():this.toolbox_?this.toolbox_.getClientRect():null},e.WorkspaceSvg.prototype.isDeleteArea=function(t){return this.deleteAreaTrash_&&this.deleteAreaTrash_.contains(t.clientX,t.clientY)?e.DELETE_AREA_TRASH:this.deleteAreaToolbox_&&this.deleteAreaToolbox_.contains(t.clientX,t.clientY)?e.DELETE_AREA_TOOLBOX:e.DELETE_AREA_NONE},e.WorkspaceSvg.prototype.onMouseDown_=function(e){var t=this.getGesture(e);t&&t.handleWsStart(e,this)},e.WorkspaceSvg.prototype.startDrag=function(t,o){var n=e.utils.mouseToSvg(t,this.getParentSvg(),this.getInverseScreenCTM());n.x/=this.scale,n.y/=this.scale,this.dragDeltaXY_=e.utils.Coordinate.difference(o,n)},e.WorkspaceSvg.prototype.moveDrag=function(t){return(t=e.utils.mouseToSvg(t,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,t.y/=this.scale,e.utils.Coordinate.sum(this.dragDeltaXY_,t)},e.WorkspaceSvg.prototype.isDragging=function(){return null!=this.currentGesture_&&this.currentGesture_.isDragging()},e.WorkspaceSvg.prototype.isDraggable=function(){return this.options.moveOptions&&this.options.moveOptions.drag},e.WorkspaceSvg.prototype.isContentBounded=function(){return this.options.moveOptions&&this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.controls||this.options.zoomOptions&&this.options.zoomOptions.wheel},e.WorkspaceSvg.prototype.isMovable=function(){return this.options.moveOptions&&this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel},e.WorkspaceSvg.prototype.onMouseWheel_=function(t){if(e.Gesture.inProgress())t.preventDefault(),t.stopPropagation();else{var o=this.options.zoomOptions&&this.options.zoomOptions.wheel,n=this.options.moveOptions&&this.options.moveOptions.wheel;if(o||n){var i=e.utils.getScrollDeltaPixels(t);!o||!t.ctrlKey&&n?(o=this.scrollX-i.x,n=this.scrollY-i.y,t.shiftKey&&!i.x&&(o=this.scrollX-i.y,n=this.scrollY),this.scroll(o,n)):(i=-i.y/50,o=e.utils.mouseToSvg(t,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(o.x,o.y,i)),t.preventDefault()}}},e.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var t=this.getTopBlocks(!1),o=this.getTopComments(!1);if(!(t=t.concat(o)).length)return new e.utils.Rect(0,0,0,0);o=t[0].getBoundingRectangle();for(var n=1;n<t.length;n++){var i=t[n].getBoundingRectangle();i.top<o.top&&(o.top=i.top),i.bottom>o.bottom&&(o.bottom=i.bottom),i.left<o.left&&(o.left=i.left),i.right>o.right&&(o.right=i.right)}return o},e.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1),e.Events.setGroup(!0);for(var t,o=this.getTopBlocks(!0),n=0,i=0;t=o[i];i++)if(t.isMovable()){var s=t.getRelativeToSurfaceXY();t.moveBy(-s.x,n-s.y),t.snapToGrid(),n=t.getRelativeToSurfaceXY().y+t.getHeightWidth().height+e.BlockSvg.MIN_BLOCK_Y}e.Events.setGroup(!1),this.setResizesEnabled(!0)},e.WorkspaceSvg.prototype.showContextMenu_=function(t){function o(e){if(e.isDeletable())d=d.concat(e.getDescendants(!1));else{e=e.getChildren(!1);for(var t=0;t<e.length;t++)o(e[t])}}function n(){e.Events.setGroup(a);var t=d.shift();t&&(t.workspace?(t.dispose(!1,!0),setTimeout(n,10)):n()),e.Events.setGroup(!1)}if(!this.options.readOnly&&!this.isFlyout){var i=[],s=this.getTopBlocks(!0),a=e.utils.genUid(),r=this,l={};if(l.text=e.Msg.UNDO,l.enabled=0<this.undoStack_.length,l.callback=this.undo.bind(this,!1),i.push(l),(l={}).text=e.Msg.REDO,l.enabled=0<this.redoStack_.length,l.callback=this.undo.bind(this,!0),i.push(l),this.isMovable()&&((l={}).text=e.Msg.CLEAN_UP,l.enabled=1<s.length,l.callback=this.cleanUp.bind(this),i.push(l)),this.options.collapse){for(var c=l=!1,u=0;u<s.length;u++)for(var h=s[u];h;)h.isCollapsed()?l=!0:c=!0,h=h.getNextBlock();var p=function(e){for(var t=0,o=0;o<s.length;o++)for(var n=s[o];n;)setTimeout(n.setCollapsed.bind(n,e),t),n=n.getNextBlock(),t+=10};(c={enabled:c}).text=e.Msg.COLLAPSE_ALL,c.callback=function(){p(!0)},i.push(c),(l={enabled:l}).text=e.Msg.EXPAND_ALL,l.callback=function(){p(!1)},i.push(l)}var d=[];for(u=0;u<s.length;u++)o(s[u]);l={text:1==d.length?e.Msg.DELETE_BLOCK:e.Msg.DELETE_X_BLOCKS.replace("%1",String(d.length)),enabled:0<d.length,callback:function(){r.currentGesture_&&r.currentGesture_.cancel(),2>d.length?n():e.confirm(e.Msg.DELETE_ALL_BLOCKS.replace("%1",d.length),(function(e){e&&n()}))}},i.push(l),this.configureContextMenu&&this.configureContextMenu(i),e.ContextMenu.show(t,i,this.RTL)}},e.WorkspaceSvg.prototype.updateToolbox=function(t){if(t=e.Options.parseToolboxTree(t)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(t.getElementsByTagName("category").length){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=t,this.toolbox_.renderTree(t)}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=t,this.flyout_.show(t.childNodes)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")},e.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(e.mainWorkspace=this,this.setBrowserFocus())},e.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur();try{this.getParentSvg().focus()}catch(e){try{this.getParentSvg().parentNode.setActive()}catch(t){this.getParentSvg().parentNode.focus()}}},e.WorkspaceSvg.prototype.zoom=function(e,t,o){if(!this.isFlyout&&!this.isMutator){o=Math.pow(this.options.zoomOptions.scaleSpeed,o);var n=this.scale*o;if(this.scale!=n){n>this.options.zoomOptions.maxScale?o=this.options.zoomOptions.maxScale/this.scale:n<this.options.zoomOptions.minScale&&(o=this.options.zoomOptions.minScale/this.scale);var i=this.getCanvas().getCTM(),s=this.getParentSvg().createSVGPoint();s.x=e,s.y=t,e=(s=s.matrixTransform(i.inverse())).x,t=s.y,i=i.translate(e*(1-o),t*(1-o)).scale(o),this.scrollX=i.e,this.scrollY=i.f,this.setScale(n)}}},e.WorkspaceSvg.prototype.zoomCenter=function(e){var t=this.getMetrics();if(this.flyout_){var o=t.svgWidth/2;t=t.svgHeight/2}else o=t.viewWidth/2+t.absoluteLeft,t=t.viewHeight/2+t.absoluteTop;this.zoom(o,t,e)},e.WorkspaceSvg.prototype.zoomToFit=function(){if(this.isMovable()){var e=this.getMetrics(),t=e.viewWidth;e=e.viewHeight;var o=this.getBlocksBoundingBox(),n=o.right-o.left;o=o.bottom-o.top,n&&(this.flyout_&&(this.horizontalLayout?(e+=this.flyout_.height_,o+=this.flyout_.height_/this.scale):(t+=this.flyout_.getWidth(),n+=this.flyout_.getWidth()/this.scale)),this.setScale(Math.min(t/n,e/o)),this.scrollCenter())}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},e.WorkspaceSvg.prototype.beginCanvasTransition=function(){e.utils.dom.addClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),e.utils.dom.addClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},e.WorkspaceSvg.prototype.endCanvasTransition=function(){e.utils.dom.removeClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),e.utils.dom.removeClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},e.WorkspaceSvg.prototype.scrollCenter=function(){if(this.isMovable()){var e=this.getMetrics(),t=(e.contentWidth-e.viewWidth)/2,o=(e.contentHeight-e.viewHeight)/2;t=-t-e.contentLeft,o=-o-e.contentTop,this.scroll(t,o)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},e.WorkspaceSvg.prototype.centerOnBlock=function(t){if(this.isMovable()){if(t=this.getBlockById(t)){var o=t.getRelativeToSurfaceXY(),n=t.getHeightWidth(),i=this.scale;t=(o.x+(this.RTL?-1:1)*n.width/2)*i,o=(o.y+n.height/2)*i,t=-(t-(n=this.getMetrics()).contentLeft-n.viewWidth/2)-n.contentLeft,o=-(o-n.contentTop-n.viewHeight/2)-n.contentTop,e.hideChaff(),this.scroll(t,o)}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},e.WorkspaceSvg.prototype.setScale=function(t){this.options.zoomOptions.maxScale&&t>this.options.zoomOptions.maxScale?t=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&t<this.options.zoomOptions.minScale&&(t=this.options.zoomOptions.minScale),this.scale=t,e.hideChaff(!1),this.flyout_&&(this.flyout_.reflow(),this.recordDeleteAreas()),this.grid_&&this.grid_.update(this.scale),t=this.getMetrics(),this.scrollX-=t.absoluteLeft,this.scrollY-=t.absoluteTop,t.viewLeft+=t.absoluteLeft,t.viewTop+=t.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout_?(this.scrollbar.hScroll.resizeViewHorizontal(t),this.scrollbar.vScroll.resizeViewVertical(t)):(this.scrollbar.hScroll.resizeContentHorizontal(t),this.scrollbar.vScroll.resizeContentVertical(t)))},e.WorkspaceSvg.prototype.scroll=function(t,o){e.hideChaff(!0);var n=this.getMetrics(),i=n.contentWidth+n.contentLeft-n.viewWidth,s=n.contentHeight+n.contentTop-n.viewHeight;t=Math.min(t,-n.contentLeft),o=Math.min(o,-n.contentTop),t=Math.max(t,-i),o=Math.max(o,-s),this.scrollX=t,this.scrollY=o,this.scrollbar&&(this.scrollbar.hScroll.setHandlePosition(-(t+n.contentLeft)*this.scrollbar.hScroll.ratio_),this.scrollbar.vScroll.setHandlePosition(-(o+n.contentTop)*this.scrollbar.vScroll.ratio_)),t+=n.absoluteLeft,o+=n.absoluteTop,this.translate(t,o)},e.WorkspaceSvg.getDimensionsPx_=function(e){var t=0,o=0;return e&&(t=e.getWidth(),o=e.getHeight()),{width:t,height:o}},e.WorkspaceSvg.getContentDimensions_=function(t,o){return t.isContentBounded()?e.WorkspaceSvg.getContentDimensionsBounded_(t,o):e.WorkspaceSvg.getContentDimensionsExact_(t)},e.WorkspaceSvg.getContentDimensionsExact_=function(e){var t=e.getBlocksBoundingBox(),o=e.scale;e=t.top*o;var n=t.bottom*o,i=t.left*o;return{top:e,bottom:n,left:i,right:t=t.right*o,width:t-i,height:n-e}},e.WorkspaceSvg.getContentDimensionsBounded_=function(t,o){var n=e.WorkspaceSvg.getContentDimensionsExact_(t),i=o.width,s=o.height,a=i/2,r=s/2,l=Math.min(n.left-a,n.right-i),c=Math.min(n.top-r,n.bottom-s);return{left:l,top:c,height:Math.max(n.bottom+r,n.top+s)-c,width:Math.max(n.right+a,n.left+i)-l}},e.WorkspaceSvg.getTopLevelWorkspaceMetrics_=function(){var t=e.WorkspaceSvg.getDimensionsPx_(this.toolbox_),o=e.WorkspaceSvg.getDimensionsPx_(this.flyout_),n=e.svgSize(this.getParentSvg()),i={height:n.height,width:n.width};this.toolbox_?this.toolboxPosition==e.TOOLBOX_AT_TOP||this.toolboxPosition==e.TOOLBOX_AT_BOTTOM?i.height-=t.height:this.toolboxPosition!=e.TOOLBOX_AT_LEFT&&this.toolboxPosition!=e.TOOLBOX_AT_RIGHT||(i.width-=t.width):this.flyout_&&(this.toolboxPosition==e.TOOLBOX_AT_TOP||this.toolboxPosition==e.TOOLBOX_AT_BOTTOM?i.height-=o.height:this.toolboxPosition!=e.TOOLBOX_AT_LEFT&&this.toolboxPosition!=e.TOOLBOX_AT_RIGHT||(i.width-=o.width));var s=e.WorkspaceSvg.getContentDimensions_(this,i),a=0;this.toolbox_&&this.toolboxPosition==e.TOOLBOX_AT_LEFT?a=t.width:this.flyout_&&this.toolboxPosition==e.TOOLBOX_AT_LEFT&&(a=o.width);var r=0;return this.toolbox_&&this.toolboxPosition==e.TOOLBOX_AT_TOP?r=t.height:this.flyout_&&this.toolboxPosition==e.TOOLBOX_AT_TOP&&(r=o.height),{contentHeight:s.height,contentWidth:s.width,contentTop:s.top,contentLeft:s.left,viewHeight:i.height,viewWidth:i.width,viewTop:-this.scrollY,viewLeft:-this.scrollX,absoluteTop:r,absoluteLeft:a,svgHeight:n.height,svgWidth:n.width,toolboxWidth:t.width,toolboxHeight:t.height,flyoutWidth:o.width,flyoutHeight:o.height,toolboxPosition:this.toolboxPosition}},e.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(e){var t=this.getMetrics();"number"==typeof e.x&&(this.scrollX=-t.contentWidth*e.x-t.contentLeft),"number"==typeof e.y&&(this.scrollY=-t.contentHeight*e.y-t.contentTop),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)},e.WorkspaceSvg.prototype.setResizesEnabled=function(e){var t=!this.resizesEnabled_&&e;this.resizesEnabled_=e,t&&this.resizeContents()},e.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1),e.WorkspaceSvg.superClass_.clear.call(this),this.setResizesEnabled(!0)},e.WorkspaceSvg.prototype.registerButtonCallback=function(e,t){if("function"!=typeof t)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[e]=t},e.WorkspaceSvg.prototype.getButtonCallback=function(e){return(e=this.flyoutButtonCallbacks_[e])?e:null},e.WorkspaceSvg.prototype.removeButtonCallback=function(e){this.flyoutButtonCallbacks_[e]=null},e.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(e,t){if("function"!=typeof t)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[e]=t},e.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(e){return this.toolboxCategoryCallbacks_[e]||null},e.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(e){this.toolboxCategoryCallbacks_[e]=null},e.WorkspaceSvg.prototype.getGesture=function(t){var o="mousedown"==t.type||"touchstart"==t.type||"pointerdown"==t.type,n=this.currentGesture_;return n?o&&n.hasStarted()?(console.warn("Tried to start the same gesture twice."),n.cancel(),null):n:o?this.currentGesture_=new e.TouchGesture(t,this):null},e.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null},e.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()},e.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_},e.WorkspaceSvg.prototype.getGrid=function(){return this.grid_},e.WorkspaceSvg.prototype.refreshTheme=function(){e.WorkspaceSvg.superClass_.refreshTheme.call(this),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.updateColourFromTheme()},e.inject=function(t,o){if(e.checkBlockColourConstants(),"string"==typeof t&&(t=document.getElementById(t)||document.querySelector(t)),!e.utils.dom.containsNode(document,t))throw Error("Error: container is not in current document.");var n=new e.Options(o||{}),i=document.createElement("div");i.className="injectionDiv",t.appendChild(i);var s=e.createDom_(i,n),a=new e.BlockDragSurfaceSvg(i);return i=new e.WorkspaceDragSurfaceSvg(i),s=e.createMainWorkspace_(s,n,a,i),e.user.keyMap.setKeyMap(n.keyMap),e.init_(s),e.mainWorkspace=s,e.svgResize(s),s},e.createDom_=function(t,o){t.setAttribute("dir","LTR"),e.Component.defaultRightToLeft=o.RTL,e.Css.inject(o.hasCss,o.pathToMedia);var n=e.utils.dom.createSvgElement("svg",{xmlns:e.utils.dom.SVG_NS,"xmlns:html":e.utils.dom.HTML_NS,"xmlns:xlink":e.utils.dom.XLINK_NS,version:"1.1",class:"blocklySvg"},t),i=e.utils.dom.createSvgElement("defs",{},n),s=String(Math.random()).substring(2),a=e.utils.dom.createSvgElement("filter",{id:"blocklyEmbossFilter"+s},i);e.utils.dom.createSvgElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:1,result:"blur"},a);var r=e.utils.dom.createSvgElement("feSpecularLighting",{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},a);return e.utils.dom.createSvgElement("fePointLight",{x:-5e3,y:-1e4,z:2e4},r),e.utils.dom.createSvgElement("feComposite",{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},a),e.utils.dom.createSvgElement("feComposite",{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},a),o.embossFilterId=a.id,a=e.utils.dom.createSvgElement("pattern",{id:"blocklyDisabledPattern"+s,patternUnits:"userSpaceOnUse",width:10,height:10},i),e.utils.dom.createSvgElement("rect",{width:10,height:10,fill:"#aaa"},a),e.utils.dom.createSvgElement("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a),o.disabledPatternId=a.id,o.gridPattern=e.Grid.createDom(s,o.gridOptions,i),n},e.createMainWorkspace_=function(t,o,n,i){o.parentWorkspace=null;var s=new e.WorkspaceSvg(o,n,i);return s.scale=o.zoomOptions.startScale,t.appendChild(s.createDom("blocklyMainBackground")),!o.hasCategories&&o.languageTree&&(n=s.addFlyout_("svg"),e.utils.dom.insertAfter(n,t)),o.hasTrashcan&&s.addTrashcan(),o.zoomOptions&&o.zoomOptions.controls&&s.addZoomControls(),s.getThemeManager().subscribe(t,"workspace","background-color"),s.translate(0,0),e.mainWorkspace=s,o.readOnly||s.isMovable()||s.addChangeListener((function(t){if(!s.isDragging()&&!s.isMovable()&&-1!=e.Events.BUMP_EVENTS.indexOf(t.type)){var o=Object.create(null),n=s.getMetrics(),i=s.scale;if(o.RTL=s.RTL,o.viewLeft=n.viewLeft/i,o.viewTop=n.viewTop/i,o.viewRight=(n.viewLeft+n.viewWidth)/i,o.viewBottom=(n.viewTop+n.viewHeight)/i,s.isContentBounded()?(n=s.getBlocksBoundingBox(),o.contentLeft=n.left,o.contentTop=n.top,o.contentRight=n.right,o.contentBottom=n.bottom):(o.contentLeft=n.contentLeft/i,o.contentTop=n.contentTop/i,o.contentRight=(n.contentLeft+n.contentWidth)/i,o.contentBottom=(n.contentTop+n.contentHeight)/i),o.contentTop<o.viewTop||o.contentBottom>o.viewBottom||o.contentLeft<o.viewLeft||o.contentRight>o.viewRight){switch(n=null,t&&(n=e.Events.getGroup(),e.Events.setGroup(t.group)),t.type){case e.Events.BLOCK_CREATE:case e.Events.BLOCK_MOVE:var a=s.getBlockById(t.blockId);a=a.getRootBlock();break;case e.Events.COMMENT_CREATE:case e.Events.COMMENT_MOVE:a=s.getCommentById(t.commentId)}if(a){(i=a.getBoundingRectangle()).height=i.bottom-i.top,i.width=i.right-i.left;var r=o.viewTop,l=o.viewBottom-i.height;l=Math.max(r,l),r=e.utils.math.clamp(r,i.top,l)-i.top,l=o.viewLeft;var c=o.viewRight-i.width;o.RTL?l=Math.min(c,l):c=Math.max(l,c),o=e.utils.math.clamp(l,i.left,c)-i.left,a.moveBy(o,r)}t&&(t.group||console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),null!==n&&e.Events.setGroup(n))}}})),e.svgResize(s),e.WidgetDiv.createDom(),e.DropDownDiv.createDom(),e.Tooltip.createDom(),s},e.init_=function(t){var o=t.options,n=t.getParentSvg();e.bindEventWithChecks_(n.parentNode,"contextmenu",null,(function(t){e.utils.isTargetInput(t)||t.preventDefault()})),n=e.bindEventWithChecks_(window,"resize",null,(function(){e.hideChaff(!0),e.svgResize(t)})),t.setResizeHandlerWrapper(n),e.inject.bindDocumentEvents_(),o.languageTree&&(t.toolbox_?t.toolbox_.init(t):t.flyout_&&(t.flyout_.init(t),t.flyout_.show(o.languageTree.childNodes),t.flyout_.scrollToStart())),n=e.Scrollbar.scrollbarThickness,o.hasTrashcan&&(n=t.trashcan.init(n)),o.zoomOptions&&o.zoomOptions.controls&&t.zoomControls_.init(n),o.moveOptions&&o.moveOptions.scrollbars?(t.scrollbar=new e.ScrollbarPair(t),t.scrollbar.resize()):t.setMetrics({x:.5,y:.5}),o.hasSounds&&e.inject.loadSounds_(o.pathToMedia,t)},e.inject.bindDocumentEvents_=function(){e.documentEventsBound_||(e.bindEventWithChecks_(document,"scroll",null,(function(){for(var t,o=e.Workspace.getAll(),n=0;t=o[n];n++)t.updateInverseScreenCTM&&t.updateInverseScreenCTM()})),e.bindEventWithChecks_(document,"keydown",null,e.onKeyDown_),e.bindEvent_(document,"touchend",null,e.longStop_),e.bindEvent_(document,"touchcancel",null,e.longStop_),e.utils.userAgent.IPAD&&e.bindEventWithChecks_(window,"orientationchange",document,(function(){e.svgResize(e.getMainWorkspace())}))),e.documentEventsBound_=!0},e.inject.loadSounds_=function(t,o){var n=o.getAudioManager();n.load([t+"click.mp3",t+"click.wav",t+"click.ogg"],"click"),n.load([t+"disconnect.wav",t+"disconnect.mp3",t+"disconnect.ogg"],"disconnect"),n.load([t+"delete.mp3",t+"delete.ogg",t+"delete.wav"],"delete");var i=[],s=function(){for(;i.length;)e.unbindEvent_(i.pop());n.preload()};i.push(e.bindEventWithChecks_(document,"mousemove",null,s,!0)),i.push(e.bindEventWithChecks_(document,"touchstart",null,s,!0))},e.Action=function(e,t){this.name=e,this.desc=t},e.ASTNode=function(t,o,n){if(!o)throw Error("Cannot create a node without a location.");this.type_=t,this.isConnection_=e.ASTNode.isConnectionType_(t),this.location_=o,this.processParams_(n||null)},e.ASTNode.types={FIELD:"field",BLOCK:"block",INPUT:"input",OUTPUT:"output",NEXT:"next",PREVIOUS:"previous",STACK:"stack",WORKSPACE:"workspace"},e.ASTNode.DEFAULT_OFFSET_Y=-20,e.ASTNode.isConnectionType_=function(t){switch(t){case e.ASTNode.types.PREVIOUS:case e.ASTNode.types.NEXT:case e.ASTNode.types.INPUT:case e.ASTNode.types.OUTPUT:return!0}return!1},e.ASTNode.createFieldNode=function(t){return new e.ASTNode(e.ASTNode.types.FIELD,t)},e.ASTNode.createConnectionNode=function(t){return t?t.type==e.INPUT_VALUE||t.type==e.NEXT_STATEMENT&&t.getParentInput()?e.ASTNode.createInputNode(t.getParentInput()):t.type==e.NEXT_STATEMENT?new e.ASTNode(e.ASTNode.types.NEXT,t):t.type==e.OUTPUT_VALUE?new e.ASTNode(e.ASTNode.types.OUTPUT,t):t.type==e.PREVIOUS_STATEMENT?new e.ASTNode(e.ASTNode.types.PREVIOUS,t):null:null},e.ASTNode.createInputNode=function(t){return t?new e.ASTNode(e.ASTNode.types.INPUT,t.connection):null},e.ASTNode.createBlockNode=function(t){return new e.ASTNode(e.ASTNode.types.BLOCK,t)},e.ASTNode.createStackNode=function(t){return new e.ASTNode(e.ASTNode.types.STACK,t)},e.ASTNode.createWorkspaceNode=function(t,o){return new e.ASTNode(e.ASTNode.types.WORKSPACE,t,{wsCoordinate:o})},e.ASTNode.prototype.processParams_=function(e){e&&e.wsCoordinate&&(this.wsCoordinate_=e.wsCoordinate)},e.ASTNode.prototype.getLocation=function(){return this.location_},e.ASTNode.prototype.getType=function(){return this.type_},e.ASTNode.prototype.getWsCoordinate=function(){return this.wsCoordinate_},e.ASTNode.prototype.isConnection=function(){return this.isConnection_},e.ASTNode.prototype.findPreviousEditableField_=function(t,o,n){for(t=(o=o.fieldRow).indexOf(t),n=(n?o.length:t)-1;t=o[n];n--)if(t.EDITABLE)return o=t,e.ASTNode.createFieldNode(o);return null},e.ASTNode.prototype.findNextForInput_=function(){var t,o=this.location_.getParentInput(),n=o.getSourceBlock();for(o=n.inputList.indexOf(o)+1;t=n.inputList[o];o++){for(var i,s=t.fieldRow,a=0;i=s[a];a++)if(i.EDITABLE)return e.ASTNode.createFieldNode(i);if(t.connection)return e.ASTNode.createInputNode(t)}return null},e.ASTNode.prototype.findNextForField_=function(){var t=this.location_,o=t.getParentInput(),n=t.getSourceBlock(),i=n.inputList.indexOf(o);for(t=o.fieldRow.indexOf(t)+1;o=n.inputList[i];i++){for(var s=o.fieldRow;t<s.length;){if(s[t].EDITABLE)return e.ASTNode.createFieldNode(s[t]);t++}if(t=0,o.connection)return e.ASTNode.createInputNode(o)}return null},e.ASTNode.prototype.findPrevForInput_=function(){for(var t,o=this.location_.getParentInput(),n=o.getSourceBlock(),i=n.inputList.indexOf(o);t=n.inputList[i];i--){if(t.connection&&t!==o)return e.ASTNode.createInputNode(t);for(var s,a=(t=t.fieldRow).length-1;s=t[a];a--)if(s.EDITABLE)return e.ASTNode.createFieldNode(s)}return null},e.ASTNode.prototype.findPrevForField_=function(){var t,o=this.location_,n=o.getParentInput(),i=o.getSourceBlock(),s=i.inputList.indexOf(n);for(o=n.fieldRow.indexOf(o)-1;t=i.inputList[s];s--){if(t.connection&&t!==n)return e.ASTNode.createInputNode(t);for(t=t.fieldRow;-1<o;){if(t[o].EDITABLE)return e.ASTNode.createFieldNode(t[o]);o--}0<=s-1&&(o=i.inputList[s-1].fieldRow.length-1)}return null},e.ASTNode.prototype.navigateBetweenStacks_=function(t){var o=this.getLocation();if(o instanceof e.Block||(o=o.getSourceBlock()),!o||!o.workspace)return null;var n=o.getRootBlock();o=n.workspace.getTopBlocks(!0);for(var i,s=0;i=o[s];s++)if(n.id==i.id)return-1==(t=s+(t?1:-1))||t==o.length?null:e.ASTNode.createStackNode(o[t]);throw Error("Couldn't find "+(t?"next":"previous")+" stack?!")},e.ASTNode.prototype.findTopASTNodeForBlock_=function(t){var o=t.previousConnection||t.outputConnection;return o?e.ASTNode.createConnectionNode(o):e.ASTNode.createBlockNode(t)},e.ASTNode.prototype.getOutAstNodeForBlock_=function(t){if(!t)return null;var o=(t=t.getTopStackBlock()).previousConnection||t.outputConnection;return o&&o.targetConnection&&o.targetConnection.getParentInput()?e.ASTNode.createInputNode(o.targetConnection.getParentInput()):e.ASTNode.createStackNode(t)},e.ASTNode.prototype.findFirstFieldOrInput_=function(t){t=t.inputList;for(var o,n=0;o=t[n];n++){for(var i,s=o.fieldRow,a=0;i=s[a];a++)if(i.EDITABLE)return e.ASTNode.createFieldNode(i);if(o.connection)return e.ASTNode.createInputNode(o)}return null},e.ASTNode.prototype.next=function(){switch(this.type_){case e.ASTNode.types.STACK:return this.navigateBetweenStacks_(!0);case e.ASTNode.types.OUTPUT:return e.ASTNode.createBlockNode(this.location_.getSourceBlock());case e.ASTNode.types.FIELD:return this.findNextForField_();case e.ASTNode.types.INPUT:return this.findNextForInput_();case e.ASTNode.types.BLOCK:var t=this.location_.nextConnection;if(t)return e.ASTNode.createConnectionNode(t);break;case e.ASTNode.types.PREVIOUS:return e.ASTNode.createBlockNode(this.location_.getSourceBlock());case e.ASTNode.types.NEXT:if(t=this.location_.targetConnection)return e.ASTNode.createConnectionNode(t)}return null},e.ASTNode.prototype.in=function(){switch(this.type_){case e.ASTNode.types.WORKSPACE:var t=this.location_.getTopBlocks(!0);if(0<t.length)return e.ASTNode.createStackNode(t[0]);break;case e.ASTNode.types.STACK:return this.findTopASTNodeForBlock_(this.location_);case e.ASTNode.types.BLOCK:return this.findFirstFieldOrInput_(this.location_);case e.ASTNode.types.INPUT:if(t=this.location_.targetConnection)return e.ASTNode.createConnectionNode(t)}return null},e.ASTNode.prototype.prev=function(){switch(this.type_){case e.ASTNode.types.STACK:return this.navigateBetweenStacks_(!1);case e.ASTNode.types.FIELD:return this.findPrevForField_();case e.ASTNode.types.INPUT:return this.findPrevForInput_();case e.ASTNode.types.BLOCK:var t=this.location_.outputConnection;if(t=this.location_.previousConnection||t)return e.ASTNode.createConnectionNode(t);break;case e.ASTNode.types.PREVIOUS:if((t=this.location_.targetConnection)&&!t.getParentInput())return e.ASTNode.createConnectionNode(t);break;case e.ASTNode.types.NEXT:return e.ASTNode.createBlockNode(this.location_.getSourceBlock())}return null},e.ASTNode.prototype.out=function(){switch(this.type_){case e.ASTNode.types.STACK:var t=this.location_.getRelativeToSurfaceXY();return t=new e.utils.Coordinate(t.x,t.y+e.ASTNode.DEFAULT_OFFSET_Y),e.ASTNode.createWorkspaceNode(this.location_.workspace,t);case e.ASTNode.types.OUTPUT:return(t=this.location_.targetConnection)?e.ASTNode.createConnectionNode(t):e.ASTNode.createStackNode(this.location_.getSourceBlock());case e.ASTNode.types.FIELD:case e.ASTNode.types.INPUT:return e.ASTNode.createBlockNode(this.location_.getSourceBlock());case e.ASTNode.types.BLOCK:return this.getOutAstNodeForBlock_(this.location_);case e.ASTNode.types.PREVIOUS:case e.ASTNode.types.NEXT:return this.getOutAstNodeForBlock_(this.location_.getSourceBlock())}return null},e.utils.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,FF_HASH:163,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},e.user={},e.user.keyMap={},e.user.keyMap.map_={},e.user.keyMap.modifierKeys={SHIFT:"Shift",CONTROL:"Control",ALT:"Alt",META:"Meta"},e.user.keyMap.setActionForKey=function(t,o){var n=e.user.keyMap.getKeyByAction(o);n&&delete e.user.keyMap.map_[n],e.user.keyMap.map_[t]=o},e.user.keyMap.setKeyMap=function(t){e.user.keyMap.map_=t},e.user.keyMap.getKeyMap=function(){var t={};return e.utils.object.mixin(t,e.user.keyMap.map_),t},e.user.keyMap.getActionByKeyCode=function(t){return e.user.keyMap.map_[t]},e.user.keyMap.getKeyByAction=function(t){for(var o,n=Object.keys(e.user.keyMap.map_),i=0;o=n[i];i++)if(e.user.keyMap.map_[o].name===t.name)return o;return null},e.user.keyMap.serializeKeyEvent=function(t){for(var o,n=e.utils.object.values(e.user.keyMap.modifierKeys),i="",s=0;o=n[s];s++)t.getModifierState(o)&&(i+=o);return i+t.keyCode},e.user.keyMap.createSerializedKey=function(t,o){for(var n,i="",s=e.utils.object.values(e.user.keyMap.modifierKeys),a=0;n=o[a];a++){if(!(-1<s.indexOf(n)))throw Error(n+" is not a valid modifier key.");i+=n}return i+t},e.user.keyMap.createDefaultKeyMap=function(){var t={},o=e.user.keyMap.createSerializedKey(e.utils.KeyCodes.K,[e.user.keyMap.modifierKeys.CONTROL]);return t[e.utils.KeyCodes.W]=e.navigation.ACTION_PREVIOUS,t[e.utils.KeyCodes.A]=e.navigation.ACTION_OUT,t[e.utils.KeyCodes.S]=e.navigation.ACTION_NEXT,t[e.utils.KeyCodes.D]=e.navigation.ACTION_IN,t[e.utils.KeyCodes.I]=e.navigation.ACTION_INSERT,t[e.utils.KeyCodes.ENTER]=e.navigation.ACTION_MARK,t[e.utils.KeyCodes.X]=e.navigation.ACTION_DISCONNECT,t[e.utils.KeyCodes.T]=e.navigation.ACTION_TOOLBOX,t[e.utils.KeyCodes.E]=e.navigation.ACTION_EXIT,t[e.utils.KeyCodes.ESC]=e.navigation.ACTION_EXIT,t[o]=e.navigation.ACTION_TOGGLE_KEYBOARD_NAV,t},e.navigation={},e.navigation.loggingCallback=null,e.navigation.STATE_FLYOUT=1,e.navigation.STATE_WS=2,e.navigation.STATE_TOOLBOX=3,e.navigation.currentState_=e.navigation.STATE_WS,e.navigation.actionNames={PREVIOUS:"previous",NEXT:"next",IN:"in",OUT:"out",INSERT:"insert",MARK:"mark",DISCONNECT:"disconnect",TOOLBOX:"toolbox",EXIT:"exit",TOGGLE_KEYBOARD_NAV:"toggle_keyboard_nav"},e.navigation.focusToolbox_=function(){var t=e.getMainWorkspace(),o=t.getToolbox();o&&(e.navigation.currentState_=e.navigation.STATE_TOOLBOX,e.navigation.resetFlyout_(!1),t.getMarker().getCurNode()||e.navigation.markAtCursor_(),o.selectFirstCategory())},e.navigation.focusFlyout_=function(){e.navigation.currentState_=e.navigation.STATE_FLYOUT;var t=e.getMainWorkspace(),o=t.getToolbox();o=o?o.flyout_:t.getFlyout(),t.getMarker().getCurNode()||e.navigation.markAtCursor_(),o&&o.getWorkspace()&&0<(t=o.getWorkspace().getTopBlocks(!0)).length&&(t=t[0],t=e.ASTNode.createStackNode(t),e.navigation.getFlyoutCursor_().setCurNode(t))},e.navigation.focusWorkspace_=function(){e.hideChaff();var t=e.getMainWorkspace(),o=t.getCursor(),n=!!t.getToolbox(),i=t.getTopBlocks(!0);e.navigation.resetFlyout_(n),e.navigation.currentState_=e.navigation.STATE_WS,0<i.length?o.setCurNode(e.navigation.getTopNode(i[0])):(n=new e.utils.Coordinate(100,100),t=e.ASTNode.createWorkspaceNode(t,n),o.setCurNode(t))},e.navigation.getFlyoutCursor_=function(){var t=e.getMainWorkspace(),o=null;return t.rendered&&(o=(t=(o=t.getToolbox())?o.flyout_:t.getFlyout())?t.workspace_.getCursor():null),o},e.navigation.insertFromFlyout=function(){var t=e.getMainWorkspace(),o=t.getFlyout();if(o&&o.isVisible()){var n=e.navigation.getFlyoutCursor_().getCurNode().getLocation();n.isEnabled()?((o=o.createBlock(n)).render(),o.setConnectionsHidden(!1),t.getCursor().setCurNode(e.ASTNode.createBlockNode(o)),e.navigation.modify_()||e.navigation.warn_("Something went wrong while inserting a block from the flyout."),e.navigation.focusWorkspace_(),t.getCursor().setCurNode(e.navigation.getTopNode(o)),e.navigation.removeMark_()):e.navigation.warn_("Can't insert a disabled block.")}else e.navigation.warn_("Trying to insert from the flyout when the flyout does not  exist or is not visible")},e.navigation.resetFlyout_=function(t){e.navigation.getFlyoutCursor_()&&(e.navigation.getFlyoutCursor_().hide(),t&&e.getMainWorkspace().getFlyout().hide())},e.navigation.modifyWarn_=function(){var t=e.getMainWorkspace().getMarker().getCurNode(),o=e.getMainWorkspace().getCursor().getCurNode();return t?o?(t=t.getType(),o=o.getType(),t==e.ASTNode.types.FIELD?(e.navigation.warn_("Should not have been able to mark a field."),!1):t==e.ASTNode.types.BLOCK?(e.navigation.warn_("Should not have been able to mark a block."),!1):t==e.ASTNode.types.STACK?(e.navigation.warn_("Should not have been able to mark a stack."),!1):o==e.ASTNode.types.FIELD?(e.navigation.warn_("Cannot attach a field to anything else."),!1):o!=e.ASTNode.types.WORKSPACE||(e.navigation.warn_("Cannot attach a workspace to anything else."),!1)):(e.navigation.warn_("Cannot insert with no cursor node."),!1):(e.navigation.warn_("Cannot insert with no marked node."),!1)},e.navigation.moveBlockToWorkspace_=function(t,o){return t.isShadow()?(e.navigation.warn_("Cannot move a shadow block to the workspace."),!1):(t.getParent()&&t.unplug(!1),t.moveTo(o.getWsCoordinate()),!0)},e.navigation.modify_=function(){var t=e.getMainWorkspace().getMarker().getCurNode(),o=e.getMainWorkspace().getCursor().getCurNode();if(!e.navigation.modifyWarn_())return!1;var n=t.getType(),i=o.getType(),s=o.getLocation(),a=t.getLocation();return t.isConnection()&&o.isConnection()?e.navigation.connect_(s,a):!t.isConnection()||i!=e.ASTNode.types.BLOCK&&i!=e.ASTNode.types.STACK?n==e.ASTNode.types.WORKSPACE?(o=e.navigation.getSourceBlock_(o),e.navigation.moveBlockToWorkspace_(o,t)):(e.navigation.warn_("Unexpected state in Blockly.navigation.modify_."),!1):e.navigation.insertBlock(s,a)},e.navigation.disconnectChild_=function(t,o){var n=t.getSourceBlock(),i=o.getSourceBlock();n.getRootBlock()==i.getRootBlock()&&(-1<n.getDescendants(!1).indexOf(i)?e.navigation.getInferiorConnection_(o).disconnect():e.navigation.getInferiorConnection_(t).disconnect())},e.navigation.moveAndConnect_=function(t,o){if(!t||!o)return!1;var n=t.getSourceBlock();return o.canConnectWithReason_(t)==e.Connection.CAN_CONNECT&&(e.navigation.disconnectChild_(t,o),o.isSuperior()||n.getRootBlock().positionNearConnection(t,o),o.connect(t),!0)},e.navigation.getInferiorConnection_=function(e){var t=e.getSourceBlock();return e.isSuperior()?t.previousConnection?t.previousConnection:t.outputConnection?t.outputConnection:null:e},e.navigation.getSuperiorConnection_=function(e){return e.isSuperior()?e:e.targetConnection?e.targetConnection:null},e.navigation.connect_=function(t,o){if(!t||!o)return!1;var n=e.navigation.getInferiorConnection_(t),i=e.navigation.getSuperiorConnection_(o),s=e.navigation.getSuperiorConnection_(t),a=e.navigation.getInferiorConnection_(o);if(n&&i&&e.navigation.moveAndConnect_(n,i)||s&&a&&e.navigation.moveAndConnect_(s,a)||e.navigation.moveAndConnect_(t,o))return!0;try{o.checkConnection_(t)}catch(r){e.navigation.warn_("Connection failed with error: "+r)}return!1},e.navigation.insertBlock=function(t,o){switch(o.type){case e.PREVIOUS_STATEMENT:if(e.navigation.connect_(t.nextConnection,o))return!0;break;case e.NEXT_STATEMENT:if(e.navigation.connect_(t.previousConnection,o))return!0;break;case e.INPUT_VALUE:if(e.navigation.connect_(t.outputConnection,o))return!0;break;case e.OUTPUT_VALUE:for(var n=0;n<t.inputList.length;n++){var i=t.inputList[n].connection;if(i&&i.type===e.INPUT_VALUE&&e.navigation.connect_(i,o))return!0}if(t.outputConnection&&e.navigation.connect_(t.outputConnection,o))return!0}return e.navigation.warn_("This block can not be inserted at the marked location."),!1},e.navigation.disconnectBlocks_=function(){var t=e.getMainWorkspace(),o=t.getCursor().getCurNode();if(o.isConnection()){var n=o.getLocation();n.isConnected()?(o=n.isSuperior()?n:n.targetConnection,(n=n.isSuperior()?n.targetConnection:n).getSourceBlock().isShadow()?e.navigation.log_("Cannot disconnect a shadow block"):(o.disconnect(),n.bumpAwayFrom_(o),o.getSourceBlock().getRootBlock().bringToFront(),o=e.ASTNode.createConnectionNode(o),t.getCursor().setCurNode(o))):e.navigation.log_("Cannot disconnect unconnected connection")}else e.navigation.log_("Cannot disconnect blocks when the cursor is not on a connection")},e.navigation.markAtCursor_=function(){var t=e.getMainWorkspace();t.getMarker().setCurNode(t.getCursor().getCurNode())},e.navigation.removeMark_=function(){var t=e.getMainWorkspace();t.getMarker().setCurNode(null),t.getMarker().hide()},e.navigation.setState=function(t){e.navigation.currentState_=t},e.navigation.getSourceBlock_=function(t){return t?t.getType()===e.ASTNode.types.BLOCK||t.getType()===e.ASTNode.types.STACK?t.getLocation():t.getType()===e.ASTNode.types.WORKSPACE?null:t.getLocation().getSourceBlock():null},e.navigation.getTopNode=function(t){var o=t.previousConnection||t.outputConnection;return o?e.ASTNode.createConnectionNode(o):e.ASTNode.createBlockNode(t)},e.navigation.moveCursorOnBlockDelete=function(t){var o=e.getMainWorkspace();if(o&&(o=o.getCursor())){var n=o.getCurNode();(n=e.navigation.getSourceBlock_(n))===t?n.getParent()?(t=n.previousConnection||n.outputConnection)&&o.setCurNode(e.ASTNode.createConnectionNode(t.targetConnection)):o.setCurNode(e.ASTNode.createWorkspaceNode(n.workspace,n.getRelativeToSurfaceXY())):-1<t.getChildren(!1).indexOf(n)&&o.setCurNode(e.ASTNode.createWorkspaceNode(n.workspace,n.getRelativeToSurfaceXY()))}},e.navigation.moveCursorOnBlockMutation=function(t){var o=e.getMainWorkspace().getCursor();if(o){var n=o.getCurNode();(n=e.navigation.getSourceBlock_(n))===t&&o.setCurNode(e.ASTNode.createBlockNode(n))}},e.navigation.enableKeyboardAccessibility=function(){e.keyboardAccessibilityMode||(e.keyboardAccessibilityMode=!0,e.navigation.focusWorkspace_())},e.navigation.disableKeyboardAccessibility=function(){if(e.keyboardAccessibilityMode){var t=e.getMainWorkspace();e.keyboardAccessibilityMode=!1,t.getCursor().hide(),t.getMarker().hide(),e.navigation.getFlyoutCursor_()&&e.navigation.getFlyoutCursor_().hide()}},e.navigation.log_=function(t){e.navigation.loggingCallback?e.navigation.loggingCallback("log",t):console.log(t)},e.navigation.warn_=function(t){e.navigation.loggingCallback?e.navigation.loggingCallback("warn",t):console.warn(t)},e.navigation.error_=function(t){e.navigation.loggingCallback?e.navigation.loggingCallback("error",t):console.error(t)},e.navigation.onKeyPress=function(t){return t=e.user.keyMap.serializeKeyEvent(t),!!(t=e.user.keyMap.getActionByKeyCode(t))&&e.navigation.onBlocklyAction(t)},e.navigation.onBlocklyAction=function(t){var o=e.getMainWorkspace().options.readOnly,n=!1;return e.keyboardAccessibilityMode?o?-1<e.navigation.READONLY_ACTION_LIST.indexOf(t)&&(n=e.navigation.handleActions_(t)):n=e.navigation.handleActions_(t):t.name===e.navigation.actionNames.TOGGLE_KEYBOARD_NAV&&(e.navigation.enableKeyboardAccessibility(),n=!0),n},e.navigation.handleActions_=function(t){var o=e.getMainWorkspace();if(t.name===e.navigation.actionNames.TOGGLE_KEYBOARD_NAV)return e.navigation.disableKeyboardAccessibility(),!0;if(t.name===e.navigation.actionNames.TOOLBOX)return o.getToolbox()?e.navigation.focusToolbox_():e.navigation.focusFlyout_(),!0;if(e.navigation.currentState_===e.navigation.STATE_WS){var n=!1;return(o=o.getCursor().getCurNode())&&o.getType()===e.ASTNode.types.FIELD&&(n=o.getLocation().onBlocklyAction(t)),n||(n=e.navigation.workspaceOnAction_(t)),n}return e.navigation.currentState_===e.navigation.STATE_FLYOUT?e.navigation.flyoutOnAction_(t):e.navigation.currentState_===e.navigation.STATE_TOOLBOX&&e.navigation.toolboxOnAction_(t)},e.navigation.workspaceOnAction_=function(t){var o=e.getMainWorkspace();switch(t.name){case e.navigation.actionNames.PREVIOUS:return o.getCursor().prev(),!0;case e.navigation.actionNames.OUT:return o.getCursor().out(),!0;case e.navigation.actionNames.NEXT:return o.getCursor().next(),!0;case e.navigation.actionNames.IN:return o.getCursor().in(),!0;case e.navigation.actionNames.INSERT:return e.navigation.modify_(),!0;case e.navigation.actionNames.MARK:return e.navigation.handleEnterForWS_(),!0;case e.navigation.actionNames.DISCONNECT:return e.navigation.disconnectBlocks_(),!0;default:return!1}},e.navigation.flyoutOnAction_=function(t){switch(t.name){case e.navigation.actionNames.PREVIOUS:return e.navigation.getFlyoutCursor_().prev(),!0;case e.navigation.actionNames.OUT:return e.navigation.focusToolbox_(),!0;case e.navigation.actionNames.NEXT:return e.navigation.getFlyoutCursor_().next(),!0;case e.navigation.actionNames.MARK:return e.navigation.insertFromFlyout(),!0;case e.navigation.actionNames.EXIT:return e.navigation.focusWorkspace_(),!0;default:return!1}},e.navigation.toolboxOnAction_=function(t){if(t.name===e.navigation.actionNames.EXIT)return e.navigation.focusWorkspace_(),!0;var o=e.getMainWorkspace().getToolbox().onBlocklyAction(t);return o||t.name!==e.navigation.actionNames.IN?o:(e.navigation.focusFlyout_(),!0)},e.navigation.handleEnterForWS_=function(){var t=e.getMainWorkspace().getCursor().getCurNode(),o=t.getType();o==e.ASTNode.types.FIELD?t.getLocation().showEditor_():t.isConnection()||o==e.ASTNode.types.WORKSPACE?e.navigation.markAtCursor_():o==e.ASTNode.types.BLOCK?e.navigation.warn_("Cannot mark a block."):o==e.ASTNode.types.STACK&&e.navigation.warn_("Cannot mark a stack.")},e.navigation.ACTION_PREVIOUS=new e.Action(e.navigation.actionNames.PREVIOUS,"Go to the previous location."),e.navigation.ACTION_OUT=new e.Action(e.navigation.actionNames.OUT,"Go to the parent of the current location."),e.navigation.ACTION_NEXT=new e.Action(e.navigation.actionNames.NEXT,"Go to the next location."),e.navigation.ACTION_IN=new e.Action(e.navigation.actionNames.IN,"Go to the first child of the current location."),e.navigation.ACTION_INSERT=new e.Action(e.navigation.actionNames.INSERT,"Connect the current location to the marked location."),e.navigation.ACTION_MARK=new e.Action(e.navigation.actionNames.MARK,"Mark the current location."),e.navigation.ACTION_DISCONNECT=new e.Action(e.navigation.actionNames.DISCONNECT,"Dicsonnect the block at thecurrent location from its parent."),e.navigation.ACTION_TOOLBOX=new e.Action(e.navigation.actionNames.TOOLBOX,"Open the toolbox."),e.navigation.ACTION_EXIT=new e.Action(e.navigation.actionNames.EXIT,"Close the current modal, such as a toolbox or field editor."),e.navigation.ACTION_TOGGLE_KEYBOARD_NAV=new e.Action(e.navigation.actionNames.TOGGLE_KEYBOARD_NAV,"Turns on and off keyboard navigation."),e.navigation.READONLY_ACTION_LIST=[e.navigation.ACTION_PREVIOUS,e.navigation.ACTION_OUT,e.navigation.ACTION_IN,e.navigation.ACTION_NEXT,e.navigation.ACTION_TOGGLE_KEYBOARD_NAV],e.Names=function(e,t){if(this.variablePrefix_=t||"",this.reservedDict_=Object.create(null),e)for(var o=e.split(","),n=0;n<o.length;n++)this.reservedDict_[o[n]]=!0;this.reset()},e.Names.DEVELOPER_VARIABLE_TYPE="DEVELOPER_VARIABLE",e.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null},e.Names.prototype.setVariableMap=function(e){this.variableMap_=e},e.Names.prototype.getNameForUserVariable_=function(e){return this.variableMap_?(e=this.variableMap_.getVariableById(e))?e.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),null)},e.Names.prototype.getName=function(t,o){if(o==e.Variables.NAME_TYPE){var n=this.getNameForUserVariable_(t);n&&(t=n)}n=t.toLowerCase()+"_"+o;var i=o==e.Variables.NAME_TYPE||o==e.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"";if(n in this.db_)return i+this.db_[n];var s=this.getDistinctName(t,o);return this.db_[n]=s.substr(i.length),s},e.Names.prototype.getDistinctName=function(t,o){for(var n=this.safeName_(t),i="";this.dbReverse_[n+i]||n+i in this.reservedDict_;)i=i?i+1:2;return n+=i,this.dbReverse_[n]=!0,(o==e.Variables.NAME_TYPE||o==e.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"")+n},e.Names.prototype.safeName_=function(t){return t?(t=encodeURI(t.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(t[0])&&(t="my_"+t)):t=e.Msg.UNNAMED_KEY||"unnamed",t},e.Names.equals=function(e,t){return e.toLowerCase()==t.toLowerCase()},e.Procedures={},e.Procedures.NAME_TYPE=e.PROCEDURE_CATEGORY_NAME,e.Procedures.allProcedures=function(t){t=t.getAllBlocks(!1);for(var o=[],n=[],i=0;i<t.length;i++)if(t[i].getProcedureDef){var s=t[i].getProcedureDef();s&&(s[2]?o.push(s):n.push(s))}return n.sort(e.Procedures.procTupleComparator_),o.sort(e.Procedures.procTupleComparator_),[n,o]},e.Procedures.procTupleComparator_=function(e,t){return e[0].toLowerCase().localeCompare(t[0].toLowerCase())},e.Procedures.findLegalName=function(t,o){if(o.isInFlyout)return t;for(t=t||e.Msg.UNNAMED_KEY||"unnamed";!e.Procedures.isLegalName_(t,o.workspace,o);){var n=t.match(/^(.*?)(\d+)$/);t=n?n[1]+(parseInt(n[2],10)+1):t+"2"}return t},e.Procedures.isLegalName_=function(t,o,n){return!e.Procedures.isNameUsed(t,o,n)},e.Procedures.isNameUsed=function(t,o,n){o=o.getAllBlocks(!1);for(var i=0;i<o.length;i++)if(o[i]!=n&&o[i].getProcedureDef){var s=o[i].getProcedureDef();if(e.Names.equals(s[0],t))return!0}return!1},e.Procedures.rename=function(t){t=t.trim();var o=e.Procedures.findLegalName(t,this.getSourceBlock()),n=this.getValue();if(n!=t&&n!=o){t=this.getSourceBlock().workspace.getAllBlocks(!1);for(var i=0;i<t.length;i++)t[i].renameProcedure&&t[i].renameProcedure(n,o)}return o},e.Procedures.flyoutCategory=function(t){function o(t,o){for(var i=0;i<t.length;i++){var s=t[i][0],a=t[i][1],r=e.utils.xml.createElement("block");r.setAttribute("type",o),r.setAttribute("gap",16);var l=e.utils.xml.createElement("mutation");for(l.setAttribute("name",s),r.appendChild(l),s=0;s<a.length;s++){var c=e.utils.xml.createElement("arg");c.setAttribute("name",a[s]),l.appendChild(c)}n.push(r)}}var n=[];if(e.Blocks.procedures_defnoreturn){var i=e.utils.xml.createElement("block");i.setAttribute("type","procedures_defnoreturn"),i.setAttribute("gap",16);var s=e.utils.xml.createElement("field");s.setAttribute("name","NAME"),s.appendChild(e.utils.xml.createTextNode(e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE)),i.appendChild(s),n.push(i)}return e.Blocks.procedures_defreturn&&((i=e.utils.xml.createElement("block")).setAttribute("type","procedures_defreturn"),i.setAttribute("gap",16),(s=e.utils.xml.createElement("field")).setAttribute("name","NAME"),s.appendChild(e.utils.xml.createTextNode(e.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),i.appendChild(s),n.push(i)),e.Blocks.procedures_ifreturn&&((i=e.utils.xml.createElement("block")).setAttribute("type","procedures_ifreturn"),i.setAttribute("gap",16),n.push(i)),n.length&&n[n.length-1].setAttribute("gap",24),o((t=e.Procedures.allProcedures(t))[0],"procedures_callnoreturn"),o(t[1],"procedures_callreturn"),n},e.Procedures.getCallers=function(t,o){for(var n=[],i=o.getAllBlocks(!1),s=0;s<i.length;s++)if(i[s].getProcedureCall){var a=i[s].getProcedureCall();a&&e.Names.equals(a,t)&&n.push(i[s])}return n},e.Procedures.mutateCallers=function(t){var o,n=e.Events.recordUndo,i=t.getProcedureDef()[0],s=t.mutationToDom(!0);for(t=e.Procedures.getCallers(i,t.workspace),i=0;o=t[i];i++){var a=o.mutationToDom();a=a&&e.Xml.domToText(a),o.domToMutation(s);var r=o.mutationToDom();a!=(r=r&&e.Xml.domToText(r))&&(e.Events.recordUndo=!1,e.Events.fire(new e.Events.BlockChange(o,"mutation",null,a,r)),e.Events.recordUndo=n)}},e.Procedures.getDefinition=function(t,o){for(var n=o.getTopBlocks(!1),i=0;i<n.length;i++)if(n[i].getProcedureDef){var s=n[i].getProcedureDef();if(s&&e.Names.equals(s[0],t))return n[i]}return null},e.VariableModel=function(t,o,n,i){this.workspace=t,this.name=o,this.type=n||"",this.id_=i||e.utils.genUid(),e.Events.fire(new e.Events.VarCreate(this))},e.VariableModel.prototype.getId=function(){return this.id_},e.VariableModel.compareByName=function(e,t){var o=e.name.toLowerCase(),n=t.name.toLowerCase();return o<n?-1:o==n?0:1},e.Variables={},e.Variables.NAME_TYPE=e.VARIABLE_CATEGORY_NAME,e.Variables.allUsedVarModels=function(e){var t=e.getAllBlocks(!1);e=Object.create(null);for(var o=0;o<t.length;o++){var n=t[o].getVarModels();if(n)for(var i=0;i<n.length;i++){var s=n[i],a=s.getId();a&&(e[a]=s)}}for(a in t=[],e)t.push(e[a]);return t},e.Variables.allUsedVariables=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")},e.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_={},e.Variables.allDeveloperVariables=function(t){t=t.getAllBlocks(!1);for(var o,n=Object.create(null),i=0;o=t[i];i++){var s=o.getDeveloperVariables;if(!s&&o.getDeveloperVars&&(s=o.getDeveloperVars,e.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[o.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+o.type+"')"),e.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[o.type]=!0)),s)for(o=s(),s=0;s<o.length;s++)n[o[s]]=!0}return Object.keys(n)},e.Variables.flyoutCategory=function(t){var o=[],n=document.createElement("button");return n.setAttribute("text","%{BKY_NEW_VARIABLE}"),n.setAttribute("callbackKey","CREATE_VARIABLE"),t.registerButtonCallback("CREATE_VARIABLE",(function(t){e.Variables.createVariableButtonHandler(t.getTargetWorkspace())})),o.push(n),t=e.Variables.flyoutCategoryBlocks(t),o.concat(t)},e.Variables.flyoutCategoryBlocks=function(t){var o=[];if(0<(t=t.getVariablesOfType("")).length){var n=t[t.length-1];if(e.Blocks.variables_set){var i=e.utils.xml.createElement("block");i.setAttribute("type","variables_set"),i.setAttribute("gap",e.Blocks.math_change?8:24),i.appendChild(e.Variables.generateVariableFieldDom(n)),o.push(i)}if(e.Blocks.math_change&&((i=e.utils.xml.createElement("block")).setAttribute("type","math_change"),i.setAttribute("gap",e.Blocks.variables_get?20:8),i.appendChild(e.Variables.generateVariableFieldDom(n)),n=e.Xml.textToDom('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),i.appendChild(n),o.push(i)),e.Blocks.variables_get){t.sort(e.VariableModel.compareByName),n=0;for(var s;s=t[n];n++)(i=e.utils.xml.createElement("block")).setAttribute("type","variables_get"),i.setAttribute("gap",8),i.appendChild(e.Variables.generateVariableFieldDom(s)),o.push(i)}}return o},e.Variables.generateUniqueName=function(e){var t="";if((e=e.getAllVariables()).length)for(var o=1,n=0,i="ijkmnopqrstuvwxyzabcdefgh".charAt(n);!t;){for(var s=!1,a=0;a<e.length;a++)if(e[a].name.toLowerCase()==i){s=!0;break}s?(25==++n&&(n=0,o++),i="ijkmnopqrstuvwxyzabcdefgh".charAt(n),1<o&&(i+=o)):t=i}else t="i";return t},e.Variables.createVariableButtonHandler=function(t,o,n){var i=n||"";!function n(s){e.Variables.promptName(e.Msg.NEW_VARIABLE_TITLE,s,(function(s){if(s){var a=e.Variables.nameUsedWithAnyType_(s,t);if(a){var r=s.toLowerCase();if(a.type==i)var l=e.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",r);else l=(l=e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE).replace("%1",r).replace("%2",a.type);e.alert(l,(function(){n(s)}))}else t.createVariable(s,i),o&&o(s)}else o&&o(null)}))}("")},e.Variables.createVariable=e.Variables.createVariableButtonHandler,e.Variables.renameVariable=function(t,o,n){!function i(s){var a=e.Msg.RENAME_VARIABLE_TITLE.replace("%1",o.name);e.Variables.promptName(a,s,(function(s){if(s){var a=e.Variables.nameUsedWithOtherType_(s,o.type,t);a?(a=e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",s.toLowerCase()).replace("%2",a.type),e.alert(a,(function(){i(s)}))):(t.renameVariableById(o.getId(),s),n&&n(s))}else n&&n(null)}))}("")},e.Variables.promptName=function(t,o,n){e.prompt(t,o,(function(t){t&&((t=t.replace(/[\s\xa0]+/g," ").trim())==e.Msg.RENAME_VARIABLE||t==e.Msg.NEW_VARIABLE)&&(t=null),n(t)}))},e.Variables.nameUsedWithOtherType_=function(e,t,o){o=o.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var n,i=0;n=o[i];i++)if(n.name.toLowerCase()==e&&n.type!=t)return n;return null},e.Variables.nameUsedWithAnyType_=function(e,t){var o=t.getVariableMap().getAllVariables();e=e.toLowerCase();for(var n,i=0;n=o[i];i++)if(n.name.toLowerCase()==e)return n;return null},e.Variables.generateVariableFieldDom=function(t){var o=e.utils.xml.createElement("field");return o.setAttribute("name","VAR"),o.setAttribute("id",t.getId()),o.setAttribute("variabletype",t.type),t=e.utils.xml.createTextNode(t.name),o.appendChild(t),o},e.Variables.getOrCreateVariablePackage=function(t,o,n,i){var s=e.Variables.getVariable(t,o,n,i);return s||(s=e.Variables.createVariable_(t,o,n,i)),s},e.Variables.getVariable=function(e,t,o,n){var i=e.getPotentialVariableMap();if(t){var s=e.getVariableById(t);if(!s&&i&&(s=i.getVariableById(t)),s)return s}if(o){if(void 0==n)throw Error("Tried to look up a variable by name without a type");!(s=e.getVariable(o,n))&&i&&(s=i.getVariable(o,n))}return s},e.Variables.createVariable_=function(t,o,n,i){var s=t.getPotentialVariableMap();return n||(n=e.Variables.generateUniqueName(t.isFlyout?t.targetWorkspace:t)),s?s.createVariable(n,i,o):t.createVariable(n,i,o)},e.Variables.getAddedVariables=function(e,t){var o=e.getAllVariables(),n=[];if(t.length!=o.length)for(var i=0;i<o.length;i++){var s=o[i];-1==t.indexOf(s)&&n.push(s)}return n},e.WidgetDiv={},e.WidgetDiv.DIV=null,e.WidgetDiv.owner_=null,e.WidgetDiv.dispose_=null,e.WidgetDiv.createDom=function(){e.WidgetDiv.DIV||(e.WidgetDiv.DIV=document.createElement("div"),e.WidgetDiv.DIV.className="blocklyWidgetDiv",document.body.appendChild(e.WidgetDiv.DIV))},e.WidgetDiv.show=function(t,o,n){e.WidgetDiv.hide(),e.WidgetDiv.owner_=t,e.WidgetDiv.dispose_=n,t=e.utils.style.getViewportPageOffset(),e.WidgetDiv.DIV.style.top=t.y+"px",e.WidgetDiv.DIV.style.direction=o?"rtl":"ltr",e.WidgetDiv.DIV.style.display="block"},e.WidgetDiv.hide=function(){e.WidgetDiv.owner_&&(e.WidgetDiv.owner_=null,e.WidgetDiv.DIV.style.display="none",e.WidgetDiv.DIV.style.left="",e.WidgetDiv.DIV.style.top="",e.WidgetDiv.dispose_&&e.WidgetDiv.dispose_(),e.WidgetDiv.dispose_=null,e.WidgetDiv.DIV.innerHTML="")},e.WidgetDiv.isVisible=function(){return!!e.WidgetDiv.owner_},e.WidgetDiv.hideIfOwner=function(t){e.WidgetDiv.owner_==t&&e.WidgetDiv.hide()},e.WidgetDiv.positionInternal_=function(t,o,n){e.WidgetDiv.DIV.style.left=t+"px",e.WidgetDiv.DIV.style.top=o+"px",e.WidgetDiv.DIV.style.height=n+"px"},e.WidgetDiv.positionWithAnchor=function(t,o,n,i){var s=e.WidgetDiv.calculateY_(t,o,n);t=e.WidgetDiv.calculateX_(t,o,n,i),0>s?e.WidgetDiv.positionInternal_(t,0,n.height+s):e.WidgetDiv.positionInternal_(t,s,n.height)},e.WidgetDiv.calculateX_=function(e,t,o,n){return n?(t=Math.max(t.right-o.width,e.left),Math.min(t,e.right-o.width)):(t=Math.min(t.left,e.right-o.width),Math.max(t,e.left))},e.WidgetDiv.calculateY_=function(e,t,o){return t.bottom+o.height>=e.bottom?t.top-o.height:t.bottom},e.VERSION="3.20191014.1",e.mainWorkspace=null,e.selected=null,e.cursor=null,e.keyboardAccessibilityMode=!1,e.draggingConnections_=[],e.clipboardXml_=null,e.clipboardSource_=null,e.clipboardTypeCounts_=null,e.cache3dSupported_=null,e.svgSize=function(e){return{width:e.cachedWidth_,height:e.cachedHeight_}},e.resizeSvgContents=function(e){e.resizeContents()},e.svgResize=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;var t=e.getParentSvg(),o=t.parentNode;if(o){var n=o.offsetWidth;o=o.offsetHeight,t.cachedWidth_!=n&&(t.setAttribute("width",n+"px"),t.cachedWidth_=n),t.cachedHeight_!=o&&(t.setAttribute("height",o+"px"),t.cachedHeight_=o),e.resize()}},e.onKeyDown_=function(t){var o=e.mainWorkspace;if(!(e.utils.isTargetInput(t)||o.rendered&&!o.isVisible()))if(o.options.readOnly)e.navigation.onKeyPress(t);else{var n=!1;if(t.keyCode==e.utils.KeyCodes.ESC)e.hideChaff(),e.navigation.onBlocklyAction(e.navigation.ACTION_EXIT);else{if(e.navigation.onKeyPress(t))return;if(t.keyCode==e.utils.KeyCodes.BACKSPACE||t.keyCode==e.utils.KeyCodes.DELETE){if(t.preventDefault(),e.Gesture.inProgress())return;e.selected&&e.selected.isDeletable()&&(n=!0)}else if(t.altKey||t.ctrlKey||t.metaKey){if(e.Gesture.inProgress())return;e.selected&&e.selected.isDeletable()&&e.selected.isMovable()&&(t.keyCode==e.utils.KeyCodes.C?(e.hideChaff(),e.copy_(e.selected)):t.keyCode!=e.utils.KeyCodes.X||e.selected.workspace.isFlyout||(e.copy_(e.selected),n=!0)),t.keyCode==e.utils.KeyCodes.V?e.clipboardXml_&&((t=e.clipboardSource_).isFlyout&&(t=t.targetWorkspace),e.clipboardTypeCounts_&&t.isCapacityAvailable(e.clipboardTypeCounts_)&&(e.Events.setGroup(!0),t.paste(e.clipboardXml_),e.Events.setGroup(!1))):t.keyCode==e.utils.KeyCodes.Z&&(e.hideChaff(),o.undo(t.shiftKey))}}n&&!e.selected.workspace.isFlyout&&(e.Events.setGroup(!0),e.hideChaff(),e.selected.dispose(!0,!0),e.Events.setGroup(!1))}},e.copy_=function(t){if(t.isComment)var o=t.toXmlWithXY();else{o=e.Xml.blockToDom(t,!0),e.Xml.deleteNext(o);var n=t.getRelativeToSurfaceXY();o.setAttribute("x",t.RTL?-n.x:n.x),o.setAttribute("y",n.y)}e.clipboardXml_=o,e.clipboardSource_=t.workspace,e.clipboardTypeCounts_=t.isComment?null:e.utils.getBlockTypeCounts(t,!0)},e.duplicate_=function(t){var o=e.clipboardXml_,n=e.clipboardSource_;e.copy_(t),t.workspace.paste(e.clipboardXml_),e.clipboardXml_=o,e.clipboardSource_=n},e.onContextMenu_=function(t){e.utils.isTargetInput(t)||t.preventDefault()},e.hideChaff=function(t){e.Tooltip.hide(),e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation(),t||((t=e.getMainWorkspace()).trashcan&&t.trashcan.flyout_&&t.trashcan.flyout_.hide(),t.toolbox_&&t.toolbox_.flyout_&&t.toolbox_.flyout_.autoClose&&t.toolbox_.clearSelection())},e.getMainWorkspace=function(){return e.mainWorkspace},e.alert=function(e,t){alert(e),t&&t()},e.confirm=function(e,t){t(confirm(e))},e.prompt=function(e,t,o){o(prompt(e,t))},e.jsonInitFactory_=function(e){return function(){this.jsonInit(e)}},e.defineBlocksWithJsonArray=function(t){for(var o=0;o<t.length;o++){var n=t[o];if(n){var i=n.type;null==i||""===i?console.warn("Block definition #"+o+" in JSON array is missing a type attribute. Skipping."):(e.Blocks[i]&&console.warn("Block definition #"+o+' in JSON array overwrites prior definition of "'+i+'".'),e.Blocks[i]={init:e.jsonInitFactory_(n)})}else console.warn("Block definition #"+o+" in JSON array is "+n+". Skipping.")}},e.bindEventWithChecks_=function(t,o,n,i,s,a){var r=!1,l=function(t){var o=!s;t=e.Touch.splitEventByTouches(t);for(var a,l=0;a=t[l];l++)o&&!e.Touch.shouldHandleEvent(a)||(e.Touch.setClientFromTouch(a),n?i.call(n,a):i(a),r=!0)},c=[];if(e.utils.global.PointerEvent&&o in e.Touch.TOUCH_MAP)for(var u,h=0;u=e.Touch.TOUCH_MAP[o][h];h++)t.addEventListener(u,l,!1),c.push([t,u,l]);else if(t.addEventListener(o,l,!1),c.push([t,o,l]),o in e.Touch.TOUCH_MAP){var p=function(e){l(e),r&&!a&&e.preventDefault()};for(h=0;u=e.Touch.TOUCH_MAP[o][h];h++)t.addEventListener(u,p,!1),c.push([t,u,p])}return c},e.bindEvent_=function(t,o,n,i){var s=function(e){n?i.call(n,e):i(e)},a=[];if(e.utils.global.PointerEvent&&o in e.Touch.TOUCH_MAP)for(var r,l=0;r=e.Touch.TOUCH_MAP[o][l];l++)t.addEventListener(r,s,!1),a.push([t,r,s]);else if(t.addEventListener(o,s,!1),a.push([t,o,s]),o in e.Touch.TOUCH_MAP){var c=function(e){if(e.changedTouches&&1==e.changedTouches.length){var t=e.changedTouches[0];e.clientX=t.clientX,e.clientY=t.clientY}s(e),e.preventDefault()};for(l=0;r=e.Touch.TOUCH_MAP[o][l];l++)t.addEventListener(r,c,!1),a.push([t,r,c])}return a},e.unbindEvent_=function(e){for(;e.length;){var t=e.pop(),o=t[2];t[0].removeEventListener(t[1],o,!1)}return o},e.isNumber=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},e.hueToHex=function(t){return e.utils.colour.hsvToHex(t,e.HSV_SATURATION,255*e.HSV_VALUE)},e.checkBlockColourConstants=function(){e.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0),e.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210),e.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0),e.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120),e.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0),e.checkBlockColourConstant_("MATH_HUE",["Constants","Math","HUE"],230),e.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0),e.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160),e.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0),e.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260),e.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0),e.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20),e.checkBlockColourConstant_("VARIABLES_HUE",["Blocks","variables","HUE"],void 0),e.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330),e.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310),e.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)},e.checkBlockColourConstant_=function(t,o,n){for(var i="Blockly",s=e,a=0;a<o.length;++a)i+="."+o[a],s&&(s=s[o[a]]);s&&s!==n&&(t=(void 0===n?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",i).replace("%2",t),console.warn(t))},e.Comment=function(t){e.Comment.superClass_.constructor.call(this,t),this.model_=t.commentModel,this.model_.text=this.model_.text||"",this.cachedText_="",this.createIcon()},e.utils.object.inherits(e.Comment,e.Icon),e.Comment.prototype.drawIcon_=function(t){e.utils.dom.createSvgElement("circle",{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},t),e.utils.dom.createSvgElement("path",{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},t),e.utils.dom.createSvgElement("rect",{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},t)},e.Comment.prototype.createEditor_=function(){this.foreignObject_=e.utils.dom.createSvgElement("foreignObject",{x:e.Bubble.BORDER_WIDTH,y:e.Bubble.BORDER_WIDTH},null);var t=document.createElementNS(e.utils.dom.HTML_NS,"body");t.setAttribute("xmlns",e.utils.dom.HTML_NS),t.className="blocklyMinimalBody";var o=this.textarea_=document.createElementNS(e.utils.dom.HTML_NS,"textarea");return o.className="blocklyCommentTextarea",o.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),o.value=this.model_.text,this.resizeTextarea_(),t.appendChild(o),this.foreignObject_.appendChild(t),e.bindEventWithChecks_(o,"mouseup",this,this.startEdit_,!0,!0),e.bindEventWithChecks_(o,"wheel",this,(function(e){e.stopPropagation()})),e.bindEventWithChecks_(o,"change",this,(function(t){this.cachedText_!=this.model_.text&&e.Events.fire(new e.Events.BlockChange(this.block_,"comment",null,this.cachedText_,this.model_.text))})),e.bindEventWithChecks_(o,"input",this,(function(e){this.model_.text=o.value})),setTimeout(o.focus.bind(o),0),this.foreignObject_},e.Comment.prototype.updateEditable=function(){e.Comment.superClass_.updateEditable.call(this),this.isVisible()&&(this.disposeBubble_(),this.createBubble_())},e.Comment.prototype.onBubbleResize_=function(){this.isVisible()&&(this.model_.size=this.bubble_.getBubbleSize(),this.resizeTextarea_())},e.Comment.prototype.resizeTextarea_=function(){var t=this.model_.size,o=2*e.Bubble.BORDER_WIDTH,n=t.width-o;t=t.height-o,this.foreignObject_.setAttribute("width",n),this.foreignObject_.setAttribute("height",t),this.textarea_.style.width=n-4+"px",this.textarea_.style.height=t-4+"px"},e.Comment.prototype.setVisible=function(t){t!=this.isVisible()&&(e.Events.fire(new e.Events.Ui(this.block_,"commentOpen",!t,t)),(this.model_.pinned=t)?this.createBubble_():this.disposeBubble_())},e.Comment.prototype.createBubble_=function(){!this.block_.isEditable()||e.utils.userAgent.IE?this.createNonEditableBubble_():this.createEditableBubble_()},e.Comment.prototype.createEditableBubble_=function(){this.bubble_=new e.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,this.model_.size.width,this.model_.size.height),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.onBubbleResize_.bind(this)),this.updateColour()},e.Comment.prototype.createNonEditableBubble_=function(){e.Warning.prototype.createBubble.call(this)},e.Comment.prototype.disposeBubble_=function(){this.paragraphElement_?e.Warning.prototype.disposeBubble.call(this):(this.bubble_.dispose(),this.foreignObject_=this.textarea_=this.bubble_=null)},e.Comment.prototype.startEdit_=function(e){this.bubble_.promote_()&&this.textarea_.focus(),this.cachedText_=this.model_.text},e.Comment.prototype.getBubbleSize=function(){return this.model_.size},e.Comment.prototype.setBubbleSize=function(e,t){this.bubble_?this.bubble_.setBubbleSize(e,t):(this.model_.size.width=e,this.model_.size.height=t)},e.Comment.prototype.getText=function(){return this.model_.text||""},e.Comment.prototype.setText=function(e){this.model_.text!=e&&(this.model_.text=e,this.updateText())},e.Comment.prototype.updateText=function(){this.textarea_?this.textarea_.value=this.model_.text:this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model_.text)},e.Comment.prototype.dispose=function(){this.block_.comment=null,e.Icon.prototype.dispose.call(this)},e.tree={},e.tree.BaseNode=function(t,o){e.Component.call(this),this.config_=o,this.content_=t,this.expanded_=this.selected_=!1,this.toolTip_=null,this.isUserCollapsible_=!0,this.depth_=-1},e.utils.object.inherits(e.tree.BaseNode,e.Component),e.tree.BaseNode.allNodes={},e.tree.BaseNode.prototype.disposeInternal=function(){e.tree.BaseNode.superClass_.disposeInternal.call(this),this.tree&&(this.tree=null),this.setElementInternal(null)},e.tree.BaseNode.prototype.initAccessibility=function(){var t=this.getElement();if(t){var o=this.getLabelElement();if(o&&!o.id&&(o.id=this.getId()+".label"),e.utils.aria.setRole(t,e.utils.aria.Role.TREEITEM),e.utils.aria.setState(t,e.utils.aria.State.SELECTED,!1),e.utils.aria.setState(t,e.utils.aria.State.LEVEL,this.getDepth()),o&&e.utils.aria.setState(t,e.utils.aria.State.LABELLEDBY,o.id),(o=this.getIconElement())&&e.utils.aria.setRole(o,e.utils.aria.Role.PRESENTATION),(o=this.getChildrenElement())&&(e.utils.aria.setRole(o,e.utils.aria.Role.GROUP),o.hasChildNodes()))for(e.utils.aria.setState(t,e.utils.aria.State.EXPANDED,!1),t=this.getChildCount(),o=1;o<=t;o++){var n=this.getChildAt(o-1).getElement();e.utils.aria.setState(n,e.utils.aria.State.SETSIZE,t),e.utils.aria.setState(n,e.utils.aria.State.POSINSET,o)}}},e.tree.BaseNode.prototype.createDom=function(){var e=document.createElement("div");e.appendChild(this.toDom()),this.setElementInternal(e)},e.tree.BaseNode.prototype.enterDocument=function(){e.tree.BaseNode.superClass_.enterDocument.call(this),e.tree.BaseNode.allNodes[this.getId()]=this,this.initAccessibility()},e.tree.BaseNode.prototype.exitDocument=function(){e.tree.BaseNode.superClass_.exitDocument.call(this),delete e.tree.BaseNode.allNodes[this.getId()]},e.tree.BaseNode.prototype.addChildAt=function(t,o){var n=this.getChildAt(o-1),i=this.getChildAt(o);e.tree.BaseNode.superClass_.addChildAt.call(this,t,o),t.previousSibling_=n,t.nextSibling_=i,n?n.nextSibling_=t:this.firstChild_=t,i?i.previousSibling_=t:this.lastChild_=t;var s=this.getTree();if(s&&t.setTreeInternal(s),t.setDepth_(this.getDepth()+1),(s=this.getElement())&&(this.updateExpandIcon(),e.utils.aria.setState(s,e.utils.aria.State.EXPANDED,this.getExpanded()),this.getExpanded())){s=this.getChildrenElement(),t.getElement()||t.createDom();var a=t.getElement(),r=i&&i.getElement();s.insertBefore(a,r),this.isInDocument()&&t.enterDocument(),i||(n?n.updateExpandIcon():(e.utils.style.setElementShown(s,!0),this.setExpanded(this.getExpanded())))}},e.tree.BaseNode.prototype.add=function(t){if(t.getParent())throw Error(e.Component.Error.PARENT_UNABLE_TO_BE_SET);this.addChildAt(t,this.getChildCount())},e.tree.BaseNode.prototype.getTree=function(){return null},e.tree.BaseNode.prototype.getDepth=function(){var e=this.depth_;return 0>e&&(e=this.computeDepth_(),this.setDepth_(e)),e},e.tree.BaseNode.prototype.computeDepth_=function(){var e=this.getParent();return e?e.getDepth()+1:0},e.tree.BaseNode.prototype.setDepth_=function(e){if(e!=this.depth_){this.depth_=e;var t=this.getRowElement();if(t){var o=this.getPixelIndent_()+"px";this.isRightToLeft()?t.style.paddingRight=o:t.style.paddingLeft=o}this.forEachChild((function(t){t.setDepth_(e+1)}))}},e.tree.BaseNode.prototype.contains=function(e){for(;e;){if(e==this)return!0;e=e.getParent()}return!1},e.tree.BaseNode.prototype.getChildren=function(){var e=[];return this.forEachChild((function(t){e.push(t)})),e},e.tree.BaseNode.prototype.getFirstChild=function(){return this.getChildAt(0)},e.tree.BaseNode.prototype.getLastChild=function(){return this.getChildAt(this.getChildCount()-1)},e.tree.BaseNode.prototype.getPreviousSibling=function(){return this.previousSibling_},e.tree.BaseNode.prototype.getNextSibling=function(){return this.nextSibling_},e.tree.BaseNode.prototype.isLastSibling=function(){return!this.nextSibling_},e.tree.BaseNode.prototype.isSelected=function(){return this.selected_},e.tree.BaseNode.prototype.select=function(){var e=this.getTree();e&&e.setSelectedItem(this)},e.tree.BaseNode.prototype.selectFirst=function(){var e=this.getTree();e&&this.firstChild_&&e.setSelectedItem(this.firstChild_)},e.tree.BaseNode.prototype.setSelectedInternal=function(t){if(this.selected_!=t){this.selected_=t,this.updateRow();var o=this.getElement();o&&(e.utils.aria.setState(o,e.utils.aria.State.SELECTED,t),t&&(t=this.getTree().getElement(),e.utils.aria.setState(t,e.utils.aria.State.ACTIVEDESCENDANT,this.getId())))}},e.tree.BaseNode.prototype.getExpanded=function(){return this.expanded_},e.tree.BaseNode.prototype.setExpandedInternal=function(e){this.expanded_=e},e.tree.BaseNode.prototype.setExpanded=function(t){var o,n=t!=this.expanded_;this.expanded_=t;var i=this.getTree(),s=this.getElement();this.hasChildren()?(!t&&i&&this.contains(i.getSelectedItem())&&this.select(),s&&((o=this.getChildrenElement())&&(e.utils.style.setElementShown(o,t),e.utils.aria.setState(s,e.utils.aria.State.EXPANDED,t),t&&this.isInDocument()&&!o.hasChildNodes()&&(this.forEachChild((function(e){o.appendChild(e.toDom())})),this.forEachChild((function(e){e.enterDocument()})))),this.updateExpandIcon())):(o=this.getChildrenElement())&&e.utils.style.setElementShown(o,!1),s&&this.updateIcon_(),n&&(t?this.doNodeExpanded():this.doNodeCollapsed())},e.tree.BaseNode.prototype.doNodeExpanded=function(){},e.tree.BaseNode.prototype.doNodeCollapsed=function(){},e.tree.BaseNode.prototype.toggle=function(){this.setExpanded(!this.getExpanded())},e.tree.BaseNode.prototype.isUserCollapsible=function(){return this.isUserCollapsible_},e.tree.BaseNode.prototype.toDom=function(){var e=this.getExpanded()&&this.hasChildren(),t=document.createElement("div");return t.style.backgroundPosition=this.getBackgroundPosition(),e||(t.style.display="none"),e&&this.forEachChild((function(e){t.appendChild(e.toDom())})),(e=document.createElement("div")).id=this.getId(),e.appendChild(this.getRowDom()),e.appendChild(t),e},e.tree.BaseNode.prototype.getPixelIndent_=function(){return Math.max(0,(this.getDepth()-1)*this.config_.indentWidth)},e.tree.BaseNode.prototype.getRowDom=function(){var e=document.createElement("div");return e.className=this.getRowClassName(),e.style["padding-"+(this.isRightToLeft()?"right":"left")]=this.getPixelIndent_()+"px",e.appendChild(this.getIconDom()),e.appendChild(this.getLabelDom()),e},e.tree.BaseNode.prototype.getRowClassName=function(){var e="";return this.isSelected()&&(e=" "+(this.config_.cssSelectedRow||"")),this.config_.cssTreeRow+e},e.tree.BaseNode.prototype.getLabelDom=function(){var e=document.createElement("span");return e.className=this.config_.cssItemLabel||"",e.textContent=this.getText(),e},e.tree.BaseNode.prototype.getIconDom=function(){var e=document.createElement("span");return e.style.display="inline-block",e.className=this.getCalculatedIconClass(),e},e.tree.BaseNode.prototype.getCalculatedIconClass=function(){throw Error("unimplemented abstract method")},e.tree.BaseNode.prototype.getBackgroundPosition=function(){return(this.isLastSibling()?"-100":(this.getDepth()-1)*this.config_.indentWidth)+"px 0"},e.tree.BaseNode.prototype.getElement=function(){var t=e.tree.BaseNode.superClass_.getElement.call(this);return t||(t=document.getElementById(this.getId()),this.setElementInternal(t)),t},e.tree.BaseNode.prototype.getRowElement=function(){var e=this.getElement();return e?e.firstChild:null},e.tree.BaseNode.prototype.getIconElement=function(){var e=this.getRowElement();return e?e.firstChild:null},e.tree.BaseNode.prototype.getLabelElement=function(){var e=this.getRowElement();return e&&e.lastChild?e.lastChild.previousSibling:null},e.tree.BaseNode.prototype.getChildrenElement=function(){var e=this.getElement();return e?e.lastChild:null},e.tree.BaseNode.prototype.getIconClass=function(){return this.iconClass_},e.tree.BaseNode.prototype.getExpandedIconClass=function(){return this.expandedIconClass_},e.tree.BaseNode.prototype.setText=function(e){this.content_=e},e.tree.BaseNode.prototype.getText=function(){return this.content_},e.tree.BaseNode.prototype.updateRow=function(){var e=this.getRowElement();e&&(e.className=this.getRowClassName())},e.tree.BaseNode.prototype.updateExpandIcon=function(){var e=this.getChildrenElement();e&&(e.style.backgroundPosition=this.getBackgroundPosition())},e.tree.BaseNode.prototype.updateIcon_=function(){this.getIconElement().className=this.getCalculatedIconClass()},e.tree.BaseNode.prototype.onMouseDown=function(e){"expand"==e.target.getAttribute("type")&&this.hasChildren()?this.isUserCollapsible_&&this.toggle():(this.select(),this.updateRow())},e.tree.BaseNode.prototype.onClick_=function(e){e.preventDefault()},e.tree.BaseNode.prototype.onKeyDown=function(t){var o=!0;switch(t.keyCode){case e.utils.KeyCodes.RIGHT:if(t.altKey)break;o=this.selectChild();break;case e.utils.KeyCodes.LEFT:if(t.altKey)break;o=this.selectParent();break;case e.utils.KeyCodes.DOWN:o=this.selectNext();break;case e.utils.KeyCodes.UP:o=this.selectPrevious();break;default:o=!1}return o&&t.preventDefault(),o},e.tree.BaseNode.prototype.selectNext=function(){var e=this.getNextShownNode();return e&&e.select(),!0},e.tree.BaseNode.prototype.selectPrevious=function(){var e=this.getPreviousShownNode();return e&&e.select(),!0},e.tree.BaseNode.prototype.selectParent=function(){if(this.hasChildren()&&this.getExpanded()&&this.isUserCollapsible_)this.setExpanded(!1);else{var e=this.getParent(),t=this.getTree();e&&e!=t&&e.select()}return!0},e.tree.BaseNode.prototype.selectChild=function(){return!!this.hasChildren()&&(this.getExpanded()?this.getFirstChild().select():this.setExpanded(!0),!0)},e.tree.BaseNode.prototype.getLastShownDescendant=function(){return this.getExpanded()&&this.hasChildren()?this.getLastChild().getLastShownDescendant():this},e.tree.BaseNode.prototype.getNextShownNode=function(){if(this.hasChildren()&&this.getExpanded())return this.getFirstChild();for(var e,t=this;t!=this.getTree();){if(null!=(e=t.getNextSibling()))return e;t=t.getParent()}return null},e.tree.BaseNode.prototype.getPreviousShownNode=function(){var e=this.getPreviousSibling();if(null!=e)return e.getLastShownDescendant();e=this.getParent();var t=this.getTree();return e==t||this==t?null:e},e.tree.BaseNode.prototype.getConfig=function(){return this.config_},e.tree.BaseNode.prototype.setTreeInternal=function(e){this.tree!=e&&(this.tree=e,this.forEachChild((function(t){t.setTreeInternal(e)})))},e.tree.TreeNode=function(t,o,n){this.toolbox_=t,e.tree.BaseNode.call(this,o,n)},e.utils.object.inherits(e.tree.TreeNode,e.tree.BaseNode),e.tree.TreeNode.prototype.getTree=function(){if(this.tree)return this.tree;var e=this.getParent();return e&&(e=e.getTree())?(this.setTreeInternal(e),e):null},e.tree.TreeNode.prototype.getCalculatedIconClass=function(){var e=this.getExpanded(),t=this.getExpandedIconClass();if(e&&t)return t;if(t=this.getIconClass(),!e&&t)return t;if(t=this.getConfig(),this.hasChildren()){if(e&&t.cssExpandedFolderIcon)return t.cssTreeIcon+" "+t.cssExpandedFolderIcon;if(!e&&t.cssCollapsedFolderIcon)return t.cssTreeIcon+" "+t.cssCollapsedFolderIcon}else if(t.cssFileIcon)return t.cssTreeIcon+" "+t.cssFileIcon;return""},e.tree.TreeNode.prototype.onClick_=function(e){this.hasChildren()&&this.isUserCollapsible()?(this.toggle(),this.select()):this.isSelected()?this.getTree().setSelectedItem(null):this.select(),this.updateRow()},e.tree.TreeNode.prototype.onMouseDown=function(e){},e.tree.TreeNode.prototype.onKeyDown=function(t){if(this.tree.toolbox_.horizontalLayout_){var o={},n=e.utils.KeyCodes.DOWN,i=e.utils.KeyCodes.UP;o[e.utils.KeyCodes.RIGHT]=this.isRightToLeft()?i:n,o[e.utils.KeyCodes.LEFT]=this.isRightToLeft()?n:i,o[e.utils.KeyCodes.UP]=e.utils.KeyCodes.LEFT,o[e.utils.KeyCodes.DOWN]=e.utils.KeyCodes.RIGHT,Object.defineProperties(t,{keyCode:{value:o[t.keyCode]||t.keyCode}})}return e.tree.TreeNode.superClass_.onKeyDown.call(this,t)},e.tree.TreeNode.prototype.onSizeChanged=function(e){this.onSizeChanged_=e},e.tree.TreeNode.prototype.resizeToolbox_=function(){this.onSizeChanged_&&this.onSizeChanged_.call(this.toolbox_)},e.tree.TreeNode.prototype.doNodeExpanded=e.tree.TreeNode.prototype.resizeToolbox_,e.tree.TreeNode.prototype.doNodeCollapsed=e.tree.TreeNode.prototype.resizeToolbox_,e.tree.TreeControl=function(t,o){this.toolbox_=t,e.tree.BaseNode.call(this,"",o),this.setExpandedInternal(!0),this.setSelectedInternal(!0),this.selectedItem_=this},e.utils.object.inherits(e.tree.TreeControl,e.tree.BaseNode),e.tree.TreeControl.prototype.getTree=function(){return this},e.tree.TreeControl.prototype.getToolbox=function(){return this.toolbox_},e.tree.TreeControl.prototype.getDepth=function(){return 0},e.tree.TreeControl.prototype.handleFocus_=function(t){this.focused_=!0,t=this.getElement(),e.utils.dom.addClass(t,"focused"),this.selectedItem_&&this.selectedItem_.select()},e.tree.TreeControl.prototype.handleBlur_=function(t){this.focused_=!1,t=this.getElement(),e.utils.dom.removeClass(t,"focused")},e.tree.TreeControl.prototype.hasFocus=function(){return this.focused_},e.tree.TreeControl.prototype.getExpanded=function(){return!0},e.tree.TreeControl.prototype.setExpanded=function(e){this.setExpandedInternal(e)},e.tree.TreeControl.prototype.getIconElement=function(){var e=this.getRowElement();return e?e.firstChild:null},e.tree.TreeControl.prototype.updateExpandIcon=function(){},e.tree.TreeControl.prototype.getRowClassName=function(){return e.tree.TreeControl.superClass_.getRowClassName.call(this)+" "+this.getConfig().cssHideRoot},e.tree.TreeControl.prototype.getCalculatedIconClass=function(){var e=this.getExpanded(),t=this.getExpandedIconClass();return e&&t?t:(t=this.getIconClass(),!e&&t?t:(t=this.getConfig(),e&&t.cssExpandedRootIcon?t.cssTreeIcon+" "+t.cssExpandedRootIcon:""))},e.tree.TreeControl.prototype.setSelectedItem=function(e){if(e!=this.selectedItem_&&(!this.onBeforeSelected_||this.onBeforeSelected_.call(this.toolbox_,e))){var t=this.getSelectedItem();this.selectedItem_&&this.selectedItem_.setSelectedInternal(!1),(this.selectedItem_=e)&&e.setSelectedInternal(!0),this.onAfterSelected_&&this.onAfterSelected_.call(this.toolbox_,t,e)}},e.tree.TreeControl.prototype.onBeforeSelected=function(e){this.onBeforeSelected_=e},e.tree.TreeControl.prototype.onAfterSelected=function(e){this.onAfterSelected_=e},e.tree.TreeControl.prototype.getSelectedItem=function(){return this.selectedItem_},e.tree.TreeControl.prototype.initAccessibility=function(){e.tree.TreeControl.superClass_.initAccessibility.call(this);var t=this.getElement();e.utils.aria.setRole(t,e.utils.aria.Role.TREE),e.utils.aria.setState(t,e.utils.aria.State.LABELLEDBY,this.getLabelElement().id)},e.tree.TreeControl.prototype.enterDocument=function(){e.tree.TreeControl.superClass_.enterDocument.call(this);var t=this.getElement();t.className=this.getConfig().cssRoot,t.setAttribute("hideFocus","true"),this.attachEvents_(),this.initAccessibility()},e.tree.TreeControl.prototype.exitDocument=function(){e.tree.TreeControl.superClass_.exitDocument.call(this),this.detachEvents_()},e.tree.TreeControl.prototype.attachEvents_=function(){var t=this.getElement();t.tabIndex=0,this.onFocusWrapper_=e.bindEvent_(t,"focus",this,this.handleFocus_),this.onBlurWrapper_=e.bindEvent_(t,"blur",this,this.handleBlur_),this.onClickWrapper_=e.bindEventWithChecks_(t,"click",this,this.handleMouseEvent_),this.onKeydownWrapper_=e.bindEvent_(t,"keydown",this,this.handleKeyEvent_)},e.tree.TreeControl.prototype.detachEvents_=function(){e.unbindEvent_(this.onFocusWrapper_),e.unbindEvent_(this.onBlurWrapper_),e.unbindEvent_(this.onClickWrapper_),e.unbindEvent_(this.onKeydownWrapper_)},e.tree.TreeControl.prototype.handleMouseEvent_=function(e){var t=this.getNodeFromEvent_(e);if(t)switch(e.type){case"mousedown":t.onMouseDown(e);break;case"click":t.onClick_(e)}},e.tree.TreeControl.prototype.handleKeyEvent_=function(t){var o=!1;return(o=this.selectedItem_&&this.selectedItem_.onKeyDown(t)||o)&&(e.utils.style.scrollIntoContainerView(this.selectedItem_.getElement(),this.getElement().parentNode),t.preventDefault()),o},e.tree.TreeControl.prototype.getNodeFromEvent_=function(t){for(var o=t.target;null!=o;){if(t=e.tree.BaseNode.allNodes[o.id])return t;if(o==this.getElement())break;o=o.parentNode}return null},e.tree.TreeControl.prototype.createNode=function(t){return new e.tree.TreeNode(this.toolbox_,t||"",this.getConfig())},e.FieldTextInput=function(t,o,n){this.spellcheck_=!0,null==t&&(t=""),e.FieldTextInput.superClass_.constructor.call(this,t,o,n)},e.utils.object.inherits(e.FieldTextInput,e.Field),e.FieldTextInput.fromJson=function(t){var o=e.utils.replaceMessageReferences(t.text);return new e.FieldTextInput(o,void 0,t)},e.FieldTextInput.prototype.SERIALIZABLE=!0,e.FieldTextInput.FONTSIZE=11,e.FieldTextInput.BORDERRADIUS=4,e.FieldTextInput.prototype.CURSOR="text",e.FieldTextInput.prototype.configure_=function(t){e.FieldTextInput.superClass_.configure_.call(this,t),"boolean"==typeof t.spellcheck&&(this.spellcheck_=t.spellcheck)},e.FieldTextInput.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:String(e)},e.FieldTextInput.prototype.doValueInvalid_=function(t){this.isBeingEdited_&&(this.isTextValid_=!1,t=this.value_,this.value_=this.htmlInput_.untypedDefaultValue_,this.sourceBlock_&&e.Events.isEnabled()&&e.Events.fire(new e.Events.BlockChange(this.sourceBlock_,"field",this.name||null,t,this.value_)))},e.FieldTextInput.prototype.doValueUpdate_=function(e){this.isTextValid_=!0,this.value_=e,this.isBeingEdited_||(this.isDirty_=!0)},e.FieldTextInput.prototype.render_=function(){e.FieldTextInput.superClass_.render_.call(this),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.isTextValid_?(e.utils.dom.removeClass(this.htmlInput_,"blocklyInvalidInput"),e.utils.aria.setState(this.htmlInput_,"invalid",!1)):(e.utils.dom.addClass(this.htmlInput_,"blocklyInvalidInput"),e.utils.aria.setState(this.htmlInput_,"invalid",!0)))},e.FieldTextInput.prototype.setSpellcheck=function(e){e!=this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))},e.FieldTextInput.prototype.showEditor_=function(t){this.workspace_=this.sourceBlock_.workspace,!(t=t||!1)&&(e.utils.userAgent.MOBILE||e.utils.userAgent.ANDROID||e.utils.userAgent.IPAD)?this.showPromptEditor_():this.showInlineEditor_(t)},e.FieldTextInput.prototype.showPromptEditor_=function(){var t=this;e.prompt(e.Msg.CHANGE_VALUE_TITLE,this.getText(),(function(e){t.setValue(e)}))},e.FieldTextInput.prototype.showInlineEditor_=function(t){e.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,t||(this.htmlInput_.focus(),this.htmlInput_.select())},e.FieldTextInput.prototype.widgetCreate_=function(){var t=e.WidgetDiv.DIV,o=document.createElement("input");o.className="blocklyHtmlInput",o.setAttribute("spellcheck",this.spellcheck_);var n=e.FieldTextInput.FONTSIZE*this.workspace_.scale+"pt";return t.style.fontSize=n,o.style.fontSize=n,o.style.borderRadius=e.FieldTextInput.BORDERRADIUS*this.workspace_.scale+"px",t.appendChild(o),o.value=o.defaultValue=this.getEditorText_(this.value_),o.untypedDefaultValue_=this.value_,o.oldValue_=null,e.utils.userAgent.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(o),o},e.FieldTextInput.prototype.widgetDispose_=function(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_&&this.onFinishEditing_(this.value_),this.unbindInputEvents_();var t=e.WidgetDiv.DIV.style;t.width="auto",t.height="auto",t.fontSize=""},e.FieldTextInput.prototype.bindInputEvents_=function(t){this.onKeyDownWrapper_=e.bindEventWithChecks_(t,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=e.bindEventWithChecks_(t,"input",this,this.onHtmlInputChange_)},e.FieldTextInput.prototype.unbindInputEvents_=function(){e.unbindEvent_(this.onKeyDownWrapper_),e.unbindEvent_(this.onKeyInputWrapper_)},e.FieldTextInput.prototype.onHtmlInputKeyDown_=function(t){t.keyCode==e.utils.KeyCodes.ENTER?(e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation()):t.keyCode==e.utils.KeyCodes.ESC?(this.htmlInput_.value=this.htmlInput_.defaultValue,e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation()):t.keyCode==e.utils.KeyCodes.TAB&&(e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation(),this.sourceBlock_.tab(this,!t.shiftKey),t.preventDefault())},e.FieldTextInput.prototype.onHtmlInputChange_=function(t){(t=this.htmlInput_.value)!==this.htmlInput_.oldValue_&&(this.htmlInput_.oldValue_=t,e.Events.setGroup(!0),t=this.getValueFromEditorText_(t),this.setValue(t),this.forceRerender(),e.Events.setGroup(!1))},e.FieldTextInput.prototype.setEditorValue_=function(e){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e)},e.FieldTextInput.prototype.resizeEditor_=function(){var t=e.WidgetDiv.DIV,o=this.getScaledBBox_();t.style.width=o.right-o.left+"px",t.style.height=o.bottom-o.top+"px",(o=new e.utils.Coordinate(this.sourceBlock_.RTL?o.right-t.offsetWidth:o.left,o.top)).y+=1,e.utils.userAgent.GECKO&&e.WidgetDiv.DIV.style.top&&(--o.x,--o.y),e.utils.userAgent.WEBKIT&&(o.y-=3),t.style.left=o.x+"px",t.style.top=o.y+"px"},e.FieldTextInput.numberValidator=function(e){return console.warn("Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead."),null===e?null:(e=(e=(e=String(e)).replace(/O/gi,"0")).replace(/,/g,""),e=Number(e||0),isNaN(e)?null:String(e))},e.FieldTextInput.nonnegativeIntegerValidator=function(t){return(t=e.FieldTextInput.numberValidator(t))&&(t=String(Math.max(0,Math.floor(t)))),t},e.FieldTextInput.prototype.isTabNavigable=function(){return!0},e.FieldTextInput.prototype.getText_=function(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null},e.FieldTextInput.prototype.getEditorText_=function(e){return String(e)},e.FieldTextInput.prototype.getValueFromEditorText_=function(e){return e},e.fieldRegistry.register("field_input",e.FieldTextInput),e.FieldAngle=function(t,o,n){this.clockwise_=e.FieldAngle.CLOCKWISE,this.offset_=e.FieldAngle.OFFSET,this.wrap_=e.FieldAngle.WRAP,this.round_=e.FieldAngle.ROUND,e.FieldAngle.superClass_.constructor.call(this,t||0,o,n)},e.utils.object.inherits(e.FieldAngle,e.FieldTextInput),e.FieldAngle.fromJson=function(t){return new e.FieldAngle(t.angle,void 0,t)},e.FieldAngle.prototype.SERIALIZABLE=!0,e.FieldAngle.ROUND=15,e.FieldAngle.HALF=50,e.FieldAngle.CLOCKWISE=!1,e.FieldAngle.OFFSET=0,e.FieldAngle.WRAP=360,e.FieldAngle.RADIUS=e.FieldAngle.HALF-1,e.FieldAngle.prototype.configure_=function(t){switch(e.FieldAngle.superClass_.configure_.call(this,t),t.mode){case"compass":this.clockwise_=!0,this.offset_=90;break;case"protractor":this.clockwise_=!1,this.offset_=0}var o=t.clockwise;"boolean"==typeof o&&(this.clockwise_=o),null!=(o=t.offset)&&(o=Number(o),isNaN(o)||(this.offset_=o)),null!=(o=t.wrap)&&(o=Number(o),isNaN(o)||(this.wrap_=o)),null!=(t=t.round)&&(t=Number(t),isNaN(t)||(this.round_=t))},e.FieldAngle.prototype.initView=function(){e.FieldAngle.superClass_.initView.call(this),this.symbol_=e.utils.dom.createSvgElement("tspan",{},null),this.symbol_.appendChild(document.createTextNode("\xb0")),this.textElement_.appendChild(this.symbol_)},e.FieldAngle.prototype.render_=function(){e.FieldAngle.superClass_.render_.call(this),this.updateGraph_()},e.FieldAngle.prototype.showEditor_=function(){e.FieldAngle.superClass_.showEditor_.call(this,e.utils.userAgent.MOBILE||e.utils.userAgent.ANDROID||e.utils.userAgent.IPAD);var t=this.dropdownCreate_();e.DropDownDiv.getContentDiv().appendChild(t),t=(t=this.sourceBlock_.getColourBorder()).colourBorder||t.colourLight,e.DropDownDiv.setColour(this.sourceBlock_.getColour(),t),e.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.updateGraph_()},e.FieldAngle.prototype.dropdownCreate_=function(){var t=e.utils.dom.createSvgElement("svg",{xmlns:e.utils.dom.SVG_NS,"xmlns:html":e.utils.dom.HTML_NS,"xmlns:xlink":e.utils.dom.XLINK_NS,version:"1.1",height:2*e.FieldAngle.HALF+"px",width:2*e.FieldAngle.HALF+"px",style:"touch-action: none"},null),o=e.utils.dom.createSvgElement("circle",{cx:e.FieldAngle.HALF,cy:e.FieldAngle.HALF,r:e.FieldAngle.RADIUS,class:"blocklyAngleCircle"},t);this.gauge_=e.utils.dom.createSvgElement("path",{class:"blocklyAngleGauge"},t),this.line_=e.utils.dom.createSvgElement("line",{x1:e.FieldAngle.HALF,y1:e.FieldAngle.HALF,class:"blocklyAngleLine"},t);for(var n=0;360>n;n+=15)e.utils.dom.createSvgElement("line",{x1:e.FieldAngle.HALF+e.FieldAngle.RADIUS,y1:e.FieldAngle.HALF,x2:e.FieldAngle.HALF+e.FieldAngle.RADIUS-(0==n%45?10:5),y2:e.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+n+","+e.FieldAngle.HALF+","+e.FieldAngle.HALF+")"},t);return this.clickWrapper_=e.bindEventWithChecks_(t,"click",this,this.hide_),this.clickSurfaceWrapper_=e.bindEventWithChecks_(o,"click",this,this.onMouseMove,!0,!0),this.moveSurfaceWrapper_=e.bindEventWithChecks_(o,"mousemove",this,this.onMouseMove,!0,!0),t},e.FieldAngle.prototype.dropdownDispose_=function(){e.unbindEvent_(this.clickWrapper_),e.unbindEvent_(this.clickSurfaceWrapper_),e.unbindEvent_(this.moveSurfaceWrapper_)},e.FieldAngle.prototype.hide_=function(){e.DropDownDiv.hideIfOwner(this),e.WidgetDiv.hide()},e.FieldAngle.prototype.onMouseMove=function(t){var o=this.gauge_.ownerSVGElement.getBoundingClientRect(),n=t.clientX-o.left-e.FieldAngle.HALF;t=t.clientY-o.top-e.FieldAngle.HALF,o=Math.atan(-t/n),isNaN(o)||(o=e.utils.math.toDegrees(o),0>n?o+=180:0<t&&(o+=360),o=this.clockwise_?this.offset_+360-o:360-(this.offset_-o),this.displayMouseOrKeyboardValue_(o))},e.FieldAngle.prototype.displayMouseOrKeyboardValue_=function(e){this.round_&&(e=Math.round(e/this.round_)*this.round_),(e=this.wrapValue_(e))!=this.value_&&this.setEditorValue_(e)},e.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var t=Number(this.getText())+this.offset_,o=e.utils.math.toRadians(t%360);t=["M ",e.FieldAngle.HALF,",",e.FieldAngle.HALF];var n=e.FieldAngle.HALF,i=e.FieldAngle.HALF;if(!isNaN(o)){var s=Number(this.clockwise_),a=e.utils.math.toRadians(this.offset_),r=Math.cos(a)*e.FieldAngle.RADIUS,l=Math.sin(a)*-e.FieldAngle.RADIUS;s&&(o=2*a-o),n+=Math.cos(o)*e.FieldAngle.RADIUS,i-=Math.sin(o)*e.FieldAngle.RADIUS,o=Math.abs(Math.floor((o-a)/Math.PI)%2),s&&(o=1-o),t.push(" l ",r,",",l," A ",e.FieldAngle.RADIUS,",",e.FieldAngle.RADIUS," 0 ",o," ",s," ",n,",",i," z")}this.gauge_.setAttribute("d",t.join("")),this.line_.setAttribute("x2",n),this.line_.setAttribute("y2",i)}},e.FieldAngle.prototype.onHtmlInputKeyDown_=function(t){var o;if(e.FieldAngle.superClass_.onHtmlInputKeyDown_.call(this,t),t.keyCode===e.utils.KeyCodes.LEFT?o=this.sourceBlock_.RTL?1:-1:t.keyCode===e.utils.KeyCodes.RIGHT?o=this.sourceBlock_.RTL?-1:1:t.keyCode===e.utils.KeyCodes.DOWN?o=-1:t.keyCode===e.utils.KeyCodes.UP&&(o=1),o){var n=this.getValue();this.displayMouseOrKeyboardValue_(n+o*this.round_),t.preventDefault(),t.stopPropagation()}},e.FieldAngle.prototype.doClassValidation_=function(e){return e=Number(e),isNaN(e)||!isFinite(e)?null:this.wrapValue_(e)},e.FieldAngle.prototype.wrapValue_=function(e){return 0>(e%=360)&&(e+=360),e>this.wrap_&&(e-=360),e},e.Css.register(".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}".split(",")),e.fieldRegistry.register("field_angle",e.FieldAngle),e.FieldCheckbox=function(t,o,n){this.checkChar_=null,null==t&&(t="FALSE"),e.FieldCheckbox.superClass_.constructor.call(this,t,o,n),this.size_.width=e.FieldCheckbox.WIDTH},e.utils.object.inherits(e.FieldCheckbox,e.Field),e.FieldCheckbox.fromJson=function(t){return new e.FieldCheckbox(t.checked,void 0,t)},e.FieldCheckbox.WIDTH=15,e.FieldCheckbox.CHECK_CHAR="\u2713",e.FieldCheckbox.CHECK_X_OFFSET=e.Field.DEFAULT_TEXT_OFFSET-3,e.FieldCheckbox.CHECK_Y_OFFSET=14,e.FieldCheckbox.prototype.SERIALIZABLE=!0,e.FieldCheckbox.prototype.CURSOR="default",e.FieldCheckbox.prototype.isDirty_=!1,e.FieldCheckbox.prototype.configure_=function(t){e.FieldCheckbox.superClass_.configure_.call(this,t),t.checkCharacter&&(this.checkChar_=t.checkCharacter)},e.FieldCheckbox.prototype.initView=function(){e.FieldCheckbox.superClass_.initView.call(this),this.textElement_.setAttribute("x",e.FieldCheckbox.CHECK_X_OFFSET),this.textElement_.setAttribute("y",e.FieldCheckbox.CHECK_Y_OFFSET),e.utils.dom.addClass(this.textElement_,"blocklyCheckbox"),this.textContent_.nodeValue=this.checkChar_||e.FieldCheckbox.CHECK_CHAR,this.textElement_.style.display=this.value_?"block":"none"},e.FieldCheckbox.prototype.setCheckCharacter=function(t){this.checkChar_=t,this.textContent_&&(this.textContent_.nodeValue=t||e.FieldCheckbox.CHECK_CHAR)},e.FieldCheckbox.prototype.showEditor_=function(){this.setValue(!this.value_)},e.FieldCheckbox.prototype.doClassValidation_=function(e){return!0===e||"TRUE"===e?"TRUE":!1===e||"FALSE"===e?"FALSE":null},e.FieldCheckbox.prototype.doValueUpdate_=function(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")},e.FieldCheckbox.prototype.getValue=function(){return this.value_?"TRUE":"FALSE"},e.FieldCheckbox.prototype.getValueBoolean=function(){return this.value_},e.FieldCheckbox.prototype.getText=function(){return String(this.convertValueToBool_(this.value_))},e.FieldCheckbox.prototype.convertValueToBool_=function(e){return"string"==typeof e?"TRUE"==e:!!e},e.fieldRegistry.register("field_checkbox",e.FieldCheckbox),e.FieldColour=function(t,o,n){e.FieldColour.superClass_.constructor.call(this,t||e.FieldColour.COLOURS[0],o,n),this.size_=new e.utils.Size(e.FieldColour.DEFAULT_WIDTH,e.FieldColour.DEFAULT_HEIGHT)},e.utils.object.inherits(e.FieldColour,e.Field),e.FieldColour.fromJson=function(t){return new e.FieldColour(t.colour,void 0,t)},e.FieldColour.DEFAULT_WIDTH=26,e.FieldColour.DEFAULT_HEIGHT=e.Field.BORDER_RECT_DEFAULT_HEIGHT,e.FieldColour.prototype.SERIALIZABLE=!0,e.FieldColour.prototype.CURSOR="default",e.FieldColour.prototype.isDirty_=!1,e.FieldColour.prototype.colours_=null,e.FieldColour.prototype.titles_=null,e.FieldColour.prototype.columns_=0,e.FieldColour.prototype.configure_=function(t){e.FieldColour.superClass_.configure_.call(this,t),t.colourOptions&&(this.colours_=t.colourOptions,this.titles_=t.colourTitles),t.columns&&(this.columns_=t.columns)},e.FieldColour.prototype.initView=function(){this.createBorderRect_(),this.borderRect_.style.fillOpacity=1,this.borderRect_.style.fill=this.value_},e.FieldColour.prototype.doClassValidation_=function(t){return"string"!=typeof t?null:e.utils.colour.parse(t)},e.FieldColour.prototype.doValueUpdate_=function(e){this.value_=e,this.borderRect_&&(this.borderRect_.style.fill=e)},e.FieldColour.prototype.getText=function(){var e=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(e)&&(e="#"+e[1]+e[3]+e[5]),e},e.FieldColour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),e.FieldColour.TITLES=[],e.FieldColour.COLUMNS=7,e.FieldColour.prototype.setColours=function(e,t){return this.colours_=e,t&&(this.titles_=t),this},e.FieldColour.prototype.setColumns=function(e){return this.columns_=e,this},e.FieldColour.prototype.showEditor_=function(){this.picker_=this.dropdownCreate_(),e.DropDownDiv.getContentDiv().appendChild(this.picker_),e.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.picker_.focus()},e.FieldColour.prototype.onClick_=function(t){null!==(t=(t=t.target)&&t.label)&&(this.setValue(t),e.DropDownDiv.hideIfOwner(this))},e.FieldColour.prototype.onKeyDown_=function(t){var o=!1;t.keyCode===e.utils.KeyCodes.UP?(this.moveHighlightBy_(0,-1),o=!0):t.keyCode===e.utils.KeyCodes.DOWN?(this.moveHighlightBy_(0,1),o=!0):t.keyCode===e.utils.KeyCodes.LEFT?(this.moveHighlightBy_(-1,0),o=!0):t.keyCode===e.utils.KeyCodes.RIGHT?(this.moveHighlightBy_(1,0),o=!0):t.keyCode===e.utils.KeyCodes.ENTER&&((o=this.getHighlighted_())&&null!==(o=o&&o.label)&&this.setValue(o),e.DropDownDiv.hideWithoutAnimation(),o=!0),o&&t.stopPropagation()},e.FieldColour.prototype.onBlocklyAction=function(t){if(this.picker_){if(t===e.navigation.ACTION_PREVIOUS)return this.moveHighlightBy_(0,-1),!0;if(t===e.navigation.ACTION_NEXT)return this.moveHighlightBy_(0,1),!0;if(t===e.navigation.ACTION_OUT)return this.moveHighlightBy_(-1,0),!0;if(t===e.navigation.ACTION_IN)return this.moveHighlightBy_(1,0),!0}return e.FieldColour.superClass_.onBlocklyAction.call(this,t)},e.FieldColour.prototype.moveHighlightBy_=function(t,o){var n=this.colours_||e.FieldColour.COLOURS,i=this.columns_||e.FieldColour.COLUMNS,s=this.highlightedIndex_%i,a=Math.floor(this.highlightedIndex_/i);s+=t,a+=o,0>t?0>s&&0<a?(s=i-1,a--):0>s&&(s=0):0<t?s>i-1&&a<Math.floor(n.length/i)-1?(s=0,a++):s>i-1&&s--:0>o?0>a&&(a=0):0<o&&a>Math.floor(n.length/i)-1&&(a=Math.floor(n.length/i)-1),this.setHighlightedCell_(this.picker_.childNodes[a].childNodes[s],a*i+s)},e.FieldColour.prototype.onMouseMove_=function(e){var t=(e=e.target)&&e.getAttribute("data-index");null!==t&&t!==this.highlightedIndex_&&this.setHighlightedCell_(e,Number(t))},e.FieldColour.prototype.onMouseEnter_=function(){this.picker_.focus()},e.FieldColour.prototype.onMouseLeave_=function(){this.picker_.blur();var t=this.getHighlighted_();t&&e.utils.dom.removeClass(t,"blocklyColourHighlighted")},e.FieldColour.prototype.getHighlighted_=function(){var t=this.columns_||e.FieldColour.COLUMNS,o=this.picker_.childNodes[Math.floor(this.highlightedIndex_/t)];return o?o.childNodes[this.highlightedIndex_%t]:null},e.FieldColour.prototype.setHighlightedCell_=function(t,o){var n=this.getHighlighted_();n&&e.utils.dom.removeClass(n,"blocklyColourHighlighted"),e.utils.dom.addClass(t,"blocklyColourHighlighted"),this.highlightedIndex_=o,e.utils.aria.setState(this.picker_,e.utils.aria.State.ACTIVEDESCENDANT,t.getAttribute("id"))},e.FieldColour.prototype.dropdownCreate_=function(){var t=this.columns_||e.FieldColour.COLUMNS,o=this.colours_||e.FieldColour.COLOURS,n=this.titles_||e.FieldColour.TITLES,i=this.getValue(),s=document.createElement("table");s.className="blocklyColourTable",s.tabIndex=0,s.dir="ltr",e.utils.aria.setRole(s,e.utils.aria.Role.GRID),e.utils.aria.setState(s,e.utils.aria.State.EXPANDED,!0),e.utils.aria.setState(s,"rowcount",Math.floor(o.length/t)),e.utils.aria.setState(s,"colcount",t);for(var a,r=0;r<o.length;r++){0==r%t&&(a=document.createElement("tr"),e.utils.aria.setRole(a,e.utils.aria.Role.ROW),s.appendChild(a));var l=document.createElement("td");a.appendChild(l),l.label=o[r],l.title=n[r]||o[r],l.id=e.utils.IdGenerator.getNextUniqueId(),l.setAttribute("data-index",r),e.utils.aria.setRole(l,e.utils.aria.Role.GRIDCELL),e.utils.aria.setState(l,e.utils.aria.State.LABEL,o[r]),e.utils.aria.setState(l,e.utils.aria.State.SELECTED,o[r]==i),l.style.backgroundColor=o[r],o[r]==i&&(l.className="blocklyColourSelected",this.highlightedIndex_=r)}return this.onClickWrapper_=e.bindEventWithChecks_(s,"click",this,this.onClick_,!0),this.onMouseMoveWrapper_=e.bindEventWithChecks_(s,"mousemove",this,this.onMouseMove_,!0),this.onMouseEnterWrapper_=e.bindEventWithChecks_(s,"mouseenter",this,this.onMouseEnter_,!0),this.onMouseLeaveWrapper_=e.bindEventWithChecks_(s,"mouseleave",this,this.onMouseLeave_,!0),this.onKeyDownWrapper_=e.bindEventWithChecks_(s,"keydown",this,this.onKeyDown_),s},e.FieldColour.prototype.dropdownDispose_=function(){e.unbindEvent_(this.onClickWrapper_),e.unbindEvent_(this.onMouseMoveWrapper_),e.unbindEvent_(this.onMouseEnterWrapper_),e.unbindEvent_(this.onMouseLeaveWrapper_),e.unbindEvent_(this.onKeyDownWrapper_),this.picker_=null},e.Css.register([".blocklyColourTable {","border-collapse: collapse;","display: block;","outline: none;","padding: 1px;","}",".blocklyColourTable>tr>td {","border: .5px solid #888;","box-sizing: border-box;","cursor: pointer;","display: inline-block;","height: 20px;","padding: 0;","width: 20px;","}",".blocklyColourTable>tr>td.blocklyColourHighlighted {","border-color: #eee;","box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);","position: relative;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border-color: #eee !important;","outline: 1px solid #333;","position: relative;","}"]),e.fieldRegistry.register("field_colour",e.FieldColour),e.FieldDropdown=function(t,o,n){"function"!=typeof t&&e.FieldDropdown.validateOptions_(t),this.menuGenerator_=t,this.generatedOptions_=null,this.selectedIndex_=0,this.trimOptions_(),t=this.getOptions(!1)[0],e.FieldDropdown.superClass_.constructor.call(this,t[1],o,n),this.selectedMenuItem_=this.imageElement_=null},e.utils.object.inherits(e.FieldDropdown,e.Field),e.FieldDropdown.fromJson=function(t){return new e.FieldDropdown(t.options,void 0,t)},e.FieldDropdown.prototype.SERIALIZABLE=!0,e.FieldDropdown.CHECKMARK_OVERHANG=25,e.FieldDropdown.MAX_MENU_HEIGHT_VH=.45,e.FieldDropdown.IMAGE_Y_OFFSET=5,e.FieldDropdown.IMAGE_Y_PADDING=2*e.FieldDropdown.IMAGE_Y_OFFSET,e.FieldDropdown.ARROW_CHAR=e.utils.userAgent.ANDROID?"\u25bc":"\u25be",e.FieldDropdown.prototype.CURSOR="default",e.FieldDropdown.prototype.initView=function(){e.FieldDropdown.superClass_.initView.call(this),this.imageElement_=e.utils.dom.createSvgElement("image",{y:e.FieldDropdown.IMAGE_Y_OFFSET},this.fieldGroup_),this.arrow_=e.utils.dom.createSvgElement("tspan",{},this.textElement_),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?e.FieldDropdown.ARROW_CHAR+" ":" "+e.FieldDropdown.ARROW_CHAR)),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textContent_):this.textElement_.appendChild(this.arrow_)},e.FieldDropdown.prototype.showEditor_=function(){this.menu_=this.dropdownCreate_(),this.menu_.render(e.DropDownDiv.getContentDiv()),e.utils.dom.addClass(this.menu_.getElement(),"blocklyDropdownMenu"),e.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&e.utils.style.scrollIntoContainerView(this.selectedMenuItem_.getElement(),this.menu_.getElement())},e.FieldDropdown.prototype.dropdownCreate_=function(){var t=new e.Menu;t.setRightToLeft(this.sourceBlock_.RTL),t.setRole("listbox");var o=this.getOptions(!1);this.selectedMenuItem_=null;for(var n=0;n<o.length;n++){var i=o[n][0],s=o[n][1];if("object"==typeof i){var a=new Image(i.width,i.height);a.src=i.src,a.alt=i.alt||"",i=a}(i=new e.MenuItem(i)).setRole("option"),i.setRightToLeft(this.sourceBlock_.RTL),i.setValue(s),i.setCheckable(!0),t.addChild(i,!0),i.setChecked(s==this.value_),s==this.value_&&(this.selectedMenuItem_=i),i.onAction(this.handleMenuActionEvent_,this)}return e.utils.aria.setState(t.getElement(),e.utils.aria.State.ACTIVEDESCENDANT,this.selectedMenuItem_?this.selectedMenuItem_.getId():""),t},e.FieldDropdown.prototype.dropdownDispose_=function(){this.menu_.dispose(),this.menu_=null},e.FieldDropdown.prototype.handleMenuActionEvent_=function(t){e.DropDownDiv.hideIfOwner(this,!0),this.onItemSelected(this.menu_,t)},e.FieldDropdown.prototype.onItemSelected=function(e,t){this.setValue(t.getValue())},e.FieldDropdown.prototype.trimOptions_=function(){this.suffixField=this.prefixField=null;var t=this.menuGenerator_;if(Array.isArray(t)){for(var o=!1,n=0;n<t.length;n++){var i=t[n][0];"string"==typeof i?t[n][0]=e.utils.replaceMessageReferences(i):(null!=i.alt&&(t[n][0].alt=e.utils.replaceMessageReferences(i.alt)),o=!0)}if(!(o||2>t.length)){for(o=[],n=0;n<t.length;n++)o.push(t[n][0]);n=e.utils.string.shortestStringLength(o),i=e.utils.string.commonWordPrefix(o,n);var s=e.utils.string.commonWordSuffix(o,n);!i&&!s||n<=i+s||(i&&(this.prefixField=o[0].substring(0,i-1)),s&&(this.suffixField=o[0].substr(1-s)),this.menuGenerator_=e.FieldDropdown.applyTrim_(t,i,s))}}},e.FieldDropdown.applyTrim_=function(e,t,o){for(var n=[],i=0;i<e.length;i++){var s=e[i][0],a=e[i][1];s=s.substring(t,s.length-o),n[i]=[s,a]}return n},e.FieldDropdown.prototype.isOptionListDynamic=function(){return"function"==typeof this.menuGenerator_},e.FieldDropdown.prototype.getOptions=function(t){return this.isOptionListDynamic()?(this.generatedOptions_&&t||(this.generatedOptions_=this.menuGenerator_.call(this),e.FieldDropdown.validateOptions_(this.generatedOptions_)),this.generatedOptions_):this.menuGenerator_},e.FieldDropdown.prototype.doClassValidation_=function(e){for(var t,o=!1,n=this.getOptions(!0),i=0;t=n[i];i++)if(t[1]==e){o=!0;break}return o?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)},e.FieldDropdown.prototype.doValueUpdate_=function(t){e.FieldDropdown.superClass_.doValueUpdate_.call(this,t),t=this.getOptions(!0);for(var o,n=0;o=t[n];n++)o[1]==this.value_&&(this.selectedIndex_=n)},e.FieldDropdown.prototype.updateColour=function(){this.sourceBlock_&&this.arrow_&&(this.sourceBlock_.isShadow()?this.arrow_.style.fill=this.sourceBlock_.getColourShadow():this.arrow_.style.fill=this.sourceBlock_.getColour())},e.FieldDropdown.prototype.render_=function(){this.textContent_.nodeValue="",this.imageElement_.style.display="none";var e=this.getOptions(!0);(e=0<=this.selectedIndex_&&e[this.selectedIndex_][0])&&"object"==typeof e?this.renderSelectedImage_(e):this.renderSelectedText_(),this.borderRect_.setAttribute("height",this.size_.height),this.borderRect_.setAttribute("width",this.size_.width)},e.FieldDropdown.prototype.renderSelectedImage_=function(t){this.imageElement_.style.display="",this.imageElement_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",t.src),this.imageElement_.setAttribute("height",t.height),this.imageElement_.setAttribute("width",t.width);var o=e.utils.dom.getTextWidth(this.arrow_),n=Number(t.width);this.size_.height=Number(t.height)+e.FieldDropdown.IMAGE_Y_PADDING,this.size_.width=n+o+e.Field.X_PADDING,this.sourceBlock_.RTL?(t=e.Field.DEFAULT_TEXT_OFFSET-1,this.imageElement_.setAttribute("x",e.Field.DEFAULT_TEXT_OFFSET+o),this.textElement_.setAttribute("x",t)):(t=n+o+e.Field.DEFAULT_TEXT_OFFSET+1,this.textElement_.setAttribute("text-anchor","end"),this.textElement_.setAttribute("x",t),this.imageElement_.setAttribute("x",e.Field.DEFAULT_TEXT_OFFSET))},e.FieldDropdown.prototype.renderSelectedText_=function(){this.textContent_.nodeValue=this.getDisplayText_(),this.textElement_.setAttribute("text-anchor","start"),this.textElement_.setAttribute("x",e.Field.DEFAULT_TEXT_OFFSET),this.size_.height=e.Field.BORDER_RECT_DEFAULT_HEIGHT,this.size_.width=e.utils.dom.getTextWidth(this.textElement_)+e.Field.X_PADDING},e.FieldDropdown.prototype.getText_=function(){if(0>this.selectedIndex_)return null;var e=this.getOptions(!0)[this.selectedIndex_][0];return"object"==typeof e?e.alt:e},e.FieldDropdown.validateOptions_=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var t=!1,o=0;o<e.length;++o){var n=e[o];Array.isArray(n)?"string"!=typeof n[1]?(t=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option id must be a string. Found "+n[1]+" in: ",n)):n[0]&&"string"!=typeof n[0]&&"string"!=typeof n[0].src&&(t=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option must have a string label or image description. Found"+n[0]+" in: ",n)):(t=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option must be an array. Found: ",n))}if(t)throw TypeError("Found invalid FieldDropdown options.")},e.FieldDropdown.prototype.onBlocklyAction=function(t){if(this.menu_){if(t===e.navigation.ACTION_PREVIOUS)return this.menu_.highlightPrevious(),!0;if(t===e.navigation.ACTION_NEXT)return this.menu_.highlightNext(),!0}return e.FieldDropdown.superClass_.onBlocklyAction.call(this,t)},e.fieldRegistry.register("field_dropdown",e.FieldDropdown),e.FieldImage=function(t,o,n,i,s,a,r){if(!t)throw Error("Src value of an image field is required");if(t=e.utils.replaceMessageReferences(t),n=Number(e.utils.replaceMessageReferences(n)),o=Number(e.utils.replaceMessageReferences(o)),isNaN(n)||isNaN(o))throw Error("Height and width values of an image field must cast to numbers.");if(0>=n||0>=o)throw Error("Height and width values of an image field must be greater than 0.");this.flipRtl_=!1,this.altText_="",e.FieldImage.superClass_.constructor.call(this,t||"",null,r),r||(this.flipRtl_=!!a,this.altText_=e.utils.replaceMessageReferences(i)||""),this.size_=new e.utils.Size(o,n+e.FieldImage.Y_PADDING),this.imageHeight_=n,this.clickHandler_=null,"function"==typeof s&&(this.clickHandler_=s)},e.utils.object.inherits(e.FieldImage,e.Field),e.FieldImage.fromJson=function(t){return new e.FieldImage(t.src,t.width,t.height,void 0,void 0,void 0,t)},e.FieldImage.Y_PADDING=1,e.FieldImage.prototype.EDITABLE=!1,e.FieldImage.prototype.isDirty_=!1,e.FieldImage.prototype.configure_=function(t){e.FieldImage.superClass_.configure_.call(this,t),this.flipRtl_=!!t.flipRtl,this.altText_=e.utils.replaceMessageReferences(t.alt)||""},e.FieldImage.prototype.initView=function(){this.imageElement_=e.utils.dom.createSvgElement("image",{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.value_)},e.FieldImage.prototype.doClassValidation_=function(e){return"string"!=typeof e?null:e},e.FieldImage.prototype.doValueUpdate_=function(t){this.value_=t,this.imageElement_&&this.imageElement_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.value_||"")},e.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_},e.FieldImage.prototype.setAlt=function(e){e!=this.altText_&&(this.altText_=e||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))},e.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)},e.FieldImage.prototype.setOnClickHandler=function(e){this.clickHandler_=e},e.FieldImage.prototype.getText_=function(){return this.altText_},e.fieldRegistry.register("field_image",e.FieldImage),e.FieldLabelSerializable=function(t,o,n){e.FieldLabelSerializable.superClass_.constructor.call(this,t,o,n)},e.utils.object.inherits(e.FieldLabelSerializable,e.FieldLabel),e.FieldLabelSerializable.fromJson=function(t){var o=e.utils.replaceMessageReferences(t.text);return new e.FieldLabelSerializable(o,void 0,t)},e.FieldLabelSerializable.prototype.EDITABLE=!1,e.FieldLabelSerializable.prototype.SERIALIZABLE=!0,e.fieldRegistry.register("field_label_serializable",e.FieldLabelSerializable),e.FieldMultilineInput=function(t,o,n){null==t&&(t=""),e.FieldMultilineInput.superClass_.constructor.call(this,t,o,n)},e.utils.object.inherits(e.FieldMultilineInput,e.FieldTextInput),e.FieldMultilineInput.LINE_HEIGHT=20,e.FieldMultilineInput.fromJson=function(t){var o=e.utils.replaceMessageReferences(t.text);return new e.FieldMultilineInput(o,void 0,t)},e.FieldMultilineInput.prototype.initView=function(){this.createBorderRect_(),this.textGroup_=e.utils.dom.createSvgElement("g",{class:"blocklyEditableText"},this.fieldGroup_)},e.FieldMultilineInput.prototype.getDisplayText_=function(){var t=this.value_;if(!t)return e.Field.NBSP;var o=t.split("\n");t="";for(var n=0;n<o.length;n++){var i=o[n];i.length>this.maxDisplayLength&&(i=i.substring(0,this.maxDisplayLength-4)+"..."),t+=i=i.replace(/\s/g,e.Field.NBSP),n!==o.length-1&&(t+="\n")}return this.sourceBlock_.RTL&&(t+="\u200f"),t},e.FieldMultilineInput.prototype.render_=function(){for(var t;t=this.textGroup_.firstChild;)this.textGroup_.removeChild(t);t=this.getDisplayText_().split("\n");for(var o=e.Field.Y_PADDING/2,n=0,i=0;i<t.length;i++)e.utils.dom.createSvgElement("text",{class:"blocklyText blocklyMultilineText",x:e.Field.DEFAULT_TEXT_OFFSET,y:n+o,dy:e.FieldMultilineInput.LINE_HEIGHT/2},this.textGroup_).appendChild(document.createTextNode(t[i])),n+=e.FieldMultilineInput.LINE_HEIGHT;this.updateSize_(),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.isTextValid_?(e.utils.dom.removeClass(this.htmlInput_,"blocklyInvalidInput"),e.utils.aria.setState(this.htmlInput_,"invalid",!1)):(e.utils.dom.addClass(this.htmlInput_,"blocklyInvalidInput"),e.utils.aria.setState(this.htmlInput_,"invalid",!0)))},e.FieldMultilineInput.prototype.updateSize_=function(){for(var t=this.textGroup_.childNodes,o=0,n=0,i=0;i<t.length;i++){var s=e.utils.dom.getTextWidth(t[i]);s>o&&(o=s),n+=e.FieldMultilineInput.LINE_HEIGHT}this.borderRect_&&(o+=e.Field.X_PADDING,this.borderRect_.setAttribute("width",o),this.borderRect_.setAttribute("height",n)),this.size_.width=o,this.size_.height=n},e.FieldMultilineInput.prototype.resizeEditor_=function(){var t=e.WidgetDiv.DIV,o=this.getScaledBBox_();t.style.width=o.right-o.left+"px",t.style.height=o.bottom-o.top+"px",o=new e.utils.Coordinate(this.sourceBlock_.RTL?o.right-t.offsetWidth:o.left,o.top),t.style.left=o.x+"px",t.style.top=o.y+"px"},e.FieldMultilineInput.prototype.widgetCreate_=function(){var t=e.WidgetDiv.DIV,o=this.workspace_.scale,n=document.createElement("textarea");n.className="blocklyHtmlInput blocklyHtmlTextAreaInput",n.setAttribute("spellcheck",this.spellcheck_);var i=e.FieldTextInput.FONTSIZE*o+"pt";return t.style.fontSize=i,n.style.fontSize=i,n.style.borderRadius=e.FieldTextInput.BORDERRADIUS*o+"px",i=e.Field.DEFAULT_TEXT_OFFSET*o,n.style.paddingLeft=i+"px",n.style.width="calc(100% - "+i+"px)",n.style.lineHeight=e.FieldMultilineInput.LINE_HEIGHT*o+"px",t.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.untypedDefaultValue_=this.value_,n.oldValue_=null,e.utils.userAgent.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(n),n},e.FieldMultilineInput.prototype.onHtmlInputKeyDown_=function(t){t.keyCode!==e.utils.KeyCodes.ENTER&&e.FieldMultilineInput.superClass_.onHtmlInputKeyDown_.call(this,t)},e.Css.register(".blocklyHtmlTextAreaInput {,font-family: monospace;,resize: none;,overflow: hidden;,height: 100%;,text-align: left;,}".split(",")),e.fieldRegistry.register("field_multilinetext",e.FieldMultilineInput),e.FieldNumber=function(t,o,n,i,s,a){this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces_=null,e.FieldNumber.superClass_.constructor.call(this,t||0,s,a),a||this.setConstraints(o,n,i)},e.utils.object.inherits(e.FieldNumber,e.FieldTextInput),e.FieldNumber.fromJson=function(t){return new e.FieldNumber(t.value,void 0,void 0,void 0,void 0,t)},e.FieldNumber.prototype.SERIALIZABLE=!0,e.FieldNumber.prototype.configure_=function(t){e.FieldNumber.superClass_.configure_.call(this,t),this.setMinInternal_(t.min),this.setMaxInternal_(t.max),this.setPrecisionInternal_(t.precision)},e.FieldNumber.prototype.setConstraints=function(e,t,o){this.setMinInternal_(e),this.setMaxInternal_(t),this.setPrecisionInternal_(o),this.setValue(this.getValue())},e.FieldNumber.prototype.setMin=function(e){this.setMinInternal_(e),this.setValue(this.getValue())},e.FieldNumber.prototype.setMinInternal_=function(e){null==e?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))},e.FieldNumber.prototype.getMin=function(){return this.min_},e.FieldNumber.prototype.setMax=function(e){this.setMaxInternal_(e),this.setValue(this.getValue())},e.FieldNumber.prototype.setMaxInternal_=function(e){null==e?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))},e.FieldNumber.prototype.getMax=function(){return this.max_},e.FieldNumber.prototype.setPrecision=function(e){this.setPrecisionInternal_(e),this.setValue(this.getValue())},e.FieldNumber.prototype.setPrecisionInternal_=function(e){null==e?this.precision_=0:(e=Number(e),isNaN(e)||(this.precision_=e));var t=this.precision_.toString(),o=t.indexOf(".");this.decimalPlaces_=-1==o?e?0:null:t.length-o-1},e.FieldNumber.prototype.getPrecision=function(){return this.precision_},e.FieldNumber.prototype.doClassValidation_=function(e){return null===e?null:(e=(e=(e=String(e)).replace(/O/gi,"0")).replace(/,/g,""),e=Number(e||0),isNaN(e)?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),null!=this.decimalPlaces_&&(e=Number(e.toFixed(this.decimalPlaces_))),e))},e.FieldNumber.prototype.widgetCreate_=function(){var t=e.FieldNumber.superClass_.widgetCreate_.call(this);return-1/0<this.min_&&e.utils.aria.setState(t,e.utils.aria.State.VALUEMIN,this.min_),1/0>this.max_&&e.utils.aria.setState(t,e.utils.aria.State.VALUEMAX,this.max_),t},e.fieldRegistry.register("field_number",e.FieldNumber),e.FieldVariable=function(t,o,n,i,s){this.menuGenerator_=e.FieldVariable.dropdownCreate,this.defaultVariableName=t||"",this.size_=new e.utils.Size(0,e.BlockSvg.MIN_BLOCK_Y),s&&this.configure_(s),o&&this.setValidator(o),s||this.setTypes_(n,i)},e.utils.object.inherits(e.FieldVariable,e.FieldDropdown),e.FieldVariable.fromJson=function(t){var o=e.utils.replaceMessageReferences(t.variable);return new e.FieldVariable(o,void 0,void 0,void 0,t)},e.FieldVariable.prototype.workspace_=null,e.FieldVariable.prototype.SERIALIZABLE=!0,e.FieldVariable.prototype.configure_=function(t){e.FieldVariable.superClass_.configure_.call(this,t),this.setTypes_(t.variableTypes,t.defaultType)},e.FieldVariable.prototype.initModel=function(){if(!this.variable_){var t=e.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,null,this.defaultVariableName,this.defaultType_);e.Events.disable(),this.setValue(t.getId()),e.Events.enable()}},e.FieldVariable.prototype.fromXml=function(t){var o=t.getAttribute("id"),n=t.textContent,i=t.getAttribute("variabletype")||t.getAttribute("variableType")||"";if(o=e.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,o,n,i),null!=i&&i!==o.type)throw Error("Serialized variable type with id '"+o.getId()+"' had type "+o.type+", and does not match variable field that references it: "+e.Xml.domToText(t)+".");this.setValue(o.getId())},e.FieldVariable.prototype.toXml=function(e){return this.initModel(),e.id=this.variable_.getId(),e.textContent=this.variable_.name,this.variable_.type&&e.setAttribute("variabletype",this.variable_.type),e},e.FieldVariable.prototype.setSourceBlock=function(t){if(t.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");e.FieldVariable.superClass_.setSourceBlock.call(this,t)},e.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null},e.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""},e.FieldVariable.prototype.getVariable=function(){return this.variable_},e.FieldVariable.prototype.getValidator=function(){return this.variable_?this.validator_:null},e.FieldVariable.prototype.doClassValidation_=function(t){if(null===t)return null;var o=e.Variables.getVariable(this.sourceBlock_.workspace,t);return o?(o=o.type,this.typeIsAllowed_(o)?t:(console.warn("Variable type doesn't match this field!  Type was "+o),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+t),null)},e.FieldVariable.prototype.doValueUpdate_=function(t){this.variable_=e.Variables.getVariable(this.sourceBlock_.workspace,t),e.FieldVariable.superClass_.doValueUpdate_.call(this,t)},e.FieldVariable.prototype.typeIsAllowed_=function(e){var t=this.getVariableTypes_();if(!t)return!0;for(var o=0;o<t.length;o++)if(e==t[o])return!0;return!1},e.FieldVariable.prototype.getVariableTypes_=function(){var e=this.variableTypes;if(null===e&&this.sourceBlock_&&this.sourceBlock_.workspace)return this.sourceBlock_.workspace.getVariableTypes();if(0==(e=e||[""]).length)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e},e.FieldVariable.prototype.setTypes_=function(e,t){var o=t||"";if(null==e||void 0==e)var n=null;else{if(!Array.isArray(e))throw Error("'variableTypes' was not an array in the definition of a FieldVariable");n=e;for(var i=!1,s=0;s<n.length;s++)n[s]==o&&(i=!0);if(!i)throw Error("Invalid default type '"+o+"' in the definition of a FieldVariable")}this.defaultType_=o,this.variableTypes=n},e.FieldVariable.prototype.refreshVariableName=function(){this.forceRerender()},e.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var t=this.getText(),o=[];if(this.sourceBlock_&&this.sourceBlock_.workspace)for(var n=this.getVariableTypes_(),i=0;i<n.length;i++){var s=this.sourceBlock_.workspace.getVariablesOfType(n[i]);o=o.concat(s)}for(o.sort(e.VariableModel.compareByName),n=[],i=0;i<o.length;i++)n[i]=[o[i].name,o[i].getId()];return n.push([e.Msg.RENAME_VARIABLE,e.RENAME_VARIABLE_ID]),e.Msg.DELETE_VARIABLE&&n.push([e.Msg.DELETE_VARIABLE.replace("%1",t),e.DELETE_VARIABLE_ID]),n},e.FieldVariable.prototype.onItemSelected=function(t,o){var n=o.getValue();if(this.sourceBlock_&&this.sourceBlock_.workspace){if(n==e.RENAME_VARIABLE_ID)return void e.Variables.renameVariable(this.sourceBlock_.workspace,this.variable_);if(n==e.DELETE_VARIABLE_ID)return void this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId())}this.setValue(n)},e.FieldVariable.prototype.referencesVariables=function(){return!0},e.fieldRegistry.register("field_variable",e.FieldVariable),e.FlyoutCursor=function(){e.FlyoutCursor.superClass_.constructor.call(this)},e.utils.object.inherits(e.FlyoutCursor,e.Cursor),e.FlyoutCursor.prototype.next=function(){var e=this.getCurNode();return e?((e=e.next())&&this.setCurNode(e),e):null},e.FlyoutCursor.prototype.in=function(){return null},e.FlyoutCursor.prototype.prev=function(){var e=this.getCurNode();return e?((e=e.prev())&&this.setCurNode(e),e):null},e.FlyoutCursor.prototype.out=function(){return null},e.Flyout=function(t){t.getMetrics=this.getMetrics_.bind(this),t.setMetrics=this.setMetrics_.bind(this),this.workspace_=new e.WorkspaceSvg(t),this.workspace_.isFlyout=!0,this.workspace_.setCursor(new e.FlyoutCursor),this.workspace_.setMarker(new e.MarkerCursor),this.RTL=!!t.RTL,this.toolboxPosition_=t.toolboxPosition,this.eventWrappers_=[],this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH},e.Flyout.prototype.autoClose=!0,e.Flyout.prototype.isVisible_=!1,e.Flyout.prototype.containerVisible_=!0,e.Flyout.prototype.CORNER_RADIUS=8,e.Flyout.prototype.MARGIN=e.Flyout.prototype.CORNER_RADIUS,e.Flyout.prototype.GAP_X=3*e.Flyout.prototype.MARGIN,e.Flyout.prototype.GAP_Y=3*e.Flyout.prototype.MARGIN,e.Flyout.prototype.SCROLLBAR_PADDING=2,e.Flyout.prototype.width_=0,e.Flyout.prototype.height_=0,e.Flyout.prototype.dragAngleRange_=70,e.Flyout.prototype.createDom=function(t){return this.svgGroup_=e.utils.dom.createSvgElement(t,{class:"blocklyFlyout",style:"display: none"},null),this.svgBackground_=e.utils.dom.createSvgElement("path",{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyout","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_},e.Flyout.prototype.init=function(t){this.targetWorkspace_=t,this.workspace_.targetWorkspace=t,this.scrollbar_=new e.Scrollbar(this.workspace_,this.horizontalLayout_,!1,"blocklyFlyoutScrollbar"),this.hide(),Array.prototype.push.apply(this.eventWrappers_,e.bindEventWithChecks_(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace_.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,e.bindEventWithChecks_(this.svgBackground_,"mousedown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace_.getGesture.bind(this.targetWorkspace_),this.workspace_.variableMap_=this.targetWorkspace_.getVariableMap(),this.workspace_.createPotentialVariableMap()},e.Flyout.prototype.dispose=function(){this.hide(),e.unbindEvent_(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace_.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.scrollbar_&&(this.scrollbar_.dispose(),this.scrollbar_=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&(e.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace_=this.svgBackground_=null},e.Flyout.prototype.getWidth=function(){return this.width_},e.Flyout.prototype.getHeight=function(){return this.height_},e.Flyout.prototype.getWorkspace=function(){return this.workspace_},e.Flyout.prototype.isVisible=function(){return this.isVisible_},e.Flyout.prototype.setVisible=function(e){var t=e!=this.isVisible();this.isVisible_=e,t&&this.updateDisplay_()},e.Flyout.prototype.setContainerVisible=function(e){var t=e!=this.containerVisible_;this.containerVisible_=e,t&&this.updateDisplay_()},e.Flyout.prototype.updateDisplay_=function(){var e=!!this.containerVisible_&&this.isVisible();this.svgGroup_.style.display=e?"block":"none",this.scrollbar_.setContainerVisible(e)},e.Flyout.prototype.positionAt_=function(t,o,n,i){this.svgGroup_.setAttribute("width",t),this.svgGroup_.setAttribute("height",o),"svg"==this.svgGroup_.tagName?e.utils.dom.setCssTransform(this.svgGroup_,"translate("+n+"px,"+i+"px)"):this.svgGroup_.setAttribute("transform","translate("+n+","+i+")"),this.scrollbar_&&(this.scrollbar_.setOrigin(n,i),this.scrollbar_.resize(),this.scrollbar_.setPosition_(this.scrollbar_.position_.x,this.scrollbar_.position_.y))},e.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var t,o=0;t=this.listeners_[o];o++)e.unbindEvent_(t);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},e.Flyout.prototype.show=function(t){if(this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"==typeof t){if("function"!=typeof(t=this.workspace_.targetWorkspace.getToolboxCategoryCallback(t)))throw TypeError("Couldn't find a callback function when opening a toolbox category.");if(t=t(this.workspace_.targetWorkspace),!Array.isArray(t))throw TypeError("Result of toolbox category callback must be an array.")}this.setVisible(!0);var o=[],n=[];this.permanentlyDisabled_.length=0;for(var i,s=this.horizontalLayout_?this.GAP_X:this.GAP_Y,a=0;i=t[a];a++)if(i.tagName)switch(i.tagName.toUpperCase()){case"BLOCK":var r=e.Xml.domToBlock(i,this.workspace_);r.isEnabled()||this.permanentlyDisabled_.push(r),o.push({type:"block",block:r}),i=parseInt(i.getAttribute("gap"),10),n.push(isNaN(i)?s:i);break;case"SEP":i=parseInt(i.getAttribute("gap"),10),!isNaN(i)&&0<n.length?n[n.length-1]=i:n.push(s);break;case"LABEL":case"BUTTON":if(r="LABEL"==i.tagName.toUpperCase(),!e.FlyoutButton)throw Error("Missing require for Blockly.FlyoutButton");i=new e.FlyoutButton(this.workspace_,this.targetWorkspace_,i,r),o.push({type:"button",button:i}),n.push(s)}this.layout_(o,n),this.listeners_.push(e.bindEventWithChecks_(this.svgBackground_,"mouseover",this,(function(){for(var e,t=this.workspace_.getTopBlocks(!1),o=0;e=t[o];o++)e.removeSelect()}))),this.horizontalLayout_?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_)},e.Flyout.prototype.clearOldBlocks_=function(){for(var t,o=this.workspace_.getTopBlocks(!1),n=0;t=o[n];n++)t.workspace==this.workspace_&&t.dispose(!1,!1);for(n=0;n<this.mats_.length;n++)(o=this.mats_[n])&&e.utils.dom.removeNode(o);for(n=this.mats_.length=0;o=this.buttons_[n];n++)o.dispose();this.buttons_.length=0,this.workspace_.getPotentialVariableMap().clear()},e.Flyout.prototype.addBlockListeners_=function(t,o,n){this.listeners_.push(e.bindEventWithChecks_(t,"mousedown",null,this.blockMouseDown_(o))),this.listeners_.push(e.bindEventWithChecks_(n,"mousedown",null,this.blockMouseDown_(o))),this.listeners_.push(e.bindEvent_(t,"mouseover",o,o.addSelect)),this.listeners_.push(e.bindEvent_(t,"mouseout",o,o.removeSelect)),this.listeners_.push(e.bindEvent_(n,"mouseover",o,o.addSelect)),this.listeners_.push(e.bindEvent_(n,"mouseout",o,o.removeSelect))},e.Flyout.prototype.blockMouseDown_=function(e){var t=this;return function(o){var n=t.targetWorkspace_.getGesture(o);n&&(n.setStartBlock(e),n.handleFlyoutStart(o,t))}},e.Flyout.prototype.onMouseDown_=function(e){var t=this.targetWorkspace_.getGesture(e);t&&t.handleFlyoutStart(e,this)},e.Flyout.prototype.isBlockCreatable_=function(e){return e.isEnabled()},e.Flyout.prototype.createBlock=function(t){var o=null;e.Events.disable();var n=this.targetWorkspace_.getAllVariables();this.targetWorkspace_.setResizesEnabled(!1);try{o=this.placeNewBlock_(t),e.hideChaff()}finally{e.Events.enable()}if(t=e.Variables.getAddedVariables(this.targetWorkspace_,n),e.Events.isEnabled())for(e.Events.setGroup(!0),e.Events.fire(new e.Events.Create(o)),n=0;n<t.length;n++)e.Events.fire(new e.Events.VarCreate(t[n]));return this.autoClose?this.hide():this.filterForCapacity_(),o},e.Flyout.prototype.initFlyoutButton_=function(t,o,n){var i=t.createDom();t.moveTo(o,n),t.show(),this.listeners_.push(e.bindEventWithChecks_(i,"mousedown",this,this.onMouseDown_)),this.buttons_.push(t)},e.Flyout.prototype.createRect_=function(t,o,n,i,s){return(o=e.utils.dom.createSvgElement("rect",{"fill-opacity":0,x:o,y:n,height:i.height,width:i.width},null)).tooltip=t,e.Tooltip.bindMouseEvents(o),this.workspace_.getCanvas().insertBefore(o,t.getSvgRoot()),t.flyoutRect_=o,this.mats_[s]=o},e.Flyout.prototype.moveRectToBlock_=function(e,t){var o=t.getHeightWidth();e.setAttribute("width",o.width),e.setAttribute("height",o.height);var n=t.getRelativeToSurfaceXY();e.setAttribute("y",n.y),e.setAttribute("x",this.RTL?n.x-o.width:n.x)},e.Flyout.prototype.filterForCapacity_=function(){for(var t,o=this.workspace_.getTopBlocks(!1),n=0;t=o[n];n++)if(-1==this.permanentlyDisabled_.indexOf(t))for(var i=this.targetWorkspace_.isCapacityAvailable(e.utils.getBlockTypeCounts(t));t;)t.setEnabled(i),t=t.getNextBlock()},e.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)},e.Flyout.prototype.isScrollable=function(){return!!this.scrollbar_&&this.scrollbar_.isVisible()},e.Flyout.prototype.placeNewBlock_=function(t){var o=this.targetWorkspace_;if(!t.getSvgRoot())throw Error("oldBlock is not rendered.");var n=e.Xml.blockToDom(t,!0);if(o.setResizesEnabled(!1),!(n=e.Xml.domToBlock(n,o)).getSvgRoot())throw Error("block is not rendered.");var i=o.getOriginOffsetInPixels(),s=this.workspace_.getOriginOffsetInPixels();return(t=t.getRelativeToSurfaceXY()).scale(this.workspace_.scale),t=e.utils.Coordinate.sum(s,t),(i=e.utils.Coordinate.difference(t,i)).scale(1/o.scale),n.moveBy(i.x,i.y),n},e.FlyoutButton=function(t,o,n,i){this.workspace_=t,this.targetWorkspace_=o,this.text_=n.getAttribute("text"),this.position_=new e.utils.Coordinate(0,0),this.isLabel_=i,this.callbackKey_=n.getAttribute("callbackKey")||n.getAttribute("callbackkey"),this.cssClass_=n.getAttribute("web-class")||null},e.FlyoutButton.MARGIN=5,e.FlyoutButton.prototype.width=0,e.FlyoutButton.prototype.height=0,e.FlyoutButton.prototype.onMouseUpWrapper_=null,e.FlyoutButton.prototype.createDom=function(){var t=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";if(this.cssClass_&&(t+=" "+this.cssClass_),this.svgGroup_=e.utils.dom.createSvgElement("g",{class:t},this.workspace_.getCanvas()),!this.isLabel_)var o=e.utils.dom.createSvgElement("rect",{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_);t=e.utils.dom.createSvgElement("rect",{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);var n=e.utils.dom.createSvgElement("text",{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_);return n.textContent=e.utils.replaceMessageReferences(this.text_),this.isLabel_&&(this.svgText_=n,this.workspace_.getThemeManager().subscribe(this.svgText_,"flyoutText","fill")),this.width=e.utils.dom.getTextWidth(n),this.height=20,this.isLabel_||(this.width+=2*e.FlyoutButton.MARGIN,o.setAttribute("width",this.width),o.setAttribute("height",this.height)),t.setAttribute("width",this.width),t.setAttribute("height",this.height),n.setAttribute("x",this.width/2),n.setAttribute("y",this.height-e.FlyoutButton.MARGIN),this.updateTransform_(),this.onMouseUpWrapper_=e.bindEventWithChecks_(this.svgGroup_,"mouseup",this,this.onMouseUp_),this.svgGroup_},e.FlyoutButton.prototype.show=function(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")},e.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")},e.FlyoutButton.prototype.moveTo=function(e,t){this.position_.x=e,this.position_.y=t,this.updateTransform_()},e.FlyoutButton.prototype.getPosition=function(){return this.position_},e.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_},e.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&e.unbindEvent_(this.onMouseUpWrapper_),this.svgGroup_&&e.utils.dom.removeNode(this.svgGroup_),this.svgText_&&this.workspace_.getThemeManager().unsubscribe(this.svgText_)},e.FlyoutButton.prototype.onMouseUp_=function(e){(e=this.targetWorkspace_.getGesture(e))&&e.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace_.getButtonCallback(this.callbackKey_)?this.isLabel_||this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)},e.Css.register(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,},.blocklyFlyoutLabelText {,fill: #000;,}".split(",")),e.HorizontalFlyout=function(t){t.getMetrics=this.getMetrics_.bind(this),t.setMetrics=this.setMetrics_.bind(this),e.HorizontalFlyout.superClass_.constructor.call(this,t),this.horizontalLayout_=!0},e.utils.object.inherits(e.HorizontalFlyout,e.Flyout),e.HorizontalFlyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var t=this.workspace_.getCanvas().getBBox()}catch(s){t={height:0,y:0,width:0,x:0}}var o=this.SCROLLBAR_PADDING,n=this.SCROLLBAR_PADDING;this.toolboxPosition_==e.TOOLBOX_AT_BOTTOM&&(o=0);var i=this.height_;return this.toolboxPosition_==e.TOOLBOX_AT_TOP&&(i-=this.SCROLLBAR_PADDING),{viewHeight:i,viewWidth:this.width_-2*this.SCROLLBAR_PADDING,contentHeight:(t.height+2*this.MARGIN)*this.workspace_.scale,contentWidth:(t.width+2*this.MARGIN)*this.workspace_.scale,viewTop:-this.workspace_.scrollY,viewLeft:-this.workspace_.scrollX,contentTop:0,contentLeft:0,absoluteTop:o,absoluteLeft:n}},e.HorizontalFlyout.prototype.setMetrics_=function(e){var t=this.getMetrics_();t&&("number"==typeof e.x&&(this.workspace_.scrollX=-t.contentWidth*e.x),this.workspace_.translate(this.workspace_.scrollX+t.absoluteLeft,this.workspace_.scrollY+t.absoluteTop))},e.HorizontalFlyout.prototype.position=function(){if(this.isVisible()){var t=this.targetWorkspace_.getMetrics();t&&(this.width_=t.viewWidth,this.setBackgroundPath_(t.viewWidth-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),this.positionAt_(this.width_,this.height_,0,this.targetWorkspace_.toolboxPosition==this.toolboxPosition_?t.toolboxHeight?this.toolboxPosition_==e.TOOLBOX_AT_TOP?t.toolboxHeight:t.viewHeight-this.height_:this.toolboxPosition_==e.TOOLBOX_AT_TOP?0:t.viewHeight:this.toolboxPosition_==e.TOOLBOX_AT_TOP?0:t.viewHeight+t.absoluteTop-this.height_))}},e.HorizontalFlyout.prototype.setBackgroundPath_=function(t,o){var n=this.toolboxPosition_==e.TOOLBOX_AT_TOP,i=["M 0,"+(n?0:this.CORNER_RADIUS)];n?(i.push("h",t+2*this.CORNER_RADIUS),i.push("v",o),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("h",-1*t),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),i.push("h",t),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("v",o),i.push("h",-t-2*this.CORNER_RADIUS)),i.push("z"),this.svgBackground_.setAttribute("d",i.join(" "))},e.HorizontalFlyout.prototype.scrollToStart=function(){this.scrollbar_.set(this.RTL?1/0:0)},e.HorizontalFlyout.prototype.wheel_=function(t){var o=e.utils.getScrollDeltaPixels(t),n=o.x||o.y;n&&(n=(o=this.getMetrics_()).viewLeft+n,n=Math.min(n,o.contentWidth-o.viewWidth),n=Math.max(n,0),this.scrollbar_.set(n),e.WidgetDiv.hide()),t.preventDefault(),t.stopPropagation()},e.HorizontalFlyout.prototype.layout_=function(e,t){this.workspace_.scale=this.targetWorkspace_.scale;var o=this.MARGIN,n=o+this.tabWidth_;this.RTL&&(e=e.reverse());for(var i,s=0;i=e[s];s++)if("block"==i.type){for(var a,r=(i=i.block).getDescendants(!1),l=0;a=r[l];l++)a.isInFlyout=!0;i.render(),r=i.getSvgRoot(),l=i.getHeightWidth(),a=i.outputConnection?this.tabWidth_:0,a=this.RTL?n+l.width:n-a,i.moveBy(a,o),a=this.createRect_(i,a,o,l,s),n+=l.width+t[s],this.addBlockListeners_(r,i,a)}else"button"==i.type&&(this.initFlyoutButton_(i.button,n,o),n+=i.button.width+t[s])},e.HorizontalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t},e.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var t=this.svgGroup_.getBoundingClientRect(),o=t.top;return this.toolboxPosition_==e.TOOLBOX_AT_TOP?new e.utils.Rect(-1e9,o+t.height,-1e9,1e9):new e.utils.Rect(o,-1e9,-1e9,1e9)},e.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.targetWorkspace_.scale;for(var t,o=0,n=this.workspace_.getTopBlocks(!1),i=0;t=n[i];i++)o=Math.max(o,t.getHeightWidth().height);if(o+=1.5*this.MARGIN,o*=this.workspace_.scale,o+=e.Scrollbar.scrollbarThickness,this.height_!=o){for(i=0;t=n[i];i++)t.flyoutRect_&&this.moveRectToBlock_(t.flyoutRect_,t);this.height_=o,this.position()}},e.VerticalFlyout=function(t){t.getMetrics=this.getMetrics_.bind(this),t.setMetrics=this.setMetrics_.bind(this),e.VerticalFlyout.superClass_.constructor.call(this,t),this.horizontalLayout_=!1},e.utils.object.inherits(e.VerticalFlyout,e.Flyout),e.VerticalFlyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var e=this.workspace_.getCanvas().getBBox()}catch(i){e={height:0,y:0,width:0,x:0}}var t=this.SCROLLBAR_PADDING,o=this.height_-2*this.SCROLLBAR_PADDING,n=this.width_;return this.RTL||(n-=this.SCROLLBAR_PADDING),{viewHeight:o,viewWidth:n,contentHeight:e.height*this.workspace_.scale+2*this.MARGIN,contentWidth:e.width*this.workspace_.scale+2*this.MARGIN,viewTop:-this.workspace_.scrollY+e.y,viewLeft:-this.workspace_.scrollX,contentTop:e.y,contentLeft:e.x,absoluteTop:t,absoluteLeft:0}},e.VerticalFlyout.prototype.setMetrics_=function(e){var t=this.getMetrics_();t&&("number"==typeof e.y&&(this.workspace_.scrollY=-t.contentHeight*e.y),this.workspace_.translate(this.workspace_.scrollX+t.absoluteLeft,this.workspace_.scrollY+t.absoluteTop))},e.VerticalFlyout.prototype.position=function(){if(this.isVisible()){var t=this.targetWorkspace_.getMetrics();t&&(this.height_=t.viewHeight,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,t.viewHeight-2*this.CORNER_RADIUS),this.positionAt_(this.width_,this.height_,this.targetWorkspace_.toolboxPosition==this.toolboxPosition_?t.toolboxWidth?this.toolboxPosition_==e.TOOLBOX_AT_LEFT?t.toolboxWidth:t.viewWidth-this.width_:this.toolboxPosition_==e.TOOLBOX_AT_LEFT?0:t.viewWidth:this.toolboxPosition_==e.TOOLBOX_AT_LEFT?0:t.viewWidth+t.absoluteLeft-this.width_,0))}},e.VerticalFlyout.prototype.setBackgroundPath_=function(t,o){var n=this.toolboxPosition_==e.TOOLBOX_AT_RIGHT,i=t+this.CORNER_RADIUS;(i=["M "+(n?i:0)+",0"]).push("h",n?-t:t),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,n?0:1,n?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("v",Math.max(0,o)),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,n?0:1,n?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("h",n?t:-t),i.push("z"),this.svgBackground_.setAttribute("d",i.join(" "))},e.VerticalFlyout.prototype.scrollToStart=function(){this.scrollbar_.set(0)},e.VerticalFlyout.prototype.wheel_=function(t){var o=e.utils.getScrollDeltaPixels(t);if(o.y){var n=this.getMetrics_();o=n.viewTop-n.contentTop+o.y,o=Math.min(o,n.contentHeight-n.viewHeight),o=Math.max(o,0),this.scrollbar_.set(o),e.WidgetDiv.hide()}t.preventDefault(),t.stopPropagation()},e.VerticalFlyout.prototype.layout_=function(e,t){this.workspace_.scale=this.targetWorkspace_.scale;for(var o,n=this.MARGIN,i=this.RTL?n:n+this.tabWidth_,s=0;o=e[s];s++)if("block"==o.type){for(var a,r=(o=o.block).getDescendants(!1),l=0;a=r[l];l++)a.isInFlyout=!0;o.render(),r=o.getSvgRoot(),l=o.getHeightWidth(),a=o.outputConnection?i-this.tabWidth_:i,o.moveBy(a,n),a=this.createRect_(o,this.RTL?a-l.width:a,n,l,s),this.addBlockListeners_(r,o,a),n+=l.height+t[s]}else"button"==o.type&&(this.initFlyoutButton_(o.button,i,n),n+=o.button.height+t[s])},e.VerticalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t},e.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var t=this.svgGroup_.getBoundingClientRect(),o=t.left;return this.toolboxPosition_==e.TOOLBOX_AT_LEFT?new e.utils.Rect(-1e9,1e9,-1e9,o+t.width):(e.utils.userAgent.GECKO&&this.targetWorkspace_&&this.targetWorkspace_.isMutator&&(t=this.targetWorkspace_.svgGroup_.getBoundingClientRect().x,10>Math.abs(t-o)&&(o+=this.leftEdge_*this.targetWorkspace_.options.parentWorkspace.scale)),new e.utils.Rect(-1e9,1e9,o,1e9))},e.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.targetWorkspace_.scale;for(var t,o=0,n=this.workspace_.getTopBlocks(!1),i=0;t=n[i];i++){var s=t.getHeightWidth().width;t.outputConnection&&(s-=this.tabWidth_),o=Math.max(o,s)}for(i=0;t=this.buttons_[i];i++)o=Math.max(o,t.width);if(o+=1.5*this.MARGIN+this.tabWidth_,o*=this.workspace_.scale,o+=e.Scrollbar.scrollbarThickness,this.width_!=o){for(i=0;t=n[i];i++){if(this.RTL){s=t.getRelativeToSurfaceXY().x;var a=o/this.workspace_.scale-this.MARGIN;t.outputConnection||(a-=this.tabWidth_),t.moveBy(a-s,0)}t.flyoutRect_&&this.moveRectToBlock_(t.flyoutRect_,t)}if(this.RTL)for(i=0;t=this.buttons_[i];i++)n=t.getPosition().y,t.moveTo(o/this.workspace_.scale-t.width-this.MARGIN-this.tabWidth_,n);this.width_=o,this.position()}},e.Generator=function(e){this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")},e.Generator.NAME_TYPE="generated_function",e.Generator.prototype.INFINITE_LOOP_TRAP=null,e.Generator.prototype.STATEMENT_PREFIX=null,e.Generator.prototype.STATEMENT_SUFFIX=null,e.Generator.prototype.INDENT="  ",e.Generator.prototype.COMMENT_WRAP=60,e.Generator.prototype.ORDER_OVERRIDES=[],e.Generator.prototype.workspaceToCode=function(t){t||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),t=e.getMainWorkspace());var o=[];this.init(t),t=t.getTopBlocks(!0);for(var n,i=0;n=t[i];i++){var s=this.blockToCode(n);Array.isArray(s)&&(s=s[0]),s&&(n.outputConnection&&(s=this.scrubNakedValue(s),this.STATEMENT_PREFIX&&!n.suppressPrefixSuffix&&(s=this.injectId(this.STATEMENT_PREFIX,n)+s),this.STATEMENT_SUFFIX&&!n.suppressPrefixSuffix&&(s+=this.injectId(this.STATEMENT_SUFFIX,n))),o.push(s))}return o=o.join("\n"),(o=(o=(o=this.finish(o)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")},e.Generator.prototype.prefixLines=function(e,t){return t+e.replace(/(?!\n$)\n/g,"\n"+t)},e.Generator.prototype.allNestedComments=function(e){var t=[];e=e.getDescendants(!0);for(var o=0;o<e.length;o++){var n=e[o].getCommentText();n&&t.push(n)}return t.length&&t.push(""),t.join("\n")},e.Generator.prototype.blockToCode=function(e,t){if(!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());var o=this[e.type];if("function"!=typeof o)throw Error('Language "'+this.name_+'" does not know how to generate  code for block type "'+e.type+'".');if(o=o.call(e,e),Array.isArray(o)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,o[0],t),o[1]]}if("string"==typeof o)return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(o=this.injectId(this.STATEMENT_PREFIX,e)+o),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(o+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,o,t);if(null===o)return"";throw SyntaxError("Invalid code generated: "+o)},e.Generator.prototype.valueToCode=function(e,t,o){if(isNaN(o))throw TypeError("Expecting valid order from block: "+e.type);var n=e.getInputTargetBlock(t);if(!n)return"";if(""===(t=this.blockToCode(n)))return"";if(!Array.isArray(t))throw TypeError("Expecting tuple from value block: "+n.type);if(e=t[0],t=t[1],isNaN(t))throw TypeError("Expecting valid order from value block: "+n.type);if(!e)return"";n=!1;var i=Math.floor(o),s=Math.floor(t);if(i<=s&&(i!=s||0!=i&&99!=i))for(n=!0,i=0;i<this.ORDER_OVERRIDES.length;i++)if(this.ORDER_OVERRIDES[i][0]==o&&this.ORDER_OVERRIDES[i][1]==t){n=!1;break}return n&&(e="("+e+")"),e},e.Generator.prototype.statementToCode=function(e,t){var o=e.getInputTargetBlock(t),n=this.blockToCode(o);if("string"!=typeof n)throw TypeError("Expecting code from statement block: "+(o&&o.type));return n&&(n=this.prefixLines(n,this.INDENT)),n},e.Generator.prototype.addLoopTrap=function(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e},e.Generator.prototype.injectId=function(e,t){var o=t.id.replace(/\$/g,"$$$$");return e.replace(/%1/g,"'"+o+"'")},e.Generator.prototype.RESERVED_WORDS_="",e.Generator.prototype.addReservedWords=function(e){this.RESERVED_WORDS_+=e+","},e.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",e.Generator.prototype.provideFunction_=function(t,o){if(!this.definitions_[t]){var n,i=this.variableDB_.getDistinctName(t,e.Procedures.NAME_TYPE);for(this.functionNames_[t]=i,i=o.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,i);n!=i;)n=i,i=i.replace(/^(( {2})*) {2}/gm,"$1\0");i=i.replace(/\0/g,this.INDENT),this.definitions_[t]=i}return this.functionNames_[t]},e.Generator.prototype.init=function(e){},e.Generator.prototype.scrub_=function(e,t){return t},e.Generator.prototype.finish=function(e){return e},e.Generator.prototype.scrubNakedValue=function(e){return e},e.CursorSvg=function(e,t){this.workspace_=e,this.isMarker_=t,this.parent_=null,this.constants_=e.getRenderer().getConstants()},e.CursorSvg.CURSOR_HEIGHT=5,e.CursorSvg.CURSOR_WIDTH=100,e.CursorSvg.NOTCH_START_LENGTH=24,e.CursorSvg.VERTICAL_PADDING=5,e.CursorSvg.STACK_PADDING=10,e.CursorSvg.BLOCK_PADDING=2,e.CursorSvg.HEIGHT_MULTIPLIER=.75,e.CursorSvg.CURSOR_COLOR="#cc0a0a",e.CursorSvg.MARKER_COLOR="#4286f4",e.CursorSvg.CURSOR_CLASS="blocklyCursor",e.CursorSvg.MARKER_CLASS="blocklyMarker",e.CursorSvg.prototype.currentCursorSvg=null,e.CursorSvg.prototype.getSvgRoot=function(){return this.svgGroup_},e.CursorSvg.prototype.createDom=function(){return this.svgGroup_=e.utils.dom.createSvgElement("g",{class:this.isMarker_?e.CursorSvg.MARKER_CLASS:e.CursorSvg.CURSOR_CLASS},null),this.createCursorSvg_(),this.svgGroup_},e.CursorSvg.prototype.setParent_=function(e){this.isMarker_?(this.parent_&&this.parent_.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())),this.parent_=e},e.CursorSvg.prototype.showWithBlockPrevOutput_=function(t){if(t){var o=t.width,n=t.height,i=n*e.CursorSvg.HEIGHT_MULTIPLIER,s=e.CursorSvg.BLOCK_PADDING;t.previousConnection?this.positionPrevious_(o,s,i):t.outputConnection?this.positionOutput_(o,n):this.positionBlock_(o,s,i),this.setParent_(t),this.showCurrent_()}},e.CursorSvg.prototype.showWithCoordinates_=function(t){var o=t.getWsCoordinate();t=o.x,o=o.y,this.workspace_.RTL&&(t-=e.CursorSvg.CURSOR_WIDTH),this.positionLine_(t,o,e.CursorSvg.CURSOR_WIDTH),this.setParent_(this.workspace_),this.showCurrent_()},e.CursorSvg.prototype.showWithField_=function(e){var t=(e=e.getLocation()).getSize().width,o=e.getSize().height;this.positionRect_(0,0,t,o),this.setParent_(e),this.showCurrent_()},e.CursorSvg.prototype.showWithInput_=function(e){var t=(e=e.getLocation()).getSourceBlock();this.positionInput_(e),this.setParent_(t),this.showCurrent_()},e.CursorSvg.prototype.showWithNext_=function(e){var t=e.getLocation();e=t.getSourceBlock();var o=0;t=t.getOffsetInBlock().y;var n=e.getHeightWidth().width;this.workspace_.RTL&&(o=-n),this.positionLine_(o,t,n),this.setParent_(e),this.showCurrent_()},e.CursorSvg.prototype.showWithStack_=function(t){var o=(t=t.getLocation()).getHeightWidth(),n=o.width+e.CursorSvg.STACK_PADDING;o=o.height+e.CursorSvg.STACK_PADDING;var i=-1*e.CursorSvg.STACK_PADDING/2,s=-1*e.CursorSvg.STACK_PADDING/2,a=i;this.workspace_.RTL&&(a=-(n+i)),this.positionRect_(a,s,n,o),this.setParent_(t),this.showCurrent_()},e.CursorSvg.prototype.showCurrent_=function(){this.hide(),this.currentCursorSvg.style.display=""},e.CursorSvg.prototype.positionBlock_=function(t,o,n){t=e.utils.svgPaths.moveBy(-1*o,n)+e.utils.svgPaths.lineOnAxis("V",-1*o)+e.utils.svgPaths.lineOnAxis("H",t+2*o)+e.utils.svgPaths.lineOnAxis("V",n),this.cursorBlock_.setAttribute("d",t),this.workspace_.RTL&&this.flipRtl_(this.cursorBlock_),this.currentCursorSvg=this.cursorBlock_},e.CursorSvg.prototype.positionInput_=function(t){var o=t.getOffsetInBlock().x;t=t.getOffsetInBlock().y;var n=e.utils.svgPaths.moveTo(0,0)+this.constants_.PUZZLE_TAB.pathDown;this.cursorInput_.setAttribute("d",n),this.cursorInput_.setAttribute("transform","translate("+o+","+t+")"+(this.workspace_.RTL?" scale(-1 1)":"")),this.currentCursorSvg=this.cursorInput_},e.CursorSvg.prototype.positionLine_=function(e,t,o){this.cursorSvgLine_.setAttribute("x",e),this.cursorSvgLine_.setAttribute("y",t),this.cursorSvgLine_.setAttribute("width",o),this.currentCursorSvg=this.cursorSvgLine_},e.CursorSvg.prototype.positionOutput_=function(t,o){var n=e.utils.svgPaths.moveBy(t,0)+e.utils.svgPaths.lineOnAxis("h",-1*(t-this.constants_.PUZZLE_TAB.width))+e.utils.svgPaths.lineOnAxis("v",this.constants_.TAB_OFFSET_FROM_TOP)+this.constants_.PUZZLE_TAB.pathDown+e.utils.svgPaths.lineOnAxis("V",o)+e.utils.svgPaths.lineOnAxis("H",t);this.cursorBlock_.setAttribute("d",n),this.workspace_.RTL&&this.flipRtl_(this.cursorBlock_),this.currentCursorSvg=this.cursorBlock_},e.CursorSvg.prototype.positionPrevious_=function(t,o,n){t=e.utils.svgPaths.moveBy(-1*o,n)+e.utils.svgPaths.lineOnAxis("V",-1*o)+e.utils.svgPaths.lineOnAxis("H",this.constants_.NOTCH_OFFSET_LEFT)+this.constants_.NOTCH.pathLeft+e.utils.svgPaths.lineOnAxis("H",t+2*o)+e.utils.svgPaths.lineOnAxis("V",n),this.cursorBlock_.setAttribute("d",t),this.workspace_.RTL&&this.flipRtl_(this.cursorBlock_),this.currentCursorSvg=this.cursorBlock_},e.CursorSvg.prototype.positionRect_=function(e,t,o,n){this.cursorSvgRect_.setAttribute("x",e),this.cursorSvgRect_.setAttribute("y",t),this.cursorSvgRect_.setAttribute("width",o),this.cursorSvgRect_.setAttribute("height",n),this.currentCursorSvg=this.cursorSvgRect_},e.CursorSvg.prototype.flipRtl_=function(e){e.setAttribute("transform","scale(-1 1)")},e.CursorSvg.prototype.hide=function(){this.cursorSvgLine_.style.display="none",this.cursorSvgRect_.style.display="none",this.cursorInput_.style.display="none",this.cursorBlock_.style.display="none"},e.CursorSvg.prototype.draw=function(t){t?t.getType()===e.ASTNode.types.BLOCK?(t=t.getLocation(),this.showWithBlockPrevOutput_(t)):t.getType()===e.ASTNode.types.OUTPUT?(t=t.getLocation().getSourceBlock(),this.showWithBlockPrevOutput_(t)):t.getLocation().type===e.INPUT_VALUE?this.showWithInput_(t):t.getLocation().type===e.NEXT_STATEMENT?this.showWithNext_(t):t.getType()===e.ASTNode.types.PREVIOUS?(t=t.getLocation().getSourceBlock(),this.showWithBlockPrevOutput_(t)):t.getType()===e.ASTNode.types.FIELD?this.showWithField_(t):t.getType()===e.ASTNode.types.WORKSPACE?this.showWithCoordinates_(t):t.getType()===e.ASTNode.types.STACK&&this.showWithStack_(t):this.hide()},e.CursorSvg.prototype.createCursorSvg_=function(){var t=this.isMarker_?e.CursorSvg.MARKER_COLOR:e.CursorSvg.CURSOR_COLOR;return this.cursorSvg_=e.utils.dom.createSvgElement("g",{width:e.CursorSvg.CURSOR_WIDTH,height:e.CursorSvg.CURSOR_HEIGHT},this.svgGroup_),this.cursorSvgLine_=e.utils.dom.createSvgElement("rect",{x:"0",y:"0",fill:t,width:e.CursorSvg.CURSOR_WIDTH,height:e.CursorSvg.CURSOR_HEIGHT,style:"display: none;"},this.cursorSvg_),this.cursorSvgRect_=e.utils.dom.createSvgElement("rect",{class:"blocklyVerticalCursor",x:"0",y:"0",rx:"10",ry:"10",style:"display: none;",stroke:t},this.cursorSvg_),this.cursorInput_=e.utils.dom.createSvgElement("path",{width:e.CursorSvg.CURSOR_WIDTH,height:e.CursorSvg.CURSOR_HEIGHT,transform:"",style:"display: none;",fill:t},this.cursorSvg_),this.cursorBlock_=e.utils.dom.createSvgElement("path",{width:e.CursorSvg.CURSOR_WIDTH,height:e.CursorSvg.CURSOR_HEIGHT,transform:"",style:"display: none;",fill:"none",stroke:t,"stroke-width":"4"},this.cursorSvg_),this.isMarker_||(e.utils.dom.createSvgElement("animate",{attributeType:"XML",attributeName:"fill",dur:"1s",values:e.CursorSvg.CURSOR_COLOR+";transparent;transparent;",repeatCount:"indefinite"},this.cursorSvgLine_),e.utils.dom.createSvgElement("animate",{attributeType:"XML",attributeName:"fill",dur:"1s",values:e.CursorSvg.CURSOR_COLOR+";transparent;transparent;",repeatCount:"indefinite"},this.cursorInput_),e.utils.dom.createSvgElement("animate",{attributeType:"XML",attributeName:"stroke",dur:"1s",values:e.CursorSvg.CURSOR_COLOR+";transparent;transparent;",repeatCount:"indefinite"},this.cursorBlock_)),this.cursorSvg_},e.CursorSvg.prototype.dispose=function(){this.svgGroup_&&e.utils.dom.removeNode(this.svgGroup_)},e.Mutator=function(t){e.Mutator.superClass_.constructor.call(this,null),this.quarkNames_=t},e.utils.object.inherits(e.Mutator,e.Icon),e.Mutator.prototype.workspaceWidth_=0,e.Mutator.prototype.workspaceHeight_=0,e.Mutator.prototype.drawIcon_=function(t){e.utils.dom.createSvgElement("rect",{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},t),e.utils.dom.createSvgElement("path",{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},t),e.utils.dom.createSvgElement("circle",{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},t)},e.Mutator.prototype.iconClick_=function(t){this.block_.isEditable()&&e.Icon.prototype.iconClick_.call(this,t)},e.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=e.utils.dom.createSvgElement("svg",{x:e.Bubble.BORDER_WIDTH,y:e.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var t,o=e.utils.xml.createElement("xml"),n=0;t=this.quarkNames_[n];n++){var i=e.utils.xml.createElement("block");i.setAttribute("type",t),o.appendChild(i)}else o=null;return o={disable:!1,disabledPatternId:this.block_.workspace.options.disabledPatternId,languageTree:o,parentWorkspace:this.block_.workspace,pathToMedia:this.block_.workspace.options.pathToMedia,RTL:this.block_.RTL,toolboxPosition:this.block_.RTL?e.TOOLBOX_AT_RIGHT:e.TOOLBOX_AT_LEFT,horizontalLayout:!1,getMetrics:this.getFlyoutMetrics_.bind(this),setMetrics:null,renderer:this.block_.workspace.options.renderer},this.workspace_=new e.WorkspaceSvg(o),this.workspace_.isMutator=!0,this.workspace_.addChangeListener(e.Events.disableOrphans),o=this.workspace_.addFlyout_("g"),(n=this.workspace_.createDom("blocklyMutatorBackground")).insertBefore(o,this.workspace_.svgBlockCanvas_),this.svgDialog_.appendChild(n),this.svgDialog_},e.Mutator.prototype.updateEditable=function(){e.Mutator.superClass_.updateEditable.call(this),this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&e.utils.dom.removeClass(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&e.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly")))},e.Mutator.prototype.resizeBubble_=function(){var t=2*e.Bubble.BORDER_WIDTH,o=this.workspace_.getCanvas().getBBox(),n=this.block_.RTL?-o.x:o.width+o.x;if(o=o.height+3*t,this.workspace_.flyout_){var i=this.workspace_.flyout_.getMetrics_();o=Math.max(o,i.contentHeight+20)}n+=3*t,(Math.abs(this.workspaceWidth_-n)>t||Math.abs(this.workspaceHeight_-o)>t)&&(this.workspaceWidth_=n,this.workspaceHeight_=o,this.bubble_.setBubbleSize(n+t,o+t),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_)),this.block_.RTL&&(t="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",t)),this.workspace_.resize()},e.Mutator.prototype.setVisible=function(t){if(t!=this.isVisible())if(e.Events.fire(new e.Events.Ui(this.block_,"mutatorOpen",!t,t)),t){this.bubble_=new e.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),(t=this.workspace_.options.languageTree)&&(this.workspace_.flyout_.init(this.workspace_),this.workspace_.flyout_.show(t.childNodes)),this.rootBlock_=this.block_.decompose(this.workspace_),t=this.rootBlock_.getDescendants(!1);for(var o,n=0;o=t[n];n++)o.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),this.workspace_.flyout_?(t=2*this.workspace_.flyout_.CORNER_RADIUS,n=this.workspace_.getFlyout().getWidth()+t):n=t=16,this.block_.RTL&&(n=-n),this.rootBlock_.moveBy(n,t),this.block_.saveConnections){var i=this;this.block_.saveConnections(this.rootBlock_),this.sourceListener_=function(){i.block_.saveConnections(i.rootBlock_)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.updateColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},e.Mutator.prototype.workspaceChanged_=function(t){if(t.type!=e.Events.UI&&(t.type!=e.Events.CHANGE||"disabled"!=t.element)){if(!this.workspace_.isDragging()){t=this.workspace_.getTopBlocks(!1);for(var o,n=0;o=t[n];n++){var i=o.getRelativeToSurfaceXY(),s=o.getHeightWidth();20>i.y+s.height&&o.moveBy(0,20-s.height-i.y)}}if(this.rootBlock_.workspace==this.workspace_){if(e.Events.setGroup(!0),t=(t=(o=this.block_).mutationToDom())&&e.Xml.domToText(t),n=o.rendered,o.rendered=!1,o.compose(this.rootBlock_),o.rendered=n,o.initSvg(),t!=(n=(n=o.mutationToDom())&&e.Xml.domToText(n))){e.Events.fire(new e.Events.BlockChange(o,"mutation",null,t,n));var a=e.Events.getGroup();setTimeout((function(){e.Events.setGroup(a),o.bumpNeighbours(),e.Events.setGroup(!1)}),e.BUMP_DELAY)}o.rendered&&o.render(),t!=n&&e.keyboardAccessibilityMode&&e.navigation.moveCursorOnBlockMutation(o),this.workspace_.isDragging()||this.resizeBubble_(),e.Events.setGroup(!1)}}},e.Mutator.prototype.getFlyoutMetrics_=function(){return{viewHeight:this.workspaceHeight_,viewWidth:this.workspaceWidth_-this.workspace_.getFlyout().getWidth(),absoluteTop:0,absoluteLeft:this.workspace_.RTL?0:this.workspace_.getFlyout().getWidth()}},e.Mutator.prototype.dispose=function(){this.block_.mutator=null,e.Icon.prototype.dispose.call(this)},e.Mutator.prototype.updateBlockStyle=function(){var e=this.workspace_;if(e&&e.getAllBlocks()){for(var t=e.getAllBlocks(),o=0;o<t.length;o++){var n=t[o];n.setStyle(n.getStyleName())}for(e=e.flyout_.workspace_.getAllBlocks(),o=0;o<e.length;o++)(n=e[o]).setStyle(n.getStyleName())}},e.Mutator.reconnect=function(e,t,o){if(!e||!e.getSourceBlock().workspace)return!1;o=t.getInput(o).connection;var n=e.targetBlock();return!(n&&n!=t||o.targetConnection==e)&&(o.isConnected()&&o.disconnect(),o.connect(e),!0)},e.Mutator.findParentWs=function(e){var t=null;if(e&&e.options){var o=e.options.parentWorkspace;e.isFlyout?o&&o.options&&(t=o.options.parentWorkspace):o&&(t=o)}return t},e.utils.svgPaths={},e.utils.svgPaths.point=function(e,t){return" "+e+","+t+" "},e.utils.svgPaths.curve=function(e,t){return" "+e+t.join("")},e.utils.svgPaths.moveTo=function(e,t){return" M "+e+","+t+" "},e.utils.svgPaths.moveBy=function(e,t){return" m "+e+","+t+" "},e.utils.svgPaths.lineTo=function(e,t){return" l "+e+","+t+" "},e.utils.svgPaths.line=function(e){return" l"+e.join("")},e.utils.svgPaths.lineOnAxis=function(e,t){return" "+e+" "+t+" "},e.utils.svgPaths.arc=function(e,t,o,n){return e+" "+o+" "+o+" "+t+n},e.blockRendering.ConstantProvider=function(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.MAX_BOTTOM_WIDTH=66.5,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=e.utils.svgPaths.moveBy(0,0),this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6},e.blockRendering.ConstantProvider.prototype.init=function(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()},e.blockRendering.ConstantProvider.prototype.makeJaggedTeeth=function(){return{height:this.JAGGED_TEETH_HEIGHT,width:this.JAGGED_TEETH_WIDTH,path:e.utils.svgPaths.line([e.utils.svgPaths.point(6,3),e.utils.svgPaths.point(-12,6),e.utils.svgPaths.point(6,3)])}},e.blockRendering.ConstantProvider.prototype.makeStartHat=function(){var t=this.START_HAT_HEIGHT,o=this.START_HAT_WIDTH;return{height:t,width:o,path:e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(30,-t),e.utils.svgPaths.point(70,-t),e.utils.svgPaths.point(o,0)])}},e.blockRendering.ConstantProvider.prototype.makePuzzleTab=function(){function t(t){var i=-(t=t?-1:1),s=n/2,a=s+2.5,r=s+.5,l=e.utils.svgPaths.point(-o,t*s);return s=e.utils.svgPaths.point(o,t*s),e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(0,t*a),e.utils.svgPaths.point(-o,i*r),l])+e.utils.svgPaths.curve("s",[e.utils.svgPaths.point(o,2.5*i),s])}var o=this.TAB_WIDTH,n=this.TAB_HEIGHT,i=t(!0),s=t(!1);return{width:o,height:n,pathDown:s,pathUp:i}},e.blockRendering.ConstantProvider.prototype.makeNotch=function(){function t(t){return e.utils.svgPaths.line([e.utils.svgPaths.point(t*i,n),e.utils.svgPaths.point(3*t,0),e.utils.svgPaths.point(t*i,-n)])}var o=this.NOTCH_WIDTH,n=this.NOTCH_HEIGHT,i=(o-3)/2,s=t(1),a=t(-1);return{width:o,height:n,pathLeft:s,pathRight:a}},e.blockRendering.ConstantProvider.prototype.makeInsideCorners=function(){var t=this.CORNER_RADIUS;return{width:t,height:t,pathTop:e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(-t,t)),pathBottom:e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(t,t))}},e.blockRendering.ConstantProvider.prototype.makeOutsideCorners=function(){var t=this.CORNER_RADIUS;return{topLeft:e.utils.svgPaths.moveBy(0,t)+e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(t,-t)),bottomLeft:t=e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(-t,-t))}},e.blockRendering.ConstantProvider.prototype.shapeFor=function(t){switch(t.type){case e.INPUT_VALUE:case e.OUTPUT_VALUE:return this.PUZZLE_TAB;case e.PREVIOUS_STATEMENT:case e.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}},e.blockRendering.Types={NONE:0,FIELD:1,HAT:2,ICON:4,SPACER:8,BETWEEN_ROW_SPACER:16,IN_ROW_SPACER:32,EXTERNAL_VALUE_INPUT:64,INPUT:128,INLINE_INPUT:256,STATEMENT_INPUT:512,CONNECTION:1024,PREVIOUS_CONNECTION:2048,NEXT_CONNECTION:4096,OUTPUT_CONNECTION:8192,CORNER:16384,LEFT_SQUARE_CORNER:32768,LEFT_ROUND_CORNER:65536,RIGHT_SQUARE_CORNER:131072,RIGHT_ROUND_CORNER:262144,JAGGED_EDGE:524288,ROW:1048576,TOP_ROW:2097152,BOTTOM_ROW:4194304,INPUT_ROW:8388608},e.blockRendering.Types.LEFT_CORNER=e.blockRendering.Types.LEFT_SQUARE_CORNER|e.blockRendering.Types.LEFT_ROUND_CORNER,e.blockRendering.Types.RIGHT_CORNER=e.blockRendering.Types.RIGHT_SQUARE_CORNER|e.blockRendering.Types.RIGHT_ROUND_CORNER,e.blockRendering.Types.nextTypeValue_=16777216,e.blockRendering.Types.getType=function(t){return e.blockRendering.Types.hasOwnProperty(t)||(e.blockRendering.Types[t]=e.blockRendering.Types.nextTypeValue_,e.blockRendering.Types.nextTypeValue_<<=1),e.blockRendering.Types[t]},e.blockRendering.Types.isField=function(t){return t.type&e.blockRendering.Types.FIELD},e.blockRendering.Types.isHat=function(t){return t.type&e.blockRendering.Types.HAT},e.blockRendering.Types.isIcon=function(t){return t.type&e.blockRendering.Types.ICON},e.blockRendering.Types.isSpacer=function(t){return t.type&e.blockRendering.Types.SPACER},e.blockRendering.Types.isInRowSpacer=function(t){return t.type&e.blockRendering.Types.IN_ROW_SPACER},e.blockRendering.Types.isInput=function(t){return t.type&e.blockRendering.Types.INPUT},e.blockRendering.Types.isExternalInput=function(t){return t.type&e.blockRendering.Types.EXTERNAL_VALUE_INPUT},e.blockRendering.Types.isInlineInput=function(t){return t.type&e.blockRendering.Types.INLINE_INPUT},e.blockRendering.Types.isStatementInput=function(t){return t.type&e.blockRendering.Types.STATEMENT_INPUT},e.blockRendering.Types.isPreviousConnection=function(t){return t.type&e.blockRendering.Types.PREVIOUS_CONNECTION},e.blockRendering.Types.isNextConnection=function(t){return t.type&e.blockRendering.Types.NEXT_CONNECTION},e.blockRendering.Types.isPreviousOrNextConnection=function(t){return t.type&(e.blockRendering.Types.PREVIOUS_CONNECTION|e.blockRendering.Types.NEXT_CONNECTION)},e.blockRendering.Types.isLeftRoundedCorner=function(t){return t.type&e.blockRendering.Types.LEFT_ROUND_CORNER},e.blockRendering.Types.isRightRoundedCorner=function(t){return t.type&e.blockRendering.Types.RIGHT_ROUND_CORNER},e.blockRendering.Types.isLeftSquareCorner=function(t){return t.type&e.blockRendering.Types.LEFT_SQUARE_CORNER},e.blockRendering.Types.isRightSquareCorner=function(t){return t.type&e.blockRendering.Types.RIGHT_SQUARE_CORNER},e.blockRendering.Types.isCorner=function(t){return t.type&e.blockRendering.Types.CORNER},e.blockRendering.Types.isJaggedEdge=function(t){return t.type&e.blockRendering.Types.JAGGED_EDGE},e.blockRendering.Types.isRow=function(t){return t.type&e.blockRendering.Types.ROW},e.blockRendering.Types.isBetweenRowSpacer=function(t){return t.type&e.blockRendering.Types.BETWEEN_ROW_SPACER},e.blockRendering.Types.isTopRow=function(t){return t.type&e.blockRendering.Types.TOP_ROW},e.blockRendering.Types.isBottomRow=function(t){return t.type&e.blockRendering.Types.BOTTOM_ROW},e.blockRendering.Types.isTopOrBottomRow=function(t){return t.type&(e.blockRendering.Types.TOP_ROW|e.blockRendering.Types.BOTTOM_ROW)},e.blockRendering.Types.isInputRow=function(t){return t.type&e.blockRendering.Types.INPUT_ROW},e.blockRendering.Measurable=function(t){this.height=this.width=0,this.type=e.blockRendering.Types.NONE,this.centerline=this.xPos=0,this.constants_=t,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT},e.blockRendering.Connection=function(t,o){e.blockRendering.Connection.superClass_.constructor.call(this,t),this.connectionModel=o,this.shape=this.constants_.shapeFor(o),this.type|=e.blockRendering.Types.CONNECTION},e.utils.object.inherits(e.blockRendering.Connection,e.blockRendering.Measurable),e.blockRendering.OutputConnection=function(t,o){e.blockRendering.OutputConnection.superClass_.constructor.call(this,t,o),this.type|=e.blockRendering.Types.OUTPUT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.startX=this.width},e.utils.object.inherits(e.blockRendering.OutputConnection,e.blockRendering.Connection),e.blockRendering.OutputConnection.prototype.isDynamic=function(){return this.shape.isDynamic},e.blockRendering.PreviousConnection=function(t,o){e.blockRendering.PreviousConnection.superClass_.constructor.call(this,t,o),this.type|=e.blockRendering.Types.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},e.utils.object.inherits(e.blockRendering.PreviousConnection,e.blockRendering.Connection),e.blockRendering.NextConnection=function(t,o){e.blockRendering.NextConnection.superClass_.constructor.call(this,t,o),this.type|=e.blockRendering.Types.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},e.utils.object.inherits(e.blockRendering.NextConnection,e.blockRendering.Connection),e.blockRendering.InputConnection=function(t,o){if(e.blockRendering.InputConnection.superClass_.constructor.call(this,t,o.connection),this.type|=e.blockRendering.Types.INPUT,this.input=o,this.align=o.align,this.connectedBlock=o.connection&&o.connection.targetBlock()?o.connection.targetBlock():null){var n=this.connectedBlock.getHeightWidth();this.connectedBlockWidth=n.width,this.connectedBlockHeight=n.height}else this.connectedBlockHeight=this.connectedBlockWidth=0;this.connection=o.connection,this.connectionOffsetY=this.connectionOffsetX=0},e.utils.object.inherits(e.blockRendering.InputConnection,e.blockRendering.Connection),e.blockRendering.InlineInput=function(t,o){e.blockRendering.InlineInput.superClass_.constructor.call(this,t,o),this.type|=e.blockRendering.Types.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.shape.width+this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width},e.utils.object.inherits(e.blockRendering.InlineInput,e.blockRendering.InputConnection),e.blockRendering.StatementInput=function(t,o){e.blockRendering.StatementInput.superClass_.constructor.call(this,t,o),this.type|=e.blockRendering.Types.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.NOTCH_OFFSET_LEFT+this.shape.width},e.utils.object.inherits(e.blockRendering.StatementInput,e.blockRendering.InputConnection),e.blockRendering.ExternalValueInput=function(t,o){e.blockRendering.ExternalValueInput.superClass_.constructor.call(this,t,o),this.type|=e.blockRendering.Types.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-2*this.constants_.TAB_OFFSET_FROM_TOP:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width},e.utils.object.inherits(e.blockRendering.ExternalValueInput,e.blockRendering.InputConnection),e.blockRendering.Icon=function(t,o){e.blockRendering.Icon.superClass_.constructor.call(this,t),this.icon=o,this.isVisible=o.isVisible(),this.type|=e.blockRendering.Types.ICON;var n=o.getCorrectedSize();this.height=n.height,this.width=n.width},e.utils.object.inherits(e.blockRendering.Icon,e.blockRendering.Measurable),e.blockRendering.JaggedEdge=function(t){e.blockRendering.JaggedEdge.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width},e.utils.object.inherits(e.blockRendering.JaggedEdge,e.blockRendering.Measurable),e.blockRendering.Field=function(t,o,n){e.blockRendering.Field.superClass_.constructor.call(this,t),this.field=o,this.isEditable=o.isCurrentlyEditable(),this.flipRtl=o.getFlipRtl(),this.type|=e.blockRendering.Types.FIELD,t=this.field.getSize(),this.height=t.height,this.width=t.width,this.parentInput=n},e.utils.object.inherits(e.blockRendering.Field,e.blockRendering.Measurable),e.blockRendering.Hat=function(t){e.blockRendering.Hat.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height},e.utils.object.inherits(e.blockRendering.Hat,e.blockRendering.Measurable),e.blockRendering.SquareCorner=function(t,o){e.blockRendering.SquareCorner.superClass_.constructor.call(this,t),this.type=(o&&"left"!=o?e.blockRendering.Types.RIGHT_SQUARE_CORNER:e.blockRendering.Types.LEFT_SQUARE_CORNER)|e.blockRendering.Types.CORNER,this.width=this.height=this.constants_.NO_PADDING},e.utils.object.inherits(e.blockRendering.SquareCorner,e.blockRendering.Measurable),e.blockRendering.RoundCorner=function(t,o){e.blockRendering.RoundCorner.superClass_.constructor.call(this,t),this.type=(o&&"left"!=o?e.blockRendering.Types.RIGHT_ROUND_CORNER:e.blockRendering.Types.LEFT_ROUND_CORNER)|e.blockRendering.Types.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2},e.utils.object.inherits(e.blockRendering.RoundCorner,e.blockRendering.Measurable),e.blockRendering.InRowSpacer=function(t,o){e.blockRendering.InRowSpacer.superClass_.constructor.call(this,t),this.type=this.type|e.blockRendering.Types.SPACER|e.blockRendering.Types.IN_ROW_SPACER,this.width=o,this.height=this.constants_.SPACER_DEFAULT_HEIGHT},e.utils.object.inherits(e.blockRendering.InRowSpacer,e.blockRendering.Measurable),e.blockRendering.Row=function(t){this.type=e.blockRendering.Types.ROW,this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=this.hasStatement=this.hasExternalInput=!1,this.constants_=t,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT},e.blockRendering.Row.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.")},e.blockRendering.Row.prototype.getLastInput=function(){for(var t,o=this.elements.length-1;t=this.elements[o];o--)if(e.blockRendering.Types.isInput(t))return t;return null},e.blockRendering.Row.prototype.startsWithElemSpacer=function(){return!0},e.blockRendering.Row.prototype.endsWithElemSpacer=function(){return!0},e.blockRendering.Row.prototype.getFirstSpacer=function(){for(var t,o=0;t=this.elements[o];o++)if(e.blockRendering.Types.isSpacer(t))return t;return null},e.blockRendering.Row.prototype.getLastSpacer=function(){for(var t,o=this.elements.length-1;t=this.elements[o];o--)if(e.blockRendering.Types.isSpacer(t))return t;return null},e.blockRendering.TopRow=function(t){e.blockRendering.TopRow.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.TOP_ROW,this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null},e.utils.object.inherits(e.blockRendering.TopRow,e.blockRendering.Row),e.blockRendering.TopRow.prototype.hasLeftSquareCorner=function(t){var o=t.hat?"cap"===t.hat:e.BlockSvg.START_HAT,n=t.getPreviousBlock();return!!t.outputConnection||o||!!n&&n.getNextBlock()==t},e.blockRendering.TopRow.prototype.measure=function(){for(var t,o=0,n=0,i=0,s=0;t=this.elements[s];s++)n+=t.width,e.blockRendering.Types.isSpacer(t)||(e.blockRendering.Types.isHat(t)?i=Math.max(i,t.ascenderHeight):o=Math.max(o,t.height));this.width=Math.max(this.minWidth,n),this.height=Math.max(this.minHeight,o)+i,this.capline=this.ascenderHeight=i,this.widthWithConnectedBlocks=this.width},e.blockRendering.TopRow.prototype.startsWithElemSpacer=function(){return!1},e.blockRendering.BottomRow=function(t){e.blockRendering.BottomRow.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.BOTTOM_ROW,this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0},e.utils.object.inherits(e.blockRendering.BottomRow,e.blockRendering.Row),e.blockRendering.BottomRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection||!!e.getNextBlock()},e.blockRendering.BottomRow.prototype.measure=function(){for(var t,o=0,n=0,i=0,s=0;t=this.elements[s];s++)n+=t.width,e.blockRendering.Types.isSpacer(t)||(e.blockRendering.Types.isNextConnection(t)?i=Math.max(i,t.height):o=Math.max(o,t.height));this.width=Math.max(this.minWidth,n),this.height=Math.max(this.minHeight,o)+i,this.descenderHeight=i,this.widthWithConnectedBlocks=this.width},e.blockRendering.BottomRow.prototype.startsWithElemSpacer=function(){return!1},e.blockRendering.SpacerRow=function(t,o,n){e.blockRendering.SpacerRow.superClass_.constructor.call(this,t),this.type=this.type|e.blockRendering.Types.SPACER|e.blockRendering.Types.BETWEEN_ROW_SPACER,this.width=n,this.height=o,this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.elements=[new e.blockRendering.InRowSpacer(this.constants_,n)]},e.utils.object.inherits(e.blockRendering.SpacerRow,e.blockRendering.Row),e.blockRendering.SpacerRow.prototype.measure=function(){},e.blockRendering.InputRow=function(t){e.blockRendering.InputRow.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.INPUT_ROW,this.connectedBlockWidths=0},e.utils.object.inherits(e.blockRendering.InputRow,e.blockRendering.Row),e.blockRendering.InputRow.prototype.measure=function(){this.width=this.minWidth,this.height=this.minHeight;for(var t,o=0,n=0;t=this.elements[n];n++)this.width+=t.width,e.blockRendering.Types.isInput(t)&&(e.blockRendering.Types.isStatementInput(t)?o+=t.connectedBlockWidth:e.blockRendering.Types.isExternalInput(t)&&0!=t.connectedBlockWidth&&(o+=t.connectedBlockWidth-t.connectionWidth)),e.blockRendering.Types.isSpacer(t)||(this.height=Math.max(this.height,t.height));this.connectedBlockWidths=o,this.widthWithConnectedBlocks=this.width+o},e.blockRendering.InputRow.prototype.endsWithElemSpacer=function(){return!this.hasExternalInput&&!this.hasStatement},e.blockRendering.RenderInfo=function(t,o){this.block_=o,this.renderer_=t,this.constants_=this.renderer_.getConstants(),this.outputConnection=o.outputConnection?new e.blockRendering.OutputConnection(this.constants_,o.outputConnection):null,this.isInline=o.getInputsInline()&&!o.isCollapsed(),this.isCollapsed=o.isCollapsed(),this.isInsertionMarker=o.isInsertionMarker(),this.RTL=o.RTL,this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.hiddenIcons=[],this.topRow=new e.blockRendering.TopRow(this.constants_),this.bottomRow=new e.blockRendering.BottomRow(this.constants_),this.startY=this.startX=0},e.blockRendering.RenderInfo.prototype.getRenderer=function(){return this.renderer_},e.blockRendering.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.addRowSpacing_(),this.finalize_()},e.blockRendering.RenderInfo.prototype.createRows_=function(){this.populateTopRow_(),this.rows.push(this.topRow);var t=new e.blockRendering.InputRow(this.constants_),o=this.block_.getIcons();if(o.length)for(var n,i=0;n=o[i];i++){var s=new e.blockRendering.Icon(this.constants_,n);this.isCollapsed&&n.collapseHidden?this.hiddenIcons.push(s):t.elements.push(s)}for(n=null,i=0;o=this.block_.inputList[i];i++)if(o.isVisible()){for(this.shouldStartNewRow_(o,n)&&(this.rows.push(t),t=new e.blockRendering.InputRow(this.constants_)),n=0;s=o.fieldRow[n];n++)t.elements.push(new e.blockRendering.Field(this.constants_,s,o));this.addInput_(o,t),n=o}this.isCollapsed&&(t.hasJaggedEdge=!0,t.elements.push(new e.blockRendering.JaggedEdge(this.constants_))),(t.elements.length||t.hasDummyInput)&&this.rows.push(t),this.populateBottomRow_(),this.rows.push(this.bottomRow)},e.blockRendering.RenderInfo.prototype.populateTopRow_=function(){var t=this.block_.hat?"cap"===this.block_.hat:e.BlockSvg.START_HAT,o=!!this.block_.previousConnection;this.topRow.hasLeftSquareCorner(this.block_)?this.topRow.elements.push(new e.blockRendering.SquareCorner(this.constants_)):this.topRow.elements.push(new e.blockRendering.RoundCorner(this.constants_)),t?(t=new e.blockRendering.Hat(this.constants_),this.topRow.elements.push(t),this.topRow.capline=t.ascenderHeight):o&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new e.blockRendering.PreviousConnection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0].type==e.NEXT_STATEMENT&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.LARGE_PADDING:this.topRow.minHeight=this.constants_.MEDIUM_PADDING},e.blockRendering.RenderInfo.prototype.populateBottomRow_=function(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==e.NEXT_STATEMENT?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING-1,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new e.blockRendering.SquareCorner(this.constants_)):this.bottomRow.elements.push(new e.blockRendering.RoundCorner(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new e.blockRendering.NextConnection(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection))},e.blockRendering.RenderInfo.prototype.addInput_=function(t,o){this.isInline&&t.type==e.INPUT_VALUE?(o.elements.push(new e.blockRendering.InlineInput(this.constants_,t)),o.hasInlineInput=!0):t.type==e.NEXT_STATEMENT?(o.elements.push(new e.blockRendering.StatementInput(this.constants_,t)),o.hasStatement=!0):t.type==e.INPUT_VALUE?(o.elements.push(new e.blockRendering.ExternalValueInput(this.constants_,t)),o.hasExternalInput=!0):t.type==e.DUMMY_INPUT&&(o.hasDummyInput=!0)},e.blockRendering.RenderInfo.prototype.shouldStartNewRow_=function(t,o){return!!o&&(t.type==e.NEXT_STATEMENT||o.type==e.NEXT_STATEMENT||(t.type==e.INPUT_VALUE||t.type==e.DUMMY_INPUT)&&!this.isInline)},e.blockRendering.RenderInfo.prototype.addElemSpacing_=function(){for(var t,o=0;t=this.rows[o];o++){var n=t.elements;t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,n[0])));for(var i=0;i<n.length-1;i++){t.elements.push(n[i]);var s=this.getInRowSpacing_(n[i],n[i+1]);t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,s))}t.elements.push(n[n.length-1]),t.endsWithElemSpacer()&&t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(n[n.length-1],null)))}},e.blockRendering.RenderInfo.prototype.getInRowSpacing_=function(t,o){if(t&&e.blockRendering.Types.isInput(t)&&!o){if(e.blockRendering.Types.isExternalInput(t))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isInlineInput(t))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(t))return this.constants_.NO_PADDING}return t&&e.blockRendering.Types.isLeftSquareCorner(t)&&o&&(e.blockRendering.Types.isPreviousConnection(o)||e.blockRendering.Types.isNextConnection(o))?o.notchOffset:t&&e.blockRendering.Types.isLeftRoundedCorner(t)&&o&&(e.blockRendering.Types.isPreviousConnection(o)||e.blockRendering.Types.isNextConnection(o))?o.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},e.blockRendering.RenderInfo.prototype.computeBounds_=function(){for(var e,t=0,o=0,n=0,i=0;e=this.rows[i];i++){if(e.measure(),o=Math.max(o,e.width),e.hasStatement){var s=e.getLastInput();t=Math.max(t,e.width-s.width)}n=Math.max(n,e.widthWithConnectedBlocks)}for(this.statementEdge=t,this.width=o,i=0;e=this.rows[i];i++)e.hasStatement&&(e.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(o,n),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)},e.blockRendering.RenderInfo.prototype.alignRowElements_=function(){for(var e,t=0;e=this.rows[t];t++)if(e.hasStatement)this.alignStatementRow_(e);else{var o=this.width-this.startX-e.width;o&&this.addAlignmentPadding_(e,o)}},e.blockRendering.RenderInfo.prototype.addAlignmentPadding_=function(e,t){var o=e.getLastSpacer();o&&(o.width+=t,e.width+=t)},e.blockRendering.RenderInfo.prototype.alignStatementRow_=function(e){var t=e.getLastInput(),o=e.width-t.width,n=this.statementEdge-this.startX;(o=n-o)&&this.addAlignmentPadding_(e,o),o=e.width,n=this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0),t.width+=n-o,e.width+=n-o,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)},e.blockRendering.RenderInfo.prototype.addRowSpacing_=function(){var e=this.rows;this.rows=[];for(var t=0;t<e.length;t++)this.rows.push(e[t]),t!=e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))},e.blockRendering.RenderInfo.prototype.makeSpacerRow_=function(t,o){var n=this.getSpacerRowHeight_(t,o),i=this.getSpacerRowWidth_(t,o);return n=new e.blockRendering.SpacerRow(this.constants_,n,i),t.hasStatement&&(n.followsStatement=!0),n},e.blockRendering.RenderInfo.prototype.getSpacerRowWidth_=function(e,t){return this.width-this.startX},e.blockRendering.RenderInfo.prototype.getSpacerRowHeight_=function(e,t){return this.constants_.MEDIUM_PADDING},e.blockRendering.RenderInfo.prototype.getElemCenterline_=function(t,o){if(e.blockRendering.Types.isSpacer(o))return t.yPos+o.height/2;if(e.blockRendering.Types.isBottomRow(t)){var n=t.yPos+t.height-t.descenderHeight;return e.blockRendering.Types.isNextConnection(o)?n+o.height/2:n-o.height/2}return e.blockRendering.Types.isTopRow(t)?e.blockRendering.Types.isHat(o)?t.capline-o.height/2:t.capline+o.height/2:t.yPos+t.height/2},e.blockRendering.RenderInfo.prototype.recordElemPositions_=function(t){for(var o,n=t.xPos,i=0;o=t.elements[i];i++)e.blockRendering.Types.isSpacer(o)&&(o.height=t.height),o.xPos=n,o.centerline=this.getElemCenterline_(t,o),n+=o.width},e.blockRendering.RenderInfo.prototype.finalize_=function(){for(var e,t=0,o=0,n=0;e=this.rows[n];n++)e.yPos=o,e.xPos=this.startX,o+=e.height,t=Math.max(t,e.widthWithConnectedBlocks),this.recordElemPositions_(e);this.widthWithChildren=t+this.startX,this.height=o,this.startY=this.topRow.capline,this.bottomRow.baseline=o-this.bottomRow.descenderHeight},e.blockRendering.Drawer=function(e,t){this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.inlinePath_=this.outlinePath_="",this.constants_=t.getRenderer().getConstants()},e.blockRendering.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPaths(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),e.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},e.blockRendering.Drawer.prototype.recordSizeOnBlock_=function(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren},e.blockRendering.Drawer.prototype.hideHiddenIcons_=function(){for(var e,t=0;e=this.info_.hiddenIcons[t];t++)e.icon.iconGroup_.setAttribute("display","none")},e.blockRendering.Drawer.prototype.drawOutline_=function(){this.drawTop_();for(var e=1;e<this.info_.rows.length-1;e++){var t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()},e.blockRendering.Drawer.prototype.drawTop_=function(){var t=this.info_.topRow,o=t.elements;this.positionPreviousConnection_(),this.outlinePath_+=e.utils.svgPaths.moveBy(t.xPos,this.info_.startY);for(var n,i=0;n=o[i];i++)e.blockRendering.Types.isLeftRoundedCorner(n)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:e.blockRendering.Types.isPreviousConnection(n)?this.outlinePath_+=n.shape.pathLeft:e.blockRendering.Types.isHat(n)?this.outlinePath_+=this.constants_.START_HAT.path:e.blockRendering.Types.isSpacer(n)&&(this.outlinePath_+=e.utils.svgPaths.lineOnAxis("h",n.width));this.outlinePath_+=e.utils.svgPaths.lineOnAxis("v",t.height)},e.blockRendering.Drawer.prototype.drawJaggedEdge_=function(t){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+e.utils.svgPaths.lineOnAxis("v",t.height-this.constants_.JAGGED_TEETH.height)},e.blockRendering.Drawer.prototype.drawValueInput_=function(t){var o=t.getLastInput();this.positionExternalValueConnection_(t);var n="function"==typeof o.shape.pathDown?o.shape.pathDown(o.height):o.shape.pathDown;this.outlinePath_+=e.utils.svgPaths.lineOnAxis("H",o.xPos+o.width)+n+e.utils.svgPaths.lineOnAxis("v",t.height-o.connectionHeight)},e.blockRendering.Drawer.prototype.drawStatementInput_=function(t){var o=t.getLastInput(),n=o.xPos+o.notchOffset+o.shape.width;o=o.shape.pathRight+e.utils.svgPaths.lineOnAxis("h",-(o.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var i=t.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=e.utils.svgPaths.lineOnAxis("H",n)+o+e.utils.svgPaths.lineOnAxis("v",i)+this.constants_.INSIDE_CORNERS.pathBottom+e.utils.svgPaths.lineOnAxis("H",t.xPos+t.width),this.positionStatementInputConnection_(t)},e.blockRendering.Drawer.prototype.drawRightSideRow_=function(t){this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",t.yPos+t.height)},e.blockRendering.Drawer.prototype.drawBottom_=function(){var t=this.info_.bottomRow,o=t.elements;this.positionNextConnection_(),this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",t.baseline);for(var n,i=o.length-1;n=o[i];i--)e.blockRendering.Types.isNextConnection(n)?this.outlinePath_+=n.shape.pathRight:e.blockRendering.Types.isLeftSquareCorner(n)?this.outlinePath_+=e.utils.svgPaths.lineOnAxis("H",t.xPos):e.blockRendering.Types.isLeftRoundedCorner(n)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.bottomLeft:e.blockRendering.Types.isSpacer(n)&&(this.outlinePath_+=e.utils.svgPaths.lineOnAxis("h",-1*n.width))},e.blockRendering.Drawer.prototype.drawLeft_=function(){var t=this.info_.outputConnection;if(this.positionOutputConnection_(),t){var o=t.connectionOffsetY+t.height;t="function"==typeof t.shape.pathUp?t.shape.pathUp(t.height):t.shape.pathUp,this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",o)+t}this.outlinePath_+="z"},e.blockRendering.Drawer.prototype.drawInternals_=function(){for(var t,o=0;t=this.info_.rows[o];o++)for(var n,i=0;n=t.elements[i];i++)e.blockRendering.Types.isInlineInput(n)?this.drawInlineInput_(n):(e.blockRendering.Types.isIcon(n)||e.blockRendering.Types.isField(n))&&this.layoutField_(n)},e.blockRendering.Drawer.prototype.layoutField_=function(t){if(e.blockRendering.Types.isField(t))var o=t.field.getSvgRoot();else e.blockRendering.Types.isIcon(t)&&(o=t.icon.iconGroup_);var n=t.centerline-t.height/2,i=t.xPos,s="";this.info_.RTL&&(i=-(i+t.width),t.flipRtl&&(i+=t.width,s="scale(-1 1)")),e.blockRendering.Types.isIcon(t)?(o.setAttribute("display","block"),o.setAttribute("transform","translate("+i+","+n+")"),t.icon.computeIconLocation()):o.setAttribute("transform","translate("+i+","+n+")"+s),this.info_.isInsertionMarker&&o.setAttribute("display","none")},e.blockRendering.Drawer.prototype.drawInlineInput_=function(t){var o=t.width,n=t.height,i=t.connectionOffsetY,s=t.connectionHeight+i;this.inlinePath_+=e.utils.svgPaths.moveTo(t.xPos+t.connectionWidth,t.centerline-n/2)+e.utils.svgPaths.lineOnAxis("v",i)+t.shape.pathDown+e.utils.svgPaths.lineOnAxis("v",n-s)+e.utils.svgPaths.lineOnAxis("h",o-t.connectionWidth)+e.utils.svgPaths.lineOnAxis("v",-n)+"z",this.positionInlineInputConnection_(t)},e.blockRendering.Drawer.prototype.positionInlineInputConnection_=function(e){var t=e.centerline-e.height/2;if(e.connection){var o=e.xPos+e.connectionWidth;this.info_.RTL&&(o*=-1),e.connection.setOffsetInBlock(o,t+e.connectionOffsetY)}},e.blockRendering.Drawer.prototype.positionStatementInputConnection_=function(e){var t=e.getLastInput();if(t.connection){var o=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(o*=-1),t.connection.setOffsetInBlock(o,e.yPos)}},e.blockRendering.Drawer.prototype.positionExternalValueConnection_=function(e){var t=e.getLastInput();if(t.connection){var o=e.xPos+e.width;this.info_.RTL&&(o*=-1),t.connection.setOffsetInBlock(o,e.yPos)}},e.blockRendering.Drawer.prototype.positionPreviousConnection_=function(){var e=this.info_.topRow;if(e.connection){var t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}},e.blockRendering.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var t=(e=e.connection).xPos;e.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,e.centerline-e.height/2)}},e.blockRendering.Drawer.prototype.positionOutputConnection_=function(){if(this.info_.outputConnection){var e=this.info_.startX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}},e.blockRendering.Renderer=function(){this.constants_=null},e.blockRendering.Renderer.prototype.init=function(){this.constants_=this.makeConstants_(),this.constants_.init()},e.blockRendering.Renderer.prototype.makeConstants_=function(){return new e.blockRendering.ConstantProvider},e.blockRendering.Renderer.prototype.makeRenderInfo_=function(t){return new e.blockRendering.RenderInfo(this,t)},e.blockRendering.Renderer.prototype.makeDrawer_=function(t,o){return new e.blockRendering.Drawer(t,o)},e.blockRendering.Renderer.prototype.makeDebugger_=function(){if(!e.blockRendering.Debug)throw Error("Missing require for Blockly.blockRendering.Debug");return new e.blockRendering.Debug},e.blockRendering.Renderer.prototype.makeCursorDrawer=function(t,o){return new e.CursorSvg(t,o)},e.blockRendering.Renderer.prototype.makePathObject=function(t){return new e.blockRendering.PathObject(t)},e.blockRendering.Renderer.prototype.getConstants=function(){return this.constants_},e.blockRendering.Renderer.prototype.render=function(t){e.blockRendering.useDebugger&&!t.renderingDebugger&&(t.renderingDebugger=this.makeDebugger_());var o=this.makeRenderInfo_(t);o.measure(),this.makeDrawer_(t,o).draw()},e.geras={},e.geras.ConstantProvider=function(){e.geras.ConstantProvider.superClass_.constructor.call(this),this.DARK_PATH_OFFSET=1},e.utils.object.inherits(e.geras.ConstantProvider,e.blockRendering.ConstantProvider),e.geras.Highlighter=function(e){this.info_=e,this.inlineSteps_=this.steps_="",this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH},e.geras.Highlighter.prototype.getPath=function(){return this.steps_+"\n"+this.inlineSteps_},e.geras.Highlighter.prototype.drawTopCorner=function(t){this.steps_+=e.utils.svgPaths.moveBy(t.xPos,this.info_.startY);for(var o,n=0;o=t.elements[n];n++)e.blockRendering.Types.isLeftSquareCorner(o)?this.steps_+=this.highlightConstants_.START_POINT:e.blockRendering.Types.isLeftRoundedCorner(o)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):e.blockRendering.Types.isPreviousConnection(o)?this.steps_+=this.notchPaths_.pathLeft:e.blockRendering.Types.isHat(o)?this.steps_+=this.startPaths_.path(this.RTL_):e.blockRendering.Types.isSpacer(o)&&0!=o.width&&(this.steps_+=e.utils.svgPaths.lineOnAxis("H",o.xPos+o.width-this.highlightOffset_));this.steps_+=e.utils.svgPaths.lineOnAxis("H",t.xPos+t.width-this.highlightOffset_)},e.geras.Highlighter.prototype.drawJaggedEdge_=function(t){this.info_.RTL&&(this.steps_+=e.utils.svgPaths.lineOnAxis("H",t.width-this.highlightOffset_),this.steps_+=this.jaggedTeethPaths_.pathLeft,this.steps_+=e.utils.svgPaths.lineOnAxis("v",t.height-this.jaggedTeethPaths_.height-this.highlightOffset_))},e.geras.Highlighter.prototype.drawValueInput=function(t){var o=t.getLastInput();if(this.RTL_){var n=t.height-o.connectionHeight;this.steps_+=e.utils.svgPaths.moveTo(o.xPos+o.width-this.highlightOffset_,t.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+e.utils.svgPaths.lineOnAxis("v",n)}else this.steps_+=e.utils.svgPaths.moveTo(o.xPos+o.width,t.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)},e.geras.Highlighter.prototype.drawStatementInput=function(t){var o=t.getLastInput();if(this.RTL_){var n=t.height-2*this.insideCornerPaths_.height;this.steps_+=e.utils.svgPaths.moveTo(o.xPos,t.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+e.utils.svgPaths.lineOnAxis("v",n)+this.insideCornerPaths_.pathBottom(this.RTL_)+e.utils.svgPaths.lineTo(t.width-o.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=e.utils.svgPaths.moveTo(o.xPos,t.yPos+t.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+e.utils.svgPaths.lineTo(t.width-o.xPos-this.insideCornerPaths_.width,0)},e.geras.Highlighter.prototype.drawRightSideRow=function(t){var o=t.xPos+t.width-this.highlightOffset_;t.followsStatement&&(this.steps_+=e.utils.svgPaths.lineOnAxis("H",o)),this.RTL_&&(this.steps_+=e.utils.svgPaths.lineOnAxis("H",o),t.height>this.highlightOffset_&&(this.steps_+=e.utils.svgPaths.lineOnAxis("V",t.yPos+t.height-this.highlightOffset_)))},e.geras.Highlighter.prototype.drawBottomRow=function(t){if(this.RTL_)this.steps_+=e.utils.svgPaths.lineOnAxis("V",t.baseline-this.highlightOffset_);else{var o=this.info_.bottomRow.elements[0];e.blockRendering.Types.isLeftSquareCorner(o)?this.steps_+=e.utils.svgPaths.moveTo(t.xPos+this.highlightOffset_,t.baseline-this.highlightOffset_):e.blockRendering.Types.isLeftRoundedCorner(o)&&(this.steps_+=e.utils.svgPaths.moveTo(t.xPos,t.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}},e.geras.Highlighter.prototype.drawLeft=function(){var t=this.info_.outputConnection;t&&(t=t.connectionOffsetY+t.height,this.RTL_?this.steps_+=e.utils.svgPaths.moveTo(this.info_.startX,t):(this.steps_+=e.utils.svgPaths.moveTo(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=e.utils.svgPaths.lineOnAxis("V",t)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(t=this.info_.topRow,e.blockRendering.Types.isLeftRoundedCorner(t.elements[0])?this.steps_+=e.utils.svgPaths.lineOnAxis("V",this.outsideCornerPaths_.height):this.steps_+=e.utils.svgPaths.lineOnAxis("V",t.capline+this.highlightOffset_))},e.geras.Highlighter.prototype.drawInlineInput=function(t){var o=this.highlightOffset_,n=t.xPos+t.connectionWidth,i=t.centerline-t.height/2,s=t.width-t.connectionWidth,a=i+o;this.RTL_?(i=t.connectionOffsetY-o,t=t.height-(t.connectionOffsetY+t.connectionHeight)+o,this.inlineSteps_+=e.utils.svgPaths.moveTo(n-o,a)+e.utils.svgPaths.lineOnAxis("v",i)+this.puzzleTabPaths_.pathDown(this.RTL_)+e.utils.svgPaths.lineOnAxis("v",t)+e.utils.svgPaths.lineOnAxis("h",s)):this.inlineSteps_+=e.utils.svgPaths.moveTo(t.xPos+t.width+o,a)+e.utils.svgPaths.lineOnAxis("v",t.height)+e.utils.svgPaths.lineOnAxis("h",-s)+e.utils.svgPaths.moveTo(n,i+t.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)},e.geras.PathObject=function(t){this.svgRoot=t,this.svgPathDark=e.utils.dom.createSvgElement("path",{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgRoot),this.svgPath=e.utils.dom.createSvgElement("path",{class:"blocklyPath"},this.svgRoot),this.svgPathLight=e.utils.dom.createSvgElement("path",{class:"blocklyPathLight"},this.svgRoot)},e.geras.PathObject.prototype.setPaths=function(e,t){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e),this.svgPathLight.setAttribute("d",t)},e.geras.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")},e.geras.InlineInput=function(t,o){e.geras.InlineInput.superClass_.constructor.call(this,t,o),this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)},e.utils.object.inherits(e.geras.InlineInput,e.blockRendering.InlineInput),e.geras.StatementInput=function(t,o){e.geras.StatementInput.superClass_.constructor.call(this,t,o),this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)},e.utils.object.inherits(e.geras.StatementInput,e.blockRendering.StatementInput),e.geras.RenderInfo=function(t,o){e.geras.RenderInfo.superClass_.constructor.call(this,t,o)},e.utils.object.inherits(e.geras.RenderInfo,e.blockRendering.RenderInfo),e.geras.RenderInfo.prototype.getRenderer=function(){return this.renderer_},e.geras.RenderInfo.prototype.addInput_=function(t,o){this.isInline&&t.type==e.INPUT_VALUE?(o.elements.push(new e.geras.InlineInput(this.constants_,t)),o.hasInlineInput=!0):t.type==e.NEXT_STATEMENT?(o.elements.push(new e.geras.StatementInput(this.constants_,t)),o.hasStatement=!0):t.type==e.INPUT_VALUE?(o.elements.push(new e.blockRendering.ExternalValueInput(this.constants_,t)),o.hasExternalInput=!0):t.type==e.DUMMY_INPUT&&(o.hasDummyInput=!0)},e.geras.RenderInfo.prototype.getInRowSpacing_=function(t,o){if(!t)return o&&e.blockRendering.Types.isField(o)&&o.isEditable?this.constants_.MEDIUM_PADDING:o&&e.blockRendering.Types.isInlineInput(o)?this.constants_.MEDIUM_LARGE_PADDING:o&&e.blockRendering.Types.isStatementInput(o)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!e.blockRendering.Types.isInput(t)&&!o)return e.blockRendering.Types.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:e.blockRendering.Types.isIcon(t)?2*this.constants_.LARGE_PADDING+1:e.blockRendering.Types.isHat(t)?this.constants_.NO_PADDING:e.blockRendering.Types.isPreviousOrNextConnection(t)?this.constants_.LARGE_PADDING:e.blockRendering.Types.isLeftRoundedCorner(t)?this.constants_.MIN_BLOCK_WIDTH:e.blockRendering.Types.isJaggedEdge(t)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isInput(t)&&!o){if(e.blockRendering.Types.isExternalInput(t))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isInlineInput(t))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(t))return this.constants_.NO_PADDING}if(!e.blockRendering.Types.isInput(t)&&o&&e.blockRendering.Types.isInput(o)){if(t.isEditable){if(e.blockRendering.Types.isInlineInput(o)||e.blockRendering.Types.isExternalInput(o))return this.constants_.SMALL_PADDING}else{if(e.blockRendering.Types.isInlineInput(o)||e.blockRendering.Types.isExternalInput(o))return this.constants_.MEDIUM_LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(o))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(e.blockRendering.Types.isIcon(t)&&o&&!e.blockRendering.Types.isInput(o))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isInlineInput(t)&&o&&!e.blockRendering.Types.isInput(o))return o.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isLeftSquareCorner(t)&&o){if(e.blockRendering.Types.isHat(o))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isPreviousConnection(o))return o.notchOffset;if(e.blockRendering.Types.isNextConnection(o)){var n=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2;return o.notchOffset+n}}if(e.blockRendering.Types.isLeftRoundedCorner(t)&&o){if(e.blockRendering.Types.isPreviousConnection(o))return o.notchOffset-this.constants_.CORNER_RADIUS;if(e.blockRendering.Types.isNextConnection(o))return n=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2,o.notchOffset-this.constants_.CORNER_RADIUS+n}return!e.blockRendering.Types.isInput(t)&&o&&!e.blockRendering.Types.isInput(o)&&t.isEditable==o.isEditable||o&&e.blockRendering.Types.isJaggedEdge(o)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},e.geras.RenderInfo.prototype.addAlignmentPadding_=function(t,o){var n=t.getFirstSpacer(),i=t.getLastSpacer();(t.hasExternalInput||t.hasStatement)&&(t.widthWithConnectedBlocks+=o);var s=t.getLastInput();s?s.align==e.ALIGN_LEFT?i.width+=o:s.align==e.ALIGN_CENTRE?(n.width+=o/2,i.width+=o/2):s.align==e.ALIGN_RIGHT&&(n.width+=o):i.width+=o,t.width+=o},e.geras.RenderInfo.prototype.getSpacerRowHeight_=function(t,o){return e.blockRendering.Types.isTopRow(t)&&e.blockRendering.Types.isBottomRow(o)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:e.blockRendering.Types.isTopRow(t)||e.blockRendering.Types.isBottomRow(o)?this.constants_.NO_PADDING:t.hasExternalInput&&o.hasExternalInput?this.constants_.LARGE_PADDING:!t.hasStatement&&o.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:t.hasStatement&&o.hasStatement||!t.hasStatement&&o.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},e.geras.RenderInfo.prototype.getElemCenterline_=function(t,o){if(e.blockRendering.Types.isSpacer(o))return t.yPos+o.height/2;if(e.blockRendering.Types.isBottomRow(t)){var n=t.yPos+t.height-t.descenderHeight;return e.blockRendering.Types.isNextConnection(o)?n+o.height/2:n-o.height/2}return e.blockRendering.Types.isTopRow(t)?e.blockRendering.Types.isHat(o)?t.capline-o.height/2:t.capline+o.height/2:(n=t.yPos,e.blockRendering.Types.isField(o)||e.blockRendering.Types.isIcon(o)?(n+=o.height/2,(t.hasInlineInput||t.hasStatement)&&o.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=t.height&&(n+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):n=e.blockRendering.Types.isInlineInput(o)?n+o.height/2:n+t.height/2,n)},e.geras.RenderInfo.prototype.finalize_=function(){for(var e,t=0,o=0,n=0;e=this.rows[n];n++){e.yPos=o,e.xPos=this.startX,o+=e.height,t=Math.max(t,e.widthWithConnectedBlocks);var i=o-this.topRow.ascenderHeight;e==this.bottomRow&&i<this.constants_.MIN_BLOCK_HEIGHT&&(i=this.constants_.MIN_BLOCK_HEIGHT-i,this.bottomRow.height+=i,o+=i),this.recordElemPositions_(e)}this.bottomRow.baseline=o-this.bottomRow.descenderHeight,this.widthWithChildren=t+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=o+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline},e.geras.Drawer=function(t,o){e.geras.Drawer.superClass_.constructor.call(this,t,o),this.highlighter_=new e.geras.Highlighter(o)},e.utils.object.inherits(e.geras.Drawer,e.blockRendering.Drawer),e.geras.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPaths(this.outlinePath_+"\n"+this.inlinePath_,this.highlighter_.getPath()),this.info_.RTL&&this.block_.pathObject.flipRTL(),e.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},e.geras.Drawer.prototype.drawTop_=function(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),e.geras.Drawer.superClass_.drawTop_.call(this)},e.geras.Drawer.prototype.drawJaggedEdge_=function(t){this.highlighter_.drawJaggedEdge_(t),e.geras.Drawer.superClass_.drawJaggedEdge_.call(this,t)},e.geras.Drawer.prototype.drawValueInput_=function(t){this.highlighter_.drawValueInput(t),e.geras.Drawer.superClass_.drawValueInput_.call(this,t)},e.geras.Drawer.prototype.drawStatementInput_=function(t){this.highlighter_.drawStatementInput(t),e.geras.Drawer.superClass_.drawStatementInput_.call(this,t)},e.geras.Drawer.prototype.drawRightSideRow_=function(t){this.highlighter_.drawRightSideRow(t),e.geras.Drawer.superClass_.drawRightSideRow_.call(this,t)},e.geras.Drawer.prototype.drawBottom_=function(){this.highlighter_.drawBottomRow(this.info_.bottomRow),e.geras.Drawer.superClass_.drawBottom_.call(this)},e.geras.Drawer.prototype.drawLeft_=function(){this.highlighter_.drawLeft(),e.geras.Drawer.superClass_.drawLeft_.call(this)},e.geras.Drawer.prototype.drawInlineInput_=function(t){this.highlighter_.drawInlineInput(t),e.geras.Drawer.superClass_.drawInlineInput_.call(this,t)},e.geras.Drawer.prototype.positionInlineInputConnection_=function(e){var t=e.centerline-e.height/2;if(e.connection){var o=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(o*=-1),e.connection.setOffsetInBlock(o,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}},e.geras.Drawer.prototype.positionStatementInputConnection_=function(e){var t=e.getLastInput();if(t.connection){var o=e.xPos+e.statementEdge+t.notchOffset;o=this.info_.RTL?-1*o:o+this.constants_.DARK_PATH_OFFSET,t.connection.setOffsetInBlock(o,e.yPos+this.constants_.DARK_PATH_OFFSET)}},e.geras.Drawer.prototype.positionExternalValueConnection_=function(e){var t=e.getLastInput();if(t.connection){var o=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(o*=-1),t.connection.setOffsetInBlock(o,e.yPos)}},e.geras.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var t=(e=e.connection).xPos;e.connectionModel.setOffsetInBlock((this.info_.RTL?-t:t)+this.constants_.DARK_PATH_OFFSET/2,e.centerline-e.height/2+this.constants_.DARK_PATH_OFFSET)}},e.geras.HighlightConstantProvider=function(t){this.constantProvider=t,this.OFFSET=.5,this.START_POINT=e.utils.svgPaths.moveBy(this.OFFSET,this.OFFSET),this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()},e.geras.HighlightConstantProvider.prototype.makeInsideCorner=function(){var t=this.constantProvider.CORNER_RADIUS,o=this.OFFSET,n=(1-Math.SQRT1_2)*(t+o)-o,i=e.utils.svgPaths.moveBy(n,n)+e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(-n-o,t-n)),s=e.utils.svgPaths.arc("a","0 0,0",t+o,e.utils.svgPaths.point(t+o,t+o)),a=e.utils.svgPaths.moveBy(n,-n)+e.utils.svgPaths.arc("a","0 0,0",t+o,e.utils.svgPaths.point(t-n,n+o));return{width:t+o,height:t,pathTop:function(e){return e?i:""},pathBottom:function(e){return e?s:a}}},e.geras.HighlightConstantProvider.prototype.makeOutsideCorner=function(){var t=this.constantProvider.CORNER_RADIUS,o=this.OFFSET,n=(1-Math.SQRT1_2)*(t-o)+o,i=e.utils.svgPaths.moveBy(n,n)+e.utils.svgPaths.arc("a","0 0,1",t-o,e.utils.svgPaths.point(t-n,-n+o)),s=e.utils.svgPaths.moveBy(o,t)+e.utils.svgPaths.arc("a","0 0,1",t-o,e.utils.svgPaths.point(t,-t+o)),a=-n,r=e.utils.svgPaths.moveBy(n,a)+e.utils.svgPaths.arc("a","0 0,1",t-o,e.utils.svgPaths.point(-n+o,-a-t));return{height:t,topLeft:function(e){return e?i:s},bottomLeft:function(){return r}}},e.geras.HighlightConstantProvider.prototype.makePuzzleTab=function(){var t=this.constantProvider.TAB_WIDTH,o=this.constantProvider.TAB_HEIGHT,n=e.utils.svgPaths.moveBy(-2,3.4-o)+e.utils.svgPaths.lineTo(-.45*t,-2.1),i=e.utils.svgPaths.lineOnAxis("v",2.5)+e.utils.svgPaths.moveBy(.97*-t,2.5)+e.utils.svgPaths.curve("q",[e.utils.svgPaths.point(.05*-t,10),e.utils.svgPaths.point(.3*t,9.5)])+e.utils.svgPaths.moveBy(.67*t,-1.9)+e.utils.svgPaths.lineOnAxis("v",2.5),s=e.utils.svgPaths.lineOnAxis("v",-1.5)+e.utils.svgPaths.moveBy(-.92*t,-.5)+e.utils.svgPaths.curve("q",[e.utils.svgPaths.point(-.19*t,-5.5),e.utils.svgPaths.point(0,-11)])+e.utils.svgPaths.moveBy(.92*t,1),a=e.utils.svgPaths.moveBy(-5,o-.7)+e.utils.svgPaths.lineTo(.46*t,-2.1);return{width:t,height:o,pathUp:function(e){return e?n:s},pathDown:function(e){return e?i:a}}},e.geras.HighlightConstantProvider.prototype.makeNotch=function(){return{pathLeft:e.utils.svgPaths.lineOnAxis("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}},e.geras.HighlightConstantProvider.prototype.makeJaggedTeeth=function(){return{pathLeft:e.utils.svgPaths.lineTo(5.1,2.6)+e.utils.svgPaths.moveBy(-10.2,6.8)+e.utils.svgPaths.lineTo(5.1,2.6)}},e.geras.HighlightConstantProvider.prototype.makeStartHat=function(){var t=this.constantProvider.START_HAT.height,o=e.utils.svgPaths.moveBy(25,-8.7)+e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(29.7,-6.2),e.utils.svgPaths.point(57.2,-.5),e.utils.svgPaths.point(75,8.7)]),n=e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(17.8,-9.2),e.utils.svgPaths.point(45.3,-14.9),e.utils.svgPaths.point(75,-8.7)])+e.utils.svgPaths.moveTo(100.5,t+.5);return{path:function(e){return e?o:n}}},e.geras.Renderer=function(){e.geras.Renderer.superClass_.constructor.call(this),this.highlightConstants_=null},e.utils.object.inherits(e.geras.Renderer,e.blockRendering.Renderer),e.geras.Renderer.prototype.init=function(){e.geras.Renderer.superClass_.init.call(this),this.highlightConstants_=this.makeHighlightConstants_()},e.geras.Renderer.prototype.makeConstants_=function(){return new e.geras.ConstantProvider},e.geras.Renderer.prototype.makeRenderInfo_=function(t){return new e.geras.RenderInfo(this,t)},e.geras.Renderer.prototype.makeDrawer_=function(t,o){return new e.geras.Drawer(t,o)},e.geras.Renderer.prototype.makePathObject=function(t){return new e.geras.PathObject(t)},e.blockRendering.Renderer.prototype.makeHighlightConstants_=function(){return new e.geras.HighlightConstantProvider(this.getConstants())},e.geras.Renderer.prototype.getHighlightConstants=function(){return this.highlightConstants_},e.blockRendering.register("geras",e.geras.Renderer),e.Toolbox=function(e){this.workspace_=e,this.RTL=e.options.RTL,this.horizontalLayout_=e.options.horizontalLayout,this.toolboxPosition=e.options.toolboxPosition,this.config_={indentWidth:19,cssRoot:"blocklyTreeRoot",cssHideRoot:"blocklyHidden",cssTreeRow:"blocklyTreeRow",cssItemLabel:"blocklyTreeLabel",cssTreeIcon:"blocklyTreeIcon",cssExpandedFolderIcon:"blocklyTreeIconOpen",cssFileIcon:"blocklyTreeIconNone",cssSelectedRow:"blocklyTreeSelected"},this.treeSeparatorConfig_={cssTreeRow:"blocklyTreeSeparator"},this.horizontalLayout_&&(this.config_.cssTreeRow+=e.RTL?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.treeSeparatorConfig_.cssTreeRow="blocklyTreeSeparatorHorizontal "+(e.RTL?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),this.config_.cssTreeIcon="")},e.Toolbox.prototype.width=0,e.Toolbox.prototype.height=0,e.Toolbox.prototype.selectedOption_=null,e.Toolbox.prototype.lastCategory_=null,e.Toolbox.prototype.init=function(){var t=this.workspace_,o=this.workspace_.getParentSvg();if(this.HtmlDiv=document.createElement("div"),this.HtmlDiv.className="blocklyToolboxDiv blocklyNonSelectable",this.HtmlDiv.setAttribute("dir",t.RTL?"RTL":"LTR"),o.parentNode.insertBefore(this.HtmlDiv,o),(o=t.getThemeManager()).subscribe(this.HtmlDiv,"toolbox","background-color"),o.subscribe(this.HtmlDiv,"toolboxText","color"),e.bindEventWithChecks_(this.HtmlDiv,"mousedown",this,(function(t){e.utils.isRightButton(t)||t.target==this.HtmlDiv?e.hideChaff(!1):e.hideChaff(!0),e.Touch.clearTouchIdentifier()}),!1,!0),o={disabledPatternId:t.options.disabledPatternId,parentWorkspace:t,RTL:t.RTL,oneBasedIndex:t.options.oneBasedIndex,horizontalLayout:t.horizontalLayout,toolboxPosition:t.options.toolboxPosition,renderer:t.options.renderer},this.flyout_=null,t.horizontalLayout){if(!e.HorizontalFlyout)throw Error("Missing require for Blockly.HorizontalFlyout");this.flyout_=new e.HorizontalFlyout(o)}else{if(!e.VerticalFlyout)throw Error("Missing require for Blockly.VerticalFlyout");this.flyout_=new e.VerticalFlyout(o)}e.utils.dom.insertAfter(this.flyout_.createDom("svg"),this.workspace_.getParentSvg()),this.flyout_.init(t),this.config_.cleardotPath=t.options.pathToMedia+"1x1.gif",this.config_.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(t.RTL?"Rtl":"Ltr"),this.renderTree(t.options.languageTree)},e.Toolbox.prototype.renderTree=function(t){this.tree_&&(this.tree_.dispose(),this.lastCategory_=null);var o=new e.tree.TreeControl(this,this.config_);this.tree_=o,o.setSelectedItem(null),o.onBeforeSelected(this.handleBeforeTreeSelected_),o.onAfterSelected(this.handleAfterTreeSelected_);var n=null;if(t){if(this.tree_.blocks=[],this.hasColours_=!1,n=this.syncTrees_(t,this.tree_,this.workspace_.options.pathToMedia),this.tree_.blocks.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");this.workspace_.resizeContents()}o.render(this.HtmlDiv),n&&o.setSelectedItem(n),this.addColour_(),this.position(),this.horizontalLayout_&&e.utils.aria.setState(this.tree_.getElement(),e.utils.aria.State.ORIENTATION,"horizontal")},e.Toolbox.prototype.handleBeforeTreeSelected_=function(e){if(e==this.tree_)return!1;if(this.lastCategory_&&(this.lastCategory_.getRowElement().style.backgroundColor=""),e){var t=e.hexColour||"#57e";e.getRowElement().style.backgroundColor=t,this.addColour_(e)}return!0},e.Toolbox.prototype.handleAfterTreeSelected_=function(t,o){if(o&&o.blocks&&o.blocks.length?(this.flyout_.show(o.blocks),this.lastCategory_!=o&&this.flyout_.scrollToStart(),e.keyboardAccessibilityMode&&e.navigation.setState(e.navigation.STATE_TOOLBOX)):(this.flyout_.hide(),!e.keyboardAccessibilityMode||o instanceof e.Toolbox.TreeSeparator||e.navigation.setState(e.navigation.STATE_WS)),t!=o&&t!=this){var n=new e.Events.Ui(null,"category",t&&t.getText(),o&&o.getText());n.workspaceId=this.workspace_.id,e.Events.fire(n)}o&&(this.lastCategory_=o)},e.Toolbox.prototype.handleNodeSizeChanged_=function(){e.svgResize(this.workspace_)},e.Toolbox.prototype.onBlocklyAction=function(t){var o=this.tree_.getSelectedItem();if(!o)return!1;switch(t.name){case e.navigation.actionNames.PREVIOUS:return o.selectPrevious();case e.navigation.actionNames.OUT:return o.selectParent();case e.navigation.actionNames.NEXT:return o.selectNext();case e.navigation.actionNames.IN:return o.selectChild();default:return!1}},e.Toolbox.prototype.dispose=function(){this.flyout_.dispose(),this.tree_.dispose(),this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),e.utils.dom.removeNode(this.HtmlDiv),this.lastCategory_=this.workspace_=null},e.Toolbox.prototype.getWidth=function(){return this.width},e.Toolbox.prototype.getHeight=function(){return this.height},e.Toolbox.prototype.position=function(){var t=this.HtmlDiv;if(t){var o=this.workspace_.getParentSvg();o=e.svgSize(o),this.horizontalLayout_?(t.style.left="0",t.style.height="auto",t.style.width=o.width+"px",this.height=t.offsetHeight,this.toolboxPosition==e.TOOLBOX_AT_TOP?t.style.top="0":t.style.bottom="0"):(this.toolboxPosition==e.TOOLBOX_AT_RIGHT?t.style.right="0":t.style.left="0",t.style.height=o.height+"px",this.width=t.offsetWidth),this.flyout_.position()}},e.Toolbox.prototype.syncTrees_=function(t,o,n){for(var i,s=null,a=null,r=0;i=t.childNodes[r];r++)if(i.tagName)switch(i.tagName.toUpperCase()){case"CATEGORY":a=e.utils.replaceMessageReferences(i.getAttribute("name"));var l=this.tree_.createNode(a);l.onSizeChanged(this.handleNodeSizeChanged_),l.blocks=[],o.add(l);var c=i.getAttribute("custom");c?l.blocks=c:(c=this.syncTrees_(i,l,n))&&(s=c),c=i.getAttribute("categorystyle");var u=i.getAttribute("colour");u&&c?(l.hexColour="",console.warn('Toolbox category "'+a+'" can not have both a style and a colour')):c?this.setColourFromStyle_(c,l,a):this.setColour_(u,l,a),"true"==i.getAttribute("expanded")?(l.blocks.length&&(s=l),l.setExpanded(!0)):l.setExpanded(!1),a=i;break;case"SEP":if(a&&"CATEGORY"==a.tagName.toUpperCase()){o.add(new e.Toolbox.TreeSeparator(this.treeSeparatorConfig_));break}case"BLOCK":case"SHADOW":case"LABEL":case"BUTTON":o.blocks.push(i),a=i}return s},e.Toolbox.prototype.setColour_=function(t,o,n){if(null===(t=e.utils.replaceMessageReferences(t))||""===t)o.hexColour="";else{var i=Number(t);isNaN(i)?(i=e.utils.colour.parse(t))?(o.hexColour=i,this.hasColours_=!0):(o.hexColour="",console.warn('Toolbox category "'+n+'" has unrecognized colour attribute: '+t)):(o.hexColour=e.hueToHex(i),this.hasColours_=!0)}},e.Toolbox.prototype.setColourFromStyle_=function(e,t,o){t.styleName=e;var n=this.workspace_.getTheme();e&&n&&((n=n.getCategoryStyle(e))&&n.colour?this.setColour_(n.colour,t,o):console.warn('Style "'+e+'" must exist and contain a colour value'))},e.Toolbox.prototype.updateColourFromTheme_=function(e){if(e=e||this.tree_){e=e.getChildren(!1);for(var t,o=0;t=e[o];o++)t.styleName&&(this.setColourFromStyle_(t.styleName,t,""),this.addColour_()),this.updateColourFromTheme_(t)}},e.Toolbox.prototype.updateColourFromTheme=function(){var e=this.tree_;e&&(this.updateColourFromTheme_(e),this.updateSelectedItemColour_(e))},e.Toolbox.prototype.updateSelectedItemColour_=function(e){if(e=e.getSelectedItem()){var t=e.hexColour||"#57e";e.getRowElement().style.backgroundColor=t,this.addColour_(e)}},e.Toolbox.prototype.addColour_=function(e){e=(e||this.tree_).getChildren(!1);for(var t,o=0;t=e[o];o++){var n=t.getRowElement();if(n){var i=this.hasColours_?"8px solid "+(t.hexColour||"#ddd"):"none";this.workspace_.RTL?n.style.borderRight=i:n.style.borderLeft=i}this.addColour_(t)}},e.Toolbox.prototype.clearSelection=function(){this.tree_.setSelectedItem(null)},e.Toolbox.prototype.addStyle=function(t){e.utils.dom.addClass(this.HtmlDiv,t)},e.Toolbox.prototype.removeStyle=function(t){e.utils.dom.removeClass(this.HtmlDiv,t)},e.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv)return null;var t=this.HtmlDiv.getBoundingClientRect(),o=t.top,n=o+t.height,i=t.left;return t=i+t.width,this.toolboxPosition==e.TOOLBOX_AT_TOP?new e.utils.Rect(-1e7,n,-1e7,1e7):this.toolboxPosition==e.TOOLBOX_AT_BOTTOM?new e.utils.Rect(o,1e7,-1e7,1e7):this.toolboxPosition==e.TOOLBOX_AT_LEFT?new e.utils.Rect(-1e7,1e7,-1e7,t):new e.utils.Rect(-1e7,1e7,i,1e7)},e.Toolbox.prototype.refreshSelection=function(){var e=this.tree_.getSelectedItem();e&&e.blocks&&this.flyout_.show(e.blocks)},e.Toolbox.prototype.selectFirstCategory=function(){this.tree_.getSelectedItem()||this.tree_.selectFirst()},e.Toolbox.TreeSeparator=function(t){e.tree.TreeNode.call(this,null,"",t)},e.utils.object.inherits(e.Toolbox.TreeSeparator,e.tree.TreeNode),e.Css.register([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]),e.Trashcan=function(t){if(this.workspace_=t,this.contents_=[],!(0>=this.workspace_.options.maxTrashcanContents)){if(t={scrollbars:!0,disabledPatternId:this.workspace_.options.disabledPatternId,parentWorkspace:this.workspace_,RTL:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer},this.workspace_.horizontalLayout){if(t.toolboxPosition=this.workspace_.toolboxPosition==e.TOOLBOX_AT_TOP?e.TOOLBOX_AT_BOTTOM:e.TOOLBOX_AT_TOP,!e.HorizontalFlyout)throw Error("Missing require for Blockly.HorizontalFlyout");this.flyout_=new e.HorizontalFlyout(t)}else{if(t.toolboxPosition=this.workspace_.toolboxPosition==e.TOOLBOX_AT_RIGHT?e.TOOLBOX_AT_LEFT:e.TOOLBOX_AT_RIGHT,!e.VerticalFlyout)throw Error("Missing require for Blockly.VerticalFlyout");this.flyout_=new e.VerticalFlyout(t)}this.workspace_.addChangeListener(this.onDelete_.bind(this))}},e.Trashcan.prototype.WIDTH_=47,e.Trashcan.prototype.BODY_HEIGHT_=44,e.Trashcan.prototype.LID_HEIGHT_=16,e.Trashcan.prototype.MARGIN_BOTTOM_=20,e.Trashcan.prototype.MARGIN_SIDE_=20,e.Trashcan.prototype.MARGIN_HOTSPOT_=10,e.Trashcan.prototype.SPRITE_LEFT_=0,e.Trashcan.prototype.SPRITE_TOP_=32,e.Trashcan.prototype.HAS_BLOCKS_LID_ANGLE=.1,e.Trashcan.prototype.isOpen=!1,e.Trashcan.prototype.minOpenness_=0,e.Trashcan.prototype.svgGroup_=null,e.Trashcan.prototype.svgLid_=null,e.Trashcan.prototype.lidTask_=0,e.Trashcan.prototype.lidOpen_=0,e.Trashcan.prototype.left_=0,e.Trashcan.prototype.top_=0,e.Trashcan.prototype.createDom=function(){this.svgGroup_=e.utils.dom.createSvgElement("g",{class:"blocklyTrash"},null);var t=String(Math.random()).substring(2),o=e.utils.dom.createSvgElement("clipPath",{id:"blocklyTrashBodyClipPath"+t},this.svgGroup_);e.utils.dom.createSvgElement("rect",{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},o);var n=e.utils.dom.createSvgElement("image",{width:e.SPRITE.width,x:-this.SPRITE_LEFT_,height:e.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup_);return n.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.SPRITE.url),o=e.utils.dom.createSvgElement("clipPath",{id:"blocklyTrashLidClipPath"+t},this.svgGroup_),e.utils.dom.createSvgElement("rect",{width:this.WIDTH_,height:this.LID_HEIGHT_},o),this.svgLid_=e.utils.dom.createSvgElement("image",{width:e.SPRITE.width,x:-this.SPRITE_LEFT_,height:e.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup_),this.svgLid_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.SPRITE.url),e.bindEventWithChecks_(this.svgGroup_,"mouseup",this,this.click),e.bindEvent_(n,"mouseover",this,this.mouseOver_),e.bindEvent_(n,"mouseout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_},e.Trashcan.prototype.init=function(t){return 0<this.workspace_.options.maxTrashcanContents&&(e.utils.dom.insertAfter(this.flyout_.createDom("svg"),this.workspace_.getParentSvg()),this.flyout_.init(this.workspace_),this.flyout_.isBlockCreatable_=function(){return!0}),this.verticalSpacing_=this.MARGIN_BOTTOM_+t,this.setOpen_(!1),this.verticalSpacing_+this.BODY_HEIGHT_+this.LID_HEIGHT_},e.Trashcan.prototype.dispose=function(){this.svgGroup_&&(e.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,clearTimeout(this.lidTask_)},e.Trashcan.prototype.position=function(){if(this.verticalSpacing_){var t=this.workspace_.getMetrics();t&&(this.left_=t.toolboxPosition==e.TOOLBOX_AT_LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?t.viewWidth+t.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-e.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+e.Scrollbar.scrollbarThickness,this.top_=t.toolboxPosition==e.TOOLBOX_AT_BOTTOM?this.verticalSpacing_:t.viewHeight+t.absoluteTop-(this.BODY_HEIGHT_+this.LID_HEIGHT_)-this.verticalSpacing_,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))}},e.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var t=this.svgGroup_.getBoundingClientRect(),o=t.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_;return t=t.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_,new e.utils.Rect(o,o+this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_,t,t+this.WIDTH_+2*this.MARGIN_HOTSPOT_)},e.Trashcan.prototype.setOpen_=function(e){this.isOpen!=e&&(clearTimeout(this.lidTask_),this.isOpen=e,this.animateLid_())},e.Trashcan.prototype.animateLid_=function(){this.lidOpen_+=this.isOpen?.2:-.2,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(45*this.lidOpen_),this.svgGroup_.style.opacity=.4+.4*this.lidOpen_,this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),20))},e.Trashcan.prototype.setLidAngle_=function(t){var o=this.workspace_.toolboxPosition==e.TOOLBOX_AT_RIGHT||this.workspace_.horizontalLayout&&this.workspace_.RTL;this.svgLid_.setAttribute("transform","rotate("+(o?-t:t)+","+(o?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")")},e.Trashcan.prototype.close=function(){this.setOpen_(!1)},e.Trashcan.prototype.click=function(){if(this.contents_.length){for(var t,o=[],n=0;t=this.contents_[n];n++)o[n]=e.Xml.textToDom(t);this.flyout_.show(o)}},e.Trashcan.prototype.mouseOver_=function(){this.contents_.length&&this.setOpen_(!0)},e.Trashcan.prototype.mouseOut_=function(){this.setOpen_(!1)},e.Trashcan.prototype.onDelete_=function(t){if(!(0>=this.workspace_.options.maxTrashcanContents)&&t.type==e.Events.BLOCK_DELETE&&"shadow"!=t.oldXml.tagName.toLowerCase()&&(t=this.cleanBlockXML_(t.oldXml),-1==this.contents_.indexOf(t))){for(this.contents_.unshift(t);this.contents_.length>this.workspace_.options.maxTrashcanContents;)this.contents_.pop();this.minOpenness_=this.HAS_BLOCKS_LID_ANGLE,this.setLidAngle_(45*this.minOpenness_)}},e.Trashcan.prototype.cleanBlockXML_=function(t){for(var o=t=t.cloneNode(!0);o;){o.removeAttribute&&(o.removeAttribute("x"),o.removeAttribute("y"),o.removeAttribute("id"));var n=o.firstChild||o.nextSibling;if(!n)for(n=o.parentNode;n;){if(n.nextSibling){n=n.nextSibling;break}n=n.parentNode}o=n}return e.Xml.domToText(t)},e.VariablesDynamic={},e.VariablesDynamic.onCreateVariableButtonClick_String=function(t){e.Variables.createVariableButtonHandler(t.getTargetWorkspace(),null,"String")},e.VariablesDynamic.onCreateVariableButtonClick_Number=function(t){e.Variables.createVariableButtonHandler(t.getTargetWorkspace(),null,"Number")},e.VariablesDynamic.onCreateVariableButtonClick_Colour=function(t){e.Variables.createVariableButtonHandler(t.getTargetWorkspace(),null,"Colour")},e.VariablesDynamic.flyoutCategory=function(t){var o=[],n=document.createElement("button");return n.setAttribute("text",e.Msg.NEW_STRING_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),o.push(n),(n=document.createElement("button")).setAttribute("text",e.Msg.NEW_NUMBER_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),o.push(n),(n=document.createElement("button")).setAttribute("text",e.Msg.NEW_COLOUR_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),o.push(n),t.registerButtonCallback("CREATE_VARIABLE_STRING",e.VariablesDynamic.onCreateVariableButtonClick_String),t.registerButtonCallback("CREATE_VARIABLE_NUMBER",e.VariablesDynamic.onCreateVariableButtonClick_Number),t.registerButtonCallback("CREATE_VARIABLE_COLOUR",e.VariablesDynamic.onCreateVariableButtonClick_Colour),t=e.VariablesDynamic.flyoutCategoryBlocks(t),o.concat(t)},e.VariablesDynamic.flyoutCategoryBlocks=function(t){var o=[];if(0<(t=t.getAllVariables()).length){if(e.Blocks.variables_set_dynamic){var n=t[t.length-1],i=e.utils.xml.createElement("block");i.setAttribute("type","variables_set_dynamic"),i.setAttribute("gap",24),i.appendChild(e.Variables.generateVariableFieldDom(n)),o.push(i)}if(e.Blocks.variables_get_dynamic){t.sort(e.VariableModel.compareByName),n=0;for(var s;s=t[n];n++)(i=e.utils.xml.createElement("block")).setAttribute("type","variables_get_dynamic"),i.setAttribute("gap",8),i.appendChild(e.Variables.generateVariableFieldDom(s)),o.push(i)}}return o},e.ZoomControls=function(e){this.workspace_=e},e.ZoomControls.prototype.WIDTH_=32,e.ZoomControls.prototype.HEIGHT_=110,e.ZoomControls.prototype.MARGIN_BOTTOM_=20,e.ZoomControls.prototype.MARGIN_SIDE_=20,e.ZoomControls.prototype.svgGroup_=null,e.ZoomControls.prototype.left_=0,e.ZoomControls.prototype.top_=0,e.ZoomControls.prototype.createDom=function(){this.svgGroup_=e.utils.dom.createSvgElement("g",{},null);var t=String(Math.random()).substring(2);return this.createZoomOutSvg_(t),this.createZoomInSvg_(t),this.workspace_.isMovable()&&this.createZoomResetSvg_(t),this.svgGroup_},e.ZoomControls.prototype.init=function(e){return this.verticalSpacing_=this.MARGIN_BOTTOM_+e,this.verticalSpacing_+this.HEIGHT_},e.ZoomControls.prototype.dispose=function(){this.svgGroup_&&e.utils.dom.removeNode(this.svgGroup_)},e.ZoomControls.prototype.position=function(){if(this.verticalSpacing_){var t=this.workspace_.getMetrics();t&&(this.left_=t.toolboxPosition==e.TOOLBOX_AT_LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?t.viewWidth+t.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-e.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+e.Scrollbar.scrollbarThickness,t.toolboxPosition==e.TOOLBOX_AT_BOTTOM?(this.top_=this.verticalSpacing_,this.zoomInGroup_.setAttribute("transform","translate(0, 34)"),this.zoomResetGroup_&&this.zoomResetGroup_.setAttribute("transform","translate(0, 77)")):(this.top_=t.viewHeight+t.absoluteTop-this.HEIGHT_-this.verticalSpacing_,this.zoomInGroup_.setAttribute("transform","translate(0, 43)"),this.zoomOutGroup_.setAttribute("transform","translate(0, 77)")),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))}},e.ZoomControls.prototype.createZoomOutSvg_=function(t){var o=this.workspace_;this.zoomOutGroup_=e.utils.dom.createSvgElement("g",{class:"blocklyZoom"},this.svgGroup_);var n=e.utils.dom.createSvgElement("clipPath",{id:"blocklyZoomoutClipPath"+t},this.zoomOutGroup_);e.utils.dom.createSvgElement("rect",{width:32,height:32},n),(t=e.utils.dom.createSvgElement("image",{width:e.SPRITE.width,height:e.SPRITE.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+t+")"},this.zoomOutGroup_)).setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",o.options.pathToMedia+e.SPRITE.url),e.bindEventWithChecks_(t,"mousedown",null,(function(t){o.markFocused(),o.zoomCenter(-1),e.Touch.clearTouchIdentifier(),t.stopPropagation(),t.preventDefault()}))},e.ZoomControls.prototype.createZoomInSvg_=function(t){var o=this.workspace_;this.zoomInGroup_=e.utils.dom.createSvgElement("g",{class:"blocklyZoom"},this.svgGroup_);var n=e.utils.dom.createSvgElement("clipPath",{id:"blocklyZoominClipPath"+t},this.zoomInGroup_);e.utils.dom.createSvgElement("rect",{width:32,height:32},n),(t=e.utils.dom.createSvgElement("image",{width:e.SPRITE.width,height:e.SPRITE.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+t+")"},this.zoomInGroup_)).setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",o.options.pathToMedia+e.SPRITE.url),e.bindEventWithChecks_(t,"mousedown",null,(function(t){o.markFocused(),o.zoomCenter(1),e.Touch.clearTouchIdentifier(),t.stopPropagation(),t.preventDefault()}))},e.ZoomControls.prototype.createZoomResetSvg_=function(t){var o=this.workspace_;this.zoomResetGroup_=e.utils.dom.createSvgElement("g",{class:"blocklyZoom"},this.svgGroup_);var n=e.utils.dom.createSvgElement("clipPath",{id:"blocklyZoomresetClipPath"+t},this.zoomResetGroup_);e.utils.dom.createSvgElement("rect",{width:32,height:32},n),(t=e.utils.dom.createSvgElement("image",{width:e.SPRITE.width,height:e.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+t+")"},this.zoomResetGroup_)).setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",o.options.pathToMedia+e.SPRITE.url),e.bindEventWithChecks_(t,"mousedown",null,(function(t){o.markFocused(),o.setScale(o.options.zoomOptions.startScale),o.beginCanvasTransition(),o.scrollCenter(),setTimeout(o.endCanvasTransition.bind(o),500),e.Touch.clearTouchIdentifier(),t.stopPropagation(),t.preventDefault()}))},e.Css.register([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]),e.Themes.Dark={},e.Themes.Dark.defaultBlockStyles={colour_blocks:{colourPrimary:"#a5745b",colourSecondary:"#dbc7bd",colourTertiary:"#845d49"},list_blocks:{colourPrimary:"#745ba5",colourSecondary:"#c7bddb",colourTertiary:"#5d4984"},logic_blocks:{colourPrimary:"#5b80a5",colourSecondary:"#bdccdb",colourTertiary:"#496684"},loop_blocks:{colourPrimary:"#5ba55b",colourSecondary:"#bddbbd",colourTertiary:"#498449"},math_blocks:{colourPrimary:"#5b67a5",colourSecondary:"#bdc2db",colourTertiary:"#495284"},procedure_blocks:{colourPrimary:"#995ba5",colourSecondary:"#d6bddb",colourTertiary:"#7a4984"},text_blocks:{colourPrimary:"#5ba58c",colourSecondary:"#bddbd1",colourTertiary:"#498470"},variable_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a"},variable_dynamic_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a"},hat_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a",hat:"cap"}},e.Themes.Dark.categoryStyles={colour_category:{colour:"#a5745b"},list_category:{colour:"#745ba5"},logic_category:{colour:"#5b80a5"},loop_category:{colour:"#5ba55b"},math_category:{colour:"#5b67a5"},procedure_category:{colour:"#995ba5"},text_category:{colour:"#5ba58c"},variable_category:{colour:"#a55b99"},variable_dynamic_category:{colour:"#a55b99"}},e.Themes.Dark=new e.Theme(e.Themes.Dark.defaultBlockStyles,e.Themes.Dark.categoryStyles),e.Themes.Dark.setComponentStyle("workspace","#1e1e1e"),e.Themes.Dark.setComponentStyle("toolbox","#333"),e.Themes.Dark.setComponentStyle("toolboxText","#fff"),e.Themes.Dark.setComponentStyle("flyout","#252526"),e.Themes.Dark.setComponentStyle("flyoutText","#ccc"),e.Themes.Dark.setComponentStyle("flyoutOpacity",1),e.Themes.Dark.setComponentStyle("scrollbar","#797979"),e.Themes.Dark.setComponentStyle("scrollbarOpacity",.4),e.Themes.HighContrast={},e.Themes.HighContrast.defaultBlockStyles={colour_blocks:{colourPrimary:"#a52714",colourSecondary:"#FB9B8C",colourTertiary:"#FBE1DD"},list_blocks:{colourPrimary:"#4a148c",colourSecondary:"#AD7BE9",colourTertiary:"#CDB6E9"},logic_blocks:{colourPrimary:"#01579b",colourSecondary:"#64C7FF",colourTertiary:"#C5EAFF"},loop_blocks:{colourPrimary:"#33691e",colourSecondary:"#9AFF78",colourTertiary:"#E1FFD7"},math_blocks:{colourPrimary:"#1a237e",colourSecondary:"#8A9EFF",colourTertiary:"#DCE2FF"},procedure_blocks:{colourPrimary:"#006064",colourSecondary:"#77E6EE",colourTertiary:"#CFECEE"},text_blocks:{colourPrimary:"#004d40",colourSecondary:"#5ae27c",colourTertiary:"#D2FFDD"},variable_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},variable_dynamic_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},hat_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB",hat:"cap"}},e.Themes.HighContrast.categoryStyles={colour_category:{colour:"#a52714"},list_category:{colour:"#4a148c"},logic_category:{colour:"#01579b"},loop_category:{colour:"#33691e"},math_category:{colour:"#1a237e"},procedure_category:{colour:"#006064"},text_category:{colour:"#004d40"},variable_category:{colour:"#880e4f"},variable_dynamic_category:{colour:"#880e4f"}},e.Themes.HighContrast=new e.Theme(e.Themes.HighContrast.defaultBlockStyles,e.Themes.HighContrast.categoryStyles),e.Themes.Modern={},e.Themes.Modern.defaultBlockStyles={colour_blocks:{colourPrimary:"#a5745b",colourSecondary:"#dbc7bd",colourTertiary:"#845d49"},list_blocks:{colourPrimary:"#745ba5",colourSecondary:"#c7bddb",colourTertiary:"#5d4984"},logic_blocks:{colourPrimary:"#5b80a5",colourSecondary:"#bdccdb",colourTertiary:"#496684"},loop_blocks:{colourPrimary:"#5ba55b",colourSecondary:"#bddbbd",colourTertiary:"#498449"},math_blocks:{colourPrimary:"#5b67a5",colourSecondary:"#bdc2db",colourTertiary:"#495284"},procedure_blocks:{colourPrimary:"#995ba5",colourSecondary:"#d6bddb",colourTertiary:"#7a4984"},text_blocks:{colourPrimary:"#5ba58c",colourSecondary:"#bddbd1",colourTertiary:"#498470"},variable_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a"},variable_dynamic_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a"},hat_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a",hat:"cap"}},e.Themes.Modern.categoryStyles={colour_category:{colour:"#a5745b"},list_category:{colour:"#745ba5"},logic_category:{colour:"#1C2833"},loop_category:{colour:"#5ba55b"},math_category:{colour:"#5b67a5"},procedure_category:{colour:"#995ba5"},text_category:{colour:"#5ba58c"},variable_category:{colour:"#a55b99"},variable_dynamic_category:{colour:"#a55b99"}},e.Themes.Modern=new e.Theme(e.Themes.Modern.defaultBlockStyles,e.Themes.Modern.categoryStyles),e.requires={},e})?n.apply(t,i):n)||(e.exports=s)}).call(this,o(31))},81:function(e,t,o){e.exports=o.p+"static/media/back_button.7e5ad7e6.svg"},91:function(e,t,o){e.exports=o.p+"static/media/punto1.ce709d6c.png"},92:function(e,t,o){e.exports=o.p+"static/media/punto3.2ff6c12f.png"},93:function(e,t,o){e.exports=o.p+"static/media/punto4.d7b127cf.png"},94:function(e,t,o){e.exports=o.p+"static/media/punto5.796867ea.png"},95:function(e,t,o){e.exports=o.p+"static/media/punto2.ffec4ceb.png"},96:function(e,t,o){e.exports=o.p+"static/media/punto6.a49fedbc.png"},97:function(e,t,o){e.exports=o.p+"static/media/punto-1.d28357a8.png"},98:function(e,t,o){e.exports=o.p+"static/media/punto-2.6770a281.png"},99:function(e,t,o){e.exports=o.p+"static/media/punto-3.b167b44f.png"}},[[196,1,2]]]);
//# sourceMappingURL=main.41d04bf9.chunk.js.map